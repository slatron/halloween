(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();var Bo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function AP(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var El={},PP={get exports(){return El},set exports(t){El=t}},Mc={},fe={},OP={get exports(){return fe},set exports(t){fe=t}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xl=Symbol.for("react.element"),LP=Symbol.for("react.portal"),DP=Symbol.for("react.fragment"),MP=Symbol.for("react.strict_mode"),bP=Symbol.for("react.profiler"),FP=Symbol.for("react.provider"),UP=Symbol.for("react.context"),WP=Symbol.for("react.forward_ref"),zP=Symbol.for("react.suspense"),BP=Symbol.for("react.memo"),HP=Symbol.for("react.lazy"),sy=Symbol.iterator;function $P(t){return t===null||typeof t!="object"?null:(t=sy&&t[sy]||t["@@iterator"],typeof t=="function"?t:null)}var Ew={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Sw=Object.assign,Cw={};function oo(t,e,n){this.props=t,this.context=e,this.refs=Cw,this.updater=n||Ew}oo.prototype.isReactComponent={};oo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};oo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Iw(){}Iw.prototype=oo.prototype;function Up(t,e,n){this.props=t,this.context=e,this.refs=Cw,this.updater=n||Ew}var Wp=Up.prototype=new Iw;Wp.constructor=Up;Sw(Wp,oo.prototype);Wp.isPureReactComponent=!0;var oy=Array.isArray,Tw=Object.prototype.hasOwnProperty,zp={current:null},kw={key:!0,ref:!0,__self:!0,__source:!0};function Rw(t,e,n){var r,s={},l=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(l=""+e.key),e)Tw.call(e,r)&&!kw.hasOwnProperty(r)&&(s[r]=e[r]);var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){for(var d=Array(c),h=0;h<c;h++)d[h]=arguments[h+2];s.children=d}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)s[r]===void 0&&(s[r]=c[r]);return{$$typeof:Xl,type:t,key:l,ref:a,props:s,_owner:zp.current}}function VP(t,e){return{$$typeof:Xl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Bp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xl}function GP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ly=/\/+/g;function Md(t,e){return typeof t=="object"&&t!==null&&t.key!=null?GP(""+t.key):e.toString(36)}function Ru(t,e,n,r,s){var l=typeof t;(l==="undefined"||l==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(l){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Xl:case LP:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+Md(a,0):r,oy(s)?(n="",t!=null&&(n=t.replace(ly,"$&/")+"/"),Ru(s,e,n,"",function(h){return h})):s!=null&&(Bp(s)&&(s=VP(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(ly,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",oy(t))for(var c=0;c<t.length;c++){l=t[c];var d=r+Md(l,c);a+=Ru(l,e,n,d,s)}else if(d=$P(t),typeof d=="function")for(t=d.call(t),c=0;!(l=t.next()).done;)l=l.value,d=r+Md(l,c++),a+=Ru(l,e,n,d,s);else if(l==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function lu(t,e,n){if(t==null)return t;var r=[],s=0;return Ru(t,r,"","",function(l){return e.call(n,l,s++)}),r}function jP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xt={current:null},Nu={transition:null},KP={ReactCurrentDispatcher:xt,ReactCurrentBatchConfig:Nu,ReactCurrentOwner:zp};pe.Children={map:lu,forEach:function(t,e,n){lu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return lu(t,function(){e++}),e},toArray:function(t){return lu(t,function(e){return e})||[]},only:function(t){if(!Bp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};pe.Component=oo;pe.Fragment=DP;pe.Profiler=bP;pe.PureComponent=Up;pe.StrictMode=MP;pe.Suspense=zP;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KP;pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Sw({},t.props),s=t.key,l=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(l=e.ref,a=zp.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(d in e)Tw.call(e,d)&&!kw.hasOwnProperty(d)&&(r[d]=e[d]===void 0&&c!==void 0?c[d]:e[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){c=Array(d);for(var h=0;h<d;h++)c[h]=arguments[h+2];r.children=c}return{$$typeof:Xl,type:t.type,key:s,ref:l,props:r,_owner:a}};pe.createContext=function(t){return t={$$typeof:UP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:FP,_context:t},t.Consumer=t};pe.createElement=Rw;pe.createFactory=function(t){var e=Rw.bind(null,t);return e.type=t,e};pe.createRef=function(){return{current:null}};pe.forwardRef=function(t){return{$$typeof:WP,render:t}};pe.isValidElement=Bp;pe.lazy=function(t){return{$$typeof:HP,_payload:{_status:-1,_result:t},_init:jP}};pe.memo=function(t,e){return{$$typeof:BP,type:t,compare:e===void 0?null:e}};pe.startTransition=function(t){var e=Nu.transition;Nu.transition={};try{t()}finally{Nu.transition=e}};pe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};pe.useCallback=function(t,e){return xt.current.useCallback(t,e)};pe.useContext=function(t){return xt.current.useContext(t)};pe.useDebugValue=function(){};pe.useDeferredValue=function(t){return xt.current.useDeferredValue(t)};pe.useEffect=function(t,e){return xt.current.useEffect(t,e)};pe.useId=function(){return xt.current.useId()};pe.useImperativeHandle=function(t,e,n){return xt.current.useImperativeHandle(t,e,n)};pe.useInsertionEffect=function(t,e){return xt.current.useInsertionEffect(t,e)};pe.useLayoutEffect=function(t,e){return xt.current.useLayoutEffect(t,e)};pe.useMemo=function(t,e){return xt.current.useMemo(t,e)};pe.useReducer=function(t,e,n){return xt.current.useReducer(t,e,n)};pe.useRef=function(t){return xt.current.useRef(t)};pe.useState=function(t){return xt.current.useState(t)};pe.useSyncExternalStore=function(t,e,n){return xt.current.useSyncExternalStore(t,e,n)};pe.useTransition=function(){return xt.current.useTransition()};pe.version="18.2.0";(function(t){t.exports=pe})(OP);const YP=AP(fe);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qP=fe,QP=Symbol.for("react.element"),XP=Symbol.for("react.fragment"),JP=Object.prototype.hasOwnProperty,ZP=qP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eO={key:!0,ref:!0,__self:!0,__source:!0};function Nw(t,e,n){var r,s={},l=null,a=null;n!==void 0&&(l=""+n),e.key!==void 0&&(l=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)JP.call(e,r)&&!eO.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:QP,type:t,key:l,ref:a,props:s,_owner:ZP.current}}Mc.Fragment=XP;Mc.jsx=Nw;Mc.jsxs=Nw;(function(t){t.exports=Mc})(PP);const Hp=El.Fragment,q=El.jsx,Mt=El.jsxs;var Eh={},Sh={},tO={get exports(){return Sh},set exports(t){Sh=t}},tn={},Ch={},nO={get exports(){return Ch},set exports(t){Ch=t}},xw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,te){var ne=z.length;z.push(te);e:for(;0<ne;){var me=ne-1>>>1,Ke=z[me];if(0<s(Ke,te))z[me]=te,z[ne]=Ke,ne=me;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var te=z[0],ne=z.pop();if(ne!==te){z[0]=ne;e:for(var me=0,Ke=z.length,ts=Ke>>>1;me<ts;){var Xn=2*(me+1)-1,Un=z[Xn],rn=Xn+1,ns=z[rn];if(0>s(Un,ne))rn<Ke&&0>s(ns,Un)?(z[me]=ns,z[rn]=ne,me=rn):(z[me]=Un,z[Xn]=ne,me=Xn);else if(rn<Ke&&0>s(ns,ne))z[me]=ns,z[rn]=ne,me=rn;else break e}}return te}function s(z,te){var ne=z.sortIndex-te.sortIndex;return ne!==0?ne:z.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var d=[],h=[],v=1,m=null,y=3,R=!1,N=!1,P=!1,$=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(z){for(var te=n(h);te!==null;){if(te.callback===null)r(h);else if(te.startTime<=z)r(h),te.sortIndex=te.expirationTime,e(d,te);else break;te=n(h)}}function D(z){if(P=!1,I(z),!N)if(n(d)!==null)N=!0,_i(U);else{var te=n(h);te!==null&&yn(D,te.startTime-z)}}function U(z,te){N=!1,P&&(P=!1,C(j),j=-1),R=!0;var ne=y;try{for(I(te),m=n(d);m!==null&&(!(m.expirationTime>te)||z&&!Et());){var me=m.callback;if(typeof me=="function"){m.callback=null,y=m.priorityLevel;var Ke=me(m.expirationTime<=te);te=t.unstable_now(),typeof Ke=="function"?m.callback=Ke:m===n(d)&&r(d),I(te)}else r(d);m=n(d)}if(m!==null)var ts=!0;else{var Xn=n(h);Xn!==null&&yn(D,Xn.startTime-te),ts=!1}return ts}finally{m=null,y=ne,R=!1}}var H=!1,B=null,j=-1,ye=5,ie=-1;function Et(){return!(t.unstable_now()-ie<ye)}function Vt(){if(B!==null){var z=t.unstable_now();ie=z;var te=!0;try{te=B(!0,z)}finally{te?je():(H=!1,B=null)}}else H=!1}var je;if(typeof E=="function")je=function(){E(Vt)};else if(typeof MessageChannel<"u"){var gi=new MessageChannel,es=gi.port2;gi.port1.onmessage=Vt,je=function(){es.postMessage(null)}}else je=function(){$(Vt,0)};function _i(z){B=z,H||(H=!0,je())}function yn(z,te){j=$(function(){z(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){N||R||(N=!0,_i(U))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ye=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(z){switch(y){case 1:case 2:case 3:var te=3;break;default:te=y}var ne=y;y=te;try{return z()}finally{y=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,te){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ne=y;y=z;try{return te()}finally{y=ne}},t.unstable_scheduleCallback=function(z,te,ne){var me=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?me+ne:me):ne=me,z){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=ne+Ke,z={id:v++,callback:te,priorityLevel:z,startTime:ne,expirationTime:Ke,sortIndex:-1},ne>me?(z.sortIndex=ne,e(h,z),n(d)===null&&z===n(h)&&(P?(C(j),j=-1):P=!0,yn(D,ne-me))):(z.sortIndex=Ke,e(d,z),N||R||(N=!0,_i(U))),z},t.unstable_shouldYield=Et,t.unstable_wrapCallback=function(z){var te=y;return function(){var ne=y;y=te;try{return z.apply(this,arguments)}finally{y=ne}}}})(xw);(function(t){t.exports=xw})(nO);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aw=fe,en=Ch;function b(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Pw=new Set,Sl={};function Xi(t,e){js(t,e),js(t+"Capture",e)}function js(t,e){for(Sl[t]=e,t=0;t<e.length;t++)Pw.add(e[t])}var mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ih=Object.prototype.hasOwnProperty,rO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ay={},uy={};function iO(t){return Ih.call(uy,t)?!0:Ih.call(ay,t)?!1:rO.test(t)?uy[t]=!0:(ay[t]=!0,!1)}function sO(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function oO(t,e,n,r){if(e===null||typeof e>"u"||sO(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function At(t,e,n,r,s,l,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=l,this.removeEmptyString=a}var ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ft[t]=new At(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ft[e]=new At(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ft[t]=new At(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ft[t]=new At(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ft[t]=new At(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ft[t]=new At(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ft[t]=new At(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ft[t]=new At(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ft[t]=new At(t,5,!1,t.toLowerCase(),null,!1,!1)});var $p=/[\-:]([a-z])/g;function Vp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($p,Vp);ft[e]=new At(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($p,Vp);ft[e]=new At(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($p,Vp);ft[e]=new At(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ft[t]=new At(t,1,!1,t.toLowerCase(),null,!1,!1)});ft.xlinkHref=new At("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ft[t]=new At(t,1,!1,t.toLowerCase(),null,!0,!0)});function Gp(t,e,n,r){var s=ft.hasOwnProperty(e)?ft[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(oO(e,n,s,r)&&(n=null),r||s===null?iO(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Cr=Aw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,au=Symbol.for("react.element"),Es=Symbol.for("react.portal"),Ss=Symbol.for("react.fragment"),jp=Symbol.for("react.strict_mode"),Th=Symbol.for("react.profiler"),Ow=Symbol.for("react.provider"),Lw=Symbol.for("react.context"),Kp=Symbol.for("react.forward_ref"),kh=Symbol.for("react.suspense"),Rh=Symbol.for("react.suspense_list"),Yp=Symbol.for("react.memo"),br=Symbol.for("react.lazy"),Dw=Symbol.for("react.offscreen"),cy=Symbol.iterator;function Ho(t){return t===null||typeof t!="object"?null:(t=cy&&t[cy]||t["@@iterator"],typeof t=="function"?t:null)}var We=Object.assign,bd;function tl(t){if(bd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);bd=e&&e[1]||""}return`
`+bd+t}var Fd=!1;function Ud(t,e){if(!t||Fd)return"";Fd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var s=h.stack.split(`
`),l=r.stack.split(`
`),a=s.length-1,c=l.length-1;1<=a&&0<=c&&s[a]!==l[c];)c--;for(;1<=a&&0<=c;a--,c--)if(s[a]!==l[c]){if(a!==1||c!==1)do if(a--,c--,0>c||s[a]!==l[c]){var d=`
`+s[a].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=a&&0<=c);break}}}finally{Fd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?tl(t):""}function lO(t){switch(t.tag){case 5:return tl(t.type);case 16:return tl("Lazy");case 13:return tl("Suspense");case 19:return tl("SuspenseList");case 0:case 2:case 15:return t=Ud(t.type,!1),t;case 11:return t=Ud(t.type.render,!1),t;case 1:return t=Ud(t.type,!0),t;default:return""}}function Nh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ss:return"Fragment";case Es:return"Portal";case Th:return"Profiler";case jp:return"StrictMode";case kh:return"Suspense";case Rh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Lw:return(t.displayName||"Context")+".Consumer";case Ow:return(t._context.displayName||"Context")+".Provider";case Kp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Yp:return e=t.displayName||null,e!==null?e:Nh(t.type)||"Memo";case br:e=t._payload,t=t._init;try{return Nh(t(e))}catch{}}return null}function aO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nh(e);case 8:return e===jp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function oi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Mw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function uO(t){var e=Mw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,l=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,l.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function uu(t){t._valueTracker||(t._valueTracker=uO(t))}function bw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Mw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function $u(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xh(t,e){var n=e.checked;return We({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function fy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=oi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Fw(t,e){e=e.checked,e!=null&&Gp(t,"checked",e,!1)}function Ah(t,e){Fw(t,e);var n=oi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ph(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ph(t,e.type,oi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function dy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ph(t,e,n){(e!=="number"||$u(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var nl=Array.isArray;function Ms(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+oi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Oh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(b(91));return We({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function hy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(b(92));if(nl(n)){if(1<n.length)throw Error(b(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:oi(n)}}function Uw(t,e){var n=oi(e.value),r=oi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function py(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ww(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ww(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var cu,zw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(cu=cu||document.createElement("div"),cu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=cu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Cl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ll={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cO=["Webkit","ms","Moz","O"];Object.keys(ll).forEach(function(t){cO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ll[e]=ll[t]})});function Bw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ll.hasOwnProperty(t)&&ll[t]?(""+e).trim():e+"px"}function Hw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Bw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var fO=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dh(t,e){if(e){if(fO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(b(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(b(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(b(61))}if(e.style!=null&&typeof e.style!="object")throw Error(b(62))}}function Mh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bh=null;function qp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fh=null,bs=null,Fs=null;function gy(t){if(t=ea(t)){if(typeof Fh!="function")throw Error(b(280));var e=t.stateNode;e&&(e=zc(e),Fh(t.stateNode,t.type,e))}}function $w(t){bs?Fs?Fs.push(t):Fs=[t]:bs=t}function Vw(){if(bs){var t=bs,e=Fs;if(Fs=bs=null,gy(t),e)for(t=0;t<e.length;t++)gy(e[t])}}function Gw(t,e){return t(e)}function jw(){}var Wd=!1;function Kw(t,e,n){if(Wd)return t(e,n);Wd=!0;try{return Gw(t,e,n)}finally{Wd=!1,(bs!==null||Fs!==null)&&(jw(),Vw())}}function Il(t,e){var n=t.stateNode;if(n===null)return null;var r=zc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(b(231,e,typeof n));return n}var Uh=!1;if(mr)try{var $o={};Object.defineProperty($o,"passive",{get:function(){Uh=!0}}),window.addEventListener("test",$o,$o),window.removeEventListener("test",$o,$o)}catch{Uh=!1}function dO(t,e,n,r,s,l,a,c,d){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(v){this.onError(v)}}var al=!1,Vu=null,Gu=!1,Wh=null,hO={onError:function(t){al=!0,Vu=t}};function pO(t,e,n,r,s,l,a,c,d){al=!1,Vu=null,dO.apply(hO,arguments)}function gO(t,e,n,r,s,l,a,c,d){if(pO.apply(this,arguments),al){if(al){var h=Vu;al=!1,Vu=null}else throw Error(b(198));Gu||(Gu=!0,Wh=h)}}function Ji(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Yw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _y(t){if(Ji(t)!==t)throw Error(b(188))}function _O(t){var e=t.alternate;if(!e){if(e=Ji(t),e===null)throw Error(b(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var l=s.alternate;if(l===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return _y(s),t;if(l===r)return _y(s),e;l=l.sibling}throw Error(b(188))}if(n.return!==r.return)n=s,r=l;else{for(var a=!1,c=s.child;c;){if(c===n){a=!0,n=s,r=l;break}if(c===r){a=!0,r=s,n=l;break}c=c.sibling}if(!a){for(c=l.child;c;){if(c===n){a=!0,n=l,r=s;break}if(c===r){a=!0,r=l,n=s;break}c=c.sibling}if(!a)throw Error(b(189))}}if(n.alternate!==r)throw Error(b(190))}if(n.tag!==3)throw Error(b(188));return n.stateNode.current===n?t:e}function qw(t){return t=_O(t),t!==null?Qw(t):null}function Qw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Qw(t);if(e!==null)return e;t=t.sibling}return null}var Xw=en.unstable_scheduleCallback,my=en.unstable_cancelCallback,mO=en.unstable_shouldYield,vO=en.unstable_requestPaint,Ge=en.unstable_now,yO=en.unstable_getCurrentPriorityLevel,Qp=en.unstable_ImmediatePriority,Jw=en.unstable_UserBlockingPriority,ju=en.unstable_NormalPriority,wO=en.unstable_LowPriority,Zw=en.unstable_IdlePriority,bc=null,Gn=null;function EO(t){if(Gn&&typeof Gn.onCommitFiberRoot=="function")try{Gn.onCommitFiberRoot(bc,t,void 0,(t.current.flags&128)===128)}catch{}}var Ln=Math.clz32?Math.clz32:IO,SO=Math.log,CO=Math.LN2;function IO(t){return t>>>=0,t===0?32:31-(SO(t)/CO|0)|0}var fu=64,du=4194304;function rl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ku(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,l=t.pingedLanes,a=n&268435455;if(a!==0){var c=a&~s;c!==0?r=rl(c):(l&=a,l!==0&&(r=rl(l)))}else a=n&~s,a!==0?r=rl(a):l!==0&&(r=rl(l));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,l=e&-e,s>=l||s===16&&(l&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ln(e),s=1<<n,r|=t[n],e&=~s;return r}function TO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,l=t.pendingLanes;0<l;){var a=31-Ln(l),c=1<<a,d=s[a];d===-1?(!(c&n)||c&r)&&(s[a]=TO(c,e)):d<=e&&(t.expiredLanes|=c),l&=~c}}function zh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function eE(){var t=fu;return fu<<=1,!(fu&4194240)&&(fu=64),t}function zd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Jl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ln(e),t[e]=n}function RO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Ln(n),l=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~l}}function Xp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ln(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ce=0;function tE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var nE,Jp,rE,iE,sE,Bh=!1,hu=[],jr=null,Kr=null,Yr=null,Tl=new Map,kl=new Map,Ur=[],NO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vy(t,e){switch(t){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Yr=null;break;case"pointerover":case"pointerout":Tl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(e.pointerId)}}function Vo(t,e,n,r,s,l){return t===null||t.nativeEvent!==l?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[s]},e!==null&&(e=ea(e),e!==null&&Jp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function xO(t,e,n,r,s){switch(e){case"focusin":return jr=Vo(jr,t,e,n,r,s),!0;case"dragenter":return Kr=Vo(Kr,t,e,n,r,s),!0;case"mouseover":return Yr=Vo(Yr,t,e,n,r,s),!0;case"pointerover":var l=s.pointerId;return Tl.set(l,Vo(Tl.get(l)||null,t,e,n,r,s)),!0;case"gotpointercapture":return l=s.pointerId,kl.set(l,Vo(kl.get(l)||null,t,e,n,r,s)),!0}return!1}function oE(t){var e=Ai(t.target);if(e!==null){var n=Ji(e);if(n!==null){if(e=n.tag,e===13){if(e=Yw(n),e!==null){t.blockedOn=e,sE(t.priority,function(){rE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Hh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);bh=r,n.target.dispatchEvent(r),bh=null}else return e=ea(n),e!==null&&Jp(e),t.blockedOn=n,!1;e.shift()}return!0}function yy(t,e,n){xu(t)&&n.delete(e)}function AO(){Bh=!1,jr!==null&&xu(jr)&&(jr=null),Kr!==null&&xu(Kr)&&(Kr=null),Yr!==null&&xu(Yr)&&(Yr=null),Tl.forEach(yy),kl.forEach(yy)}function Go(t,e){t.blockedOn===e&&(t.blockedOn=null,Bh||(Bh=!0,en.unstable_scheduleCallback(en.unstable_NormalPriority,AO)))}function Rl(t){function e(s){return Go(s,t)}if(0<hu.length){Go(hu[0],t);for(var n=1;n<hu.length;n++){var r=hu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(jr!==null&&Go(jr,t),Kr!==null&&Go(Kr,t),Yr!==null&&Go(Yr,t),Tl.forEach(e),kl.forEach(e),n=0;n<Ur.length;n++)r=Ur[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ur.length&&(n=Ur[0],n.blockedOn===null);)oE(n),n.blockedOn===null&&Ur.shift()}var Us=Cr.ReactCurrentBatchConfig,Yu=!0;function PO(t,e,n,r){var s=Ce,l=Us.transition;Us.transition=null;try{Ce=1,Zp(t,e,n,r)}finally{Ce=s,Us.transition=l}}function OO(t,e,n,r){var s=Ce,l=Us.transition;Us.transition=null;try{Ce=4,Zp(t,e,n,r)}finally{Ce=s,Us.transition=l}}function Zp(t,e,n,r){if(Yu){var s=Hh(t,e,n,r);if(s===null)Qd(t,e,r,qu,n),vy(t,r);else if(xO(s,t,e,n,r))r.stopPropagation();else if(vy(t,r),e&4&&-1<NO.indexOf(t)){for(;s!==null;){var l=ea(s);if(l!==null&&nE(l),l=Hh(t,e,n,r),l===null&&Qd(t,e,r,qu,n),l===s)break;s=l}s!==null&&r.stopPropagation()}else Qd(t,e,r,null,n)}}var qu=null;function Hh(t,e,n,r){if(qu=null,t=qp(r),t=Ai(t),t!==null)if(e=Ji(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Yw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return qu=t,null}function lE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yO()){case Qp:return 1;case Jw:return 4;case ju:case wO:return 16;case Zw:return 536870912;default:return 16}default:return 16}}var Vr=null,eg=null,Au=null;function aE(){if(Au)return Au;var t,e=eg,n=e.length,r,s="value"in Vr?Vr.value:Vr.textContent,l=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[l-r];r++);return Au=s.slice(t,1<r?1-r:void 0)}function Pu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function pu(){return!0}function wy(){return!1}function nn(t){function e(n,r,s,l,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=l,this.target=a,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(l):l[c]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?pu:wy,this.isPropagationStopped=wy,this}return We(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=pu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=pu)},persist:function(){},isPersistent:pu}),e}var lo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tg=nn(lo),Zl=We({},lo,{view:0,detail:0}),LO=nn(Zl),Bd,Hd,jo,Fc=We({},Zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ng,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jo&&(jo&&t.type==="mousemove"?(Bd=t.screenX-jo.screenX,Hd=t.screenY-jo.screenY):Hd=Bd=0,jo=t),Bd)},movementY:function(t){return"movementY"in t?t.movementY:Hd}}),Ey=nn(Fc),DO=We({},Fc,{dataTransfer:0}),MO=nn(DO),bO=We({},Zl,{relatedTarget:0}),$d=nn(bO),FO=We({},lo,{animationName:0,elapsedTime:0,pseudoElement:0}),UO=nn(FO),WO=We({},lo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zO=nn(WO),BO=We({},lo,{data:0}),Sy=nn(BO),HO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$O={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=VO[t])?!!e[t]:!1}function ng(){return GO}var jO=We({},Zl,{key:function(t){if(t.key){var e=HO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Pu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$O[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ng,charCode:function(t){return t.type==="keypress"?Pu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),KO=nn(jO),YO=We({},Fc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cy=nn(YO),qO=We({},Zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ng}),QO=nn(qO),XO=We({},lo,{propertyName:0,elapsedTime:0,pseudoElement:0}),JO=nn(XO),ZO=We({},Fc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),eL=nn(ZO),tL=[9,13,27,32],rg=mr&&"CompositionEvent"in window,ul=null;mr&&"documentMode"in document&&(ul=document.documentMode);var nL=mr&&"TextEvent"in window&&!ul,uE=mr&&(!rg||ul&&8<ul&&11>=ul),Iy=String.fromCharCode(32),Ty=!1;function cE(t,e){switch(t){case"keyup":return tL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Cs=!1;function rL(t,e){switch(t){case"compositionend":return fE(e);case"keypress":return e.which!==32?null:(Ty=!0,Iy);case"textInput":return t=e.data,t===Iy&&Ty?null:t;default:return null}}function iL(t,e){if(Cs)return t==="compositionend"||!rg&&cE(t,e)?(t=aE(),Au=eg=Vr=null,Cs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return uE&&e.locale!=="ko"?null:e.data;default:return null}}var sL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ky(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!sL[t.type]:e==="textarea"}function dE(t,e,n,r){$w(r),e=Qu(e,"onChange"),0<e.length&&(n=new tg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var cl=null,Nl=null;function oL(t){CE(t,0)}function Uc(t){var e=ks(t);if(bw(e))return t}function lL(t,e){if(t==="change")return e}var hE=!1;if(mr){var Vd;if(mr){var Gd="oninput"in document;if(!Gd){var Ry=document.createElement("div");Ry.setAttribute("oninput","return;"),Gd=typeof Ry.oninput=="function"}Vd=Gd}else Vd=!1;hE=Vd&&(!document.documentMode||9<document.documentMode)}function Ny(){cl&&(cl.detachEvent("onpropertychange",pE),Nl=cl=null)}function pE(t){if(t.propertyName==="value"&&Uc(Nl)){var e=[];dE(e,Nl,t,qp(t)),Kw(oL,e)}}function aL(t,e,n){t==="focusin"?(Ny(),cl=e,Nl=n,cl.attachEvent("onpropertychange",pE)):t==="focusout"&&Ny()}function uL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uc(Nl)}function cL(t,e){if(t==="click")return Uc(e)}function fL(t,e){if(t==="input"||t==="change")return Uc(e)}function dL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bn=typeof Object.is=="function"?Object.is:dL;function xl(t,e){if(bn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ih.call(e,s)||!bn(t[s],e[s]))return!1}return!0}function xy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ay(t,e){var n=xy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xy(n)}}function gE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?gE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _E(){for(var t=window,e=$u();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=$u(t.document)}return e}function ig(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function hL(t){var e=_E(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&gE(n.ownerDocument.documentElement,n)){if(r!==null&&ig(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,l=Math.min(r.start,s);r=r.end===void 0?l:Math.min(r.end,s),!t.extend&&l>r&&(s=r,r=l,l=s),s=Ay(n,l);var a=Ay(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),l>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var pL=mr&&"documentMode"in document&&11>=document.documentMode,Is=null,$h=null,fl=null,Vh=!1;function Py(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vh||Is==null||Is!==$u(r)||(r=Is,"selectionStart"in r&&ig(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fl&&xl(fl,r)||(fl=r,r=Qu($h,"onSelect"),0<r.length&&(e=new tg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Is)))}function gu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ts={animationend:gu("Animation","AnimationEnd"),animationiteration:gu("Animation","AnimationIteration"),animationstart:gu("Animation","AnimationStart"),transitionend:gu("Transition","TransitionEnd")},jd={},mE={};mr&&(mE=document.createElement("div").style,"AnimationEvent"in window||(delete Ts.animationend.animation,delete Ts.animationiteration.animation,delete Ts.animationstart.animation),"TransitionEvent"in window||delete Ts.transitionend.transition);function Wc(t){if(jd[t])return jd[t];if(!Ts[t])return t;var e=Ts[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in mE)return jd[t]=e[n];return t}var vE=Wc("animationend"),yE=Wc("animationiteration"),wE=Wc("animationstart"),EE=Wc("transitionend"),SE=new Map,Oy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fi(t,e){SE.set(t,e),Xi(e,[t])}for(var Kd=0;Kd<Oy.length;Kd++){var Yd=Oy[Kd],gL=Yd.toLowerCase(),_L=Yd[0].toUpperCase()+Yd.slice(1);fi(gL,"on"+_L)}fi(vE,"onAnimationEnd");fi(yE,"onAnimationIteration");fi(wE,"onAnimationStart");fi("dblclick","onDoubleClick");fi("focusin","onFocus");fi("focusout","onBlur");fi(EE,"onTransitionEnd");js("onMouseEnter",["mouseout","mouseover"]);js("onMouseLeave",["mouseout","mouseover"]);js("onPointerEnter",["pointerout","pointerover"]);js("onPointerLeave",["pointerout","pointerover"]);Xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mL=new Set("cancel close invalid load scroll toggle".split(" ").concat(il));function Ly(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,gO(r,e,void 0,t),t.currentTarget=null}function CE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var l=void 0;if(e)for(var a=r.length-1;0<=a;a--){var c=r[a],d=c.instance,h=c.currentTarget;if(c=c.listener,d!==l&&s.isPropagationStopped())break e;Ly(s,c,h),l=d}else for(a=0;a<r.length;a++){if(c=r[a],d=c.instance,h=c.currentTarget,c=c.listener,d!==l&&s.isPropagationStopped())break e;Ly(s,c,h),l=d}}}if(Gu)throw t=Wh,Gu=!1,Wh=null,t}function Pe(t,e){var n=e[qh];n===void 0&&(n=e[qh]=new Set);var r=t+"__bubble";n.has(r)||(IE(e,t,2,!1),n.add(r))}function qd(t,e,n){var r=0;e&&(r|=4),IE(n,t,r,e)}var _u="_reactListening"+Math.random().toString(36).slice(2);function Al(t){if(!t[_u]){t[_u]=!0,Pw.forEach(function(n){n!=="selectionchange"&&(mL.has(n)||qd(n,!1,t),qd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_u]||(e[_u]=!0,qd("selectionchange",!1,e))}}function IE(t,e,n,r){switch(lE(e)){case 1:var s=PO;break;case 4:s=OO;break;default:s=Zp}n=s.bind(null,e,n,t),s=void 0,!Uh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Qd(t,e,n,r,s){var l=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var c=r.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var d=a.tag;if((d===3||d===4)&&(d=a.stateNode.containerInfo,d===s||d.nodeType===8&&d.parentNode===s))return;a=a.return}for(;c!==null;){if(a=Ai(c),a===null)return;if(d=a.tag,d===5||d===6){r=l=a;continue e}c=c.parentNode}}r=r.return}Kw(function(){var h=l,v=qp(n),m=[];e:{var y=SE.get(t);if(y!==void 0){var R=tg,N=t;switch(t){case"keypress":if(Pu(n)===0)break e;case"keydown":case"keyup":R=KO;break;case"focusin":N="focus",R=$d;break;case"focusout":N="blur",R=$d;break;case"beforeblur":case"afterblur":R=$d;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=Ey;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=MO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=QO;break;case vE:case yE:case wE:R=UO;break;case EE:R=JO;break;case"scroll":R=LO;break;case"wheel":R=eL;break;case"copy":case"cut":case"paste":R=zO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=Cy}var P=(e&4)!==0,$=!P&&t==="scroll",C=P?y!==null?y+"Capture":null:y;P=[];for(var E=h,I;E!==null;){I=E;var D=I.stateNode;if(I.tag===5&&D!==null&&(I=D,C!==null&&(D=Il(E,C),D!=null&&P.push(Pl(E,D,I)))),$)break;E=E.return}0<P.length&&(y=new R(y,N,null,n,v),m.push({event:y,listeners:P}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",R=t==="mouseout"||t==="pointerout",y&&n!==bh&&(N=n.relatedTarget||n.fromElement)&&(Ai(N)||N[vr]))break e;if((R||y)&&(y=v.window===v?v:(y=v.ownerDocument)?y.defaultView||y.parentWindow:window,R?(N=n.relatedTarget||n.toElement,R=h,N=N?Ai(N):null,N!==null&&($=Ji(N),N!==$||N.tag!==5&&N.tag!==6)&&(N=null)):(R=null,N=h),R!==N)){if(P=Ey,D="onMouseLeave",C="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(P=Cy,D="onPointerLeave",C="onPointerEnter",E="pointer"),$=R==null?y:ks(R),I=N==null?y:ks(N),y=new P(D,E+"leave",R,n,v),y.target=$,y.relatedTarget=I,D=null,Ai(v)===h&&(P=new P(C,E+"enter",N,n,v),P.target=I,P.relatedTarget=$,D=P),$=D,R&&N)t:{for(P=R,C=N,E=0,I=P;I;I=vs(I))E++;for(I=0,D=C;D;D=vs(D))I++;for(;0<E-I;)P=vs(P),E--;for(;0<I-E;)C=vs(C),I--;for(;E--;){if(P===C||C!==null&&P===C.alternate)break t;P=vs(P),C=vs(C)}P=null}else P=null;R!==null&&Dy(m,y,R,P,!1),N!==null&&$!==null&&Dy(m,$,N,P,!0)}}e:{if(y=h?ks(h):window,R=y.nodeName&&y.nodeName.toLowerCase(),R==="select"||R==="input"&&y.type==="file")var U=lL;else if(ky(y))if(hE)U=fL;else{U=uL;var H=aL}else(R=y.nodeName)&&R.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(U=cL);if(U&&(U=U(t,h))){dE(m,U,n,v);break e}H&&H(t,y,h),t==="focusout"&&(H=y._wrapperState)&&H.controlled&&y.type==="number"&&Ph(y,"number",y.value)}switch(H=h?ks(h):window,t){case"focusin":(ky(H)||H.contentEditable==="true")&&(Is=H,$h=h,fl=null);break;case"focusout":fl=$h=Is=null;break;case"mousedown":Vh=!0;break;case"contextmenu":case"mouseup":case"dragend":Vh=!1,Py(m,n,v);break;case"selectionchange":if(pL)break;case"keydown":case"keyup":Py(m,n,v)}var B;if(rg)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Cs?cE(t,n)&&(j="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(uE&&n.locale!=="ko"&&(Cs||j!=="onCompositionStart"?j==="onCompositionEnd"&&Cs&&(B=aE()):(Vr=v,eg="value"in Vr?Vr.value:Vr.textContent,Cs=!0)),H=Qu(h,j),0<H.length&&(j=new Sy(j,t,null,n,v),m.push({event:j,listeners:H}),B?j.data=B:(B=fE(n),B!==null&&(j.data=B)))),(B=nL?rL(t,n):iL(t,n))&&(h=Qu(h,"onBeforeInput"),0<h.length&&(v=new Sy("onBeforeInput","beforeinput",null,n,v),m.push({event:v,listeners:h}),v.data=B))}CE(m,e)})}function Pl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Qu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=Il(t,n),l!=null&&r.unshift(Pl(t,l,s)),l=Il(t,e),l!=null&&r.push(Pl(t,l,s))),t=t.return}return r}function vs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Dy(t,e,n,r,s){for(var l=e._reactName,a=[];n!==null&&n!==r;){var c=n,d=c.alternate,h=c.stateNode;if(d!==null&&d===r)break;c.tag===5&&h!==null&&(c=h,s?(d=Il(n,l),d!=null&&a.unshift(Pl(n,d,c))):s||(d=Il(n,l),d!=null&&a.push(Pl(n,d,c)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var vL=/\r\n?/g,yL=/\u0000|\uFFFD/g;function My(t){return(typeof t=="string"?t:""+t).replace(vL,`
`).replace(yL,"")}function mu(t,e,n){if(e=My(e),My(t)!==e&&n)throw Error(b(425))}function Xu(){}var Gh=null,jh=null;function Kh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Yh=typeof setTimeout=="function"?setTimeout:void 0,wL=typeof clearTimeout=="function"?clearTimeout:void 0,by=typeof Promise=="function"?Promise:void 0,EL=typeof queueMicrotask=="function"?queueMicrotask:typeof by<"u"?function(t){return by.resolve(null).then(t).catch(SL)}:Yh;function SL(t){setTimeout(function(){throw t})}function Xd(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Rl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Rl(e)}function qr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Fy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ao=Math.random().toString(36).slice(2),Vn="__reactFiber$"+ao,Ol="__reactProps$"+ao,vr="__reactContainer$"+ao,qh="__reactEvents$"+ao,CL="__reactListeners$"+ao,IL="__reactHandles$"+ao;function Ai(t){var e=t[Vn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[vr]||n[Vn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Fy(t);t!==null;){if(n=t[Vn])return n;t=Fy(t)}return e}t=n,n=t.parentNode}return null}function ea(t){return t=t[Vn]||t[vr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ks(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(b(33))}function zc(t){return t[Ol]||null}var Qh=[],Rs=-1;function di(t){return{current:t}}function Le(t){0>Rs||(t.current=Qh[Rs],Qh[Rs]=null,Rs--)}function xe(t,e){Rs++,Qh[Rs]=t.current,t.current=e}var li={},yt=di(li),Wt=di(!1),Wi=li;function Ks(t,e){var n=t.type.contextTypes;if(!n)return li;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in n)s[l]=e[l];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function zt(t){return t=t.childContextTypes,t!=null}function Ju(){Le(Wt),Le(yt)}function Uy(t,e,n){if(yt.current!==li)throw Error(b(168));xe(yt,e),xe(Wt,n)}function TE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(b(108,aO(t)||"Unknown",s));return We({},n,r)}function Zu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||li,Wi=yt.current,xe(yt,t),xe(Wt,Wt.current),!0}function Wy(t,e,n){var r=t.stateNode;if(!r)throw Error(b(169));n?(t=TE(t,e,Wi),r.__reactInternalMemoizedMergedChildContext=t,Le(Wt),Le(yt),xe(yt,t)):Le(Wt),xe(Wt,n)}var ur=null,Bc=!1,Jd=!1;function kE(t){ur===null?ur=[t]:ur.push(t)}function TL(t){Bc=!0,kE(t)}function hi(){if(!Jd&&ur!==null){Jd=!0;var t=0,e=Ce;try{var n=ur;for(Ce=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ur=null,Bc=!1}catch(s){throw ur!==null&&(ur=ur.slice(t+1)),Xw(Qp,hi),s}finally{Ce=e,Jd=!1}}return null}var Ns=[],xs=0,ec=null,tc=0,hn=[],pn=0,zi=null,cr=1,fr="";function ki(t,e){Ns[xs++]=tc,Ns[xs++]=ec,ec=t,tc=e}function RE(t,e,n){hn[pn++]=cr,hn[pn++]=fr,hn[pn++]=zi,zi=t;var r=cr;t=fr;var s=32-Ln(r)-1;r&=~(1<<s),n+=1;var l=32-Ln(e)+s;if(30<l){var a=s-s%5;l=(r&(1<<a)-1).toString(32),r>>=a,s-=a,cr=1<<32-Ln(e)+s|n<<s|r,fr=l+t}else cr=1<<l|n<<s|r,fr=t}function sg(t){t.return!==null&&(ki(t,1),RE(t,1,0))}function og(t){for(;t===ec;)ec=Ns[--xs],Ns[xs]=null,tc=Ns[--xs],Ns[xs]=null;for(;t===zi;)zi=hn[--pn],hn[pn]=null,fr=hn[--pn],hn[pn]=null,cr=hn[--pn],hn[pn]=null}var Zt=null,Jt=null,Me=!1,xn=null;function NE(t,e){var n=gn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function zy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Zt=t,Jt=qr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Zt=t,Jt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=zi!==null?{id:cr,overflow:fr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=gn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Zt=t,Jt=null,!0):!1;default:return!1}}function Xh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Jh(t){if(Me){var e=Jt;if(e){var n=e;if(!zy(t,e)){if(Xh(t))throw Error(b(418));e=qr(n.nextSibling);var r=Zt;e&&zy(t,e)?NE(r,n):(t.flags=t.flags&-4097|2,Me=!1,Zt=t)}}else{if(Xh(t))throw Error(b(418));t.flags=t.flags&-4097|2,Me=!1,Zt=t}}}function By(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zt=t}function vu(t){if(t!==Zt)return!1;if(!Me)return By(t),Me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Kh(t.type,t.memoizedProps)),e&&(e=Jt)){if(Xh(t))throw xE(),Error(b(418));for(;e;)NE(t,e),e=qr(e.nextSibling)}if(By(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(b(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Jt=qr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Jt=null}}else Jt=Zt?qr(t.stateNode.nextSibling):null;return!0}function xE(){for(var t=Jt;t;)t=qr(t.nextSibling)}function Ys(){Jt=Zt=null,Me=!1}function lg(t){xn===null?xn=[t]:xn.push(t)}var kL=Cr.ReactCurrentBatchConfig;function Rn(t,e){if(t&&t.defaultProps){e=We({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var nc=di(null),rc=null,As=null,ag=null;function ug(){ag=As=rc=null}function cg(t){var e=nc.current;Le(nc),t._currentValue=e}function Zh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ws(t,e){rc=t,ag=As=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ft=!0),t.firstContext=null)}function mn(t){var e=t._currentValue;if(ag!==t)if(t={context:t,memoizedValue:e,next:null},As===null){if(rc===null)throw Error(b(308));As=t,rc.dependencies={lanes:0,firstContext:t}}else As=As.next=t;return e}var Pi=null;function fg(t){Pi===null?Pi=[t]:Pi.push(t)}function AE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,fg(e)):(n.next=s.next,s.next=n),e.interleaved=n,yr(t,r)}function yr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Fr=!1;function dg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function PE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Qr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,_e&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,yr(t,n)}return s=r.interleaved,s===null?(e.next=e,fg(r)):(e.next=s.next,s.next=e),r.interleaved=e,yr(t,n)}function Ou(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xp(t,n)}}function Hy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?s=l=a:l=l.next=a,n=n.next}while(n!==null);l===null?s=l=e:l=l.next=e}else s=l=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ic(t,e,n,r){var s=t.updateQueue;Fr=!1;var l=s.firstBaseUpdate,a=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var d=c,h=d.next;d.next=null,a===null?l=h:a.next=h,a=d;var v=t.alternate;v!==null&&(v=v.updateQueue,c=v.lastBaseUpdate,c!==a&&(c===null?v.firstBaseUpdate=h:c.next=h,v.lastBaseUpdate=d))}if(l!==null){var m=s.baseState;a=0,v=h=d=null,c=l;do{var y=c.lane,R=c.eventTime;if((r&y)===y){v!==null&&(v=v.next={eventTime:R,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var N=t,P=c;switch(y=e,R=n,P.tag){case 1:if(N=P.payload,typeof N=="function"){m=N.call(R,m,y);break e}m=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=P.payload,y=typeof N=="function"?N.call(R,m,y):N,y==null)break e;m=We({},m,y);break e;case 2:Fr=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,y=s.effects,y===null?s.effects=[c]:y.push(c))}else R={eventTime:R,lane:y,tag:c.tag,payload:c.payload,callback:c.callback,next:null},v===null?(h=v=R,d=m):v=v.next=R,a|=y;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;y=c,c=y.next,y.next=null,s.lastBaseUpdate=y,s.shared.pending=null}}while(1);if(v===null&&(d=m),s.baseState=d,s.firstBaseUpdate=h,s.lastBaseUpdate=v,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else l===null&&(s.shared.lanes=0);Hi|=a,t.lanes=a,t.memoizedState=m}}function $y(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(b(191,s));s.call(r)}}}var OE=new Aw.Component().refs;function ep(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:We({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hc={isMounted:function(t){return(t=t._reactInternals)?Ji(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Nt(),s=Jr(t),l=gr(r,s);l.payload=e,n!=null&&(l.callback=n),e=Qr(t,l,s),e!==null&&(Dn(e,t,s,r),Ou(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Nt(),s=Jr(t),l=gr(r,s);l.tag=1,l.payload=e,n!=null&&(l.callback=n),e=Qr(t,l,s),e!==null&&(Dn(e,t,s,r),Ou(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Nt(),r=Jr(t),s=gr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Qr(t,s,r),e!==null&&(Dn(e,t,r,n),Ou(e,t,r))}};function Vy(t,e,n,r,s,l,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,l,a):e.prototype&&e.prototype.isPureReactComponent?!xl(n,r)||!xl(s,l):!0}function LE(t,e,n){var r=!1,s=li,l=e.contextType;return typeof l=="object"&&l!==null?l=mn(l):(s=zt(e)?Wi:yt.current,r=e.contextTypes,l=(r=r!=null)?Ks(t,s):li),e=new e(n,l),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=l),e}function Gy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Hc.enqueueReplaceState(e,e.state,null)}function tp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=OE,dg(t);var l=e.contextType;typeof l=="object"&&l!==null?s.context=mn(l):(l=zt(e)?Wi:yt.current,s.context=Ks(t,l)),s.state=t.memoizedState,l=e.getDerivedStateFromProps,typeof l=="function"&&(ep(t,e,l,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Hc.enqueueReplaceState(s,s.state,null),ic(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ko(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(b(309));var r=n.stateNode}if(!r)throw Error(b(147,t));var s=r,l=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===l?e.ref:(e=function(a){var c=s.refs;c===OE&&(c=s.refs={}),a===null?delete c[l]:c[l]=a},e._stringRef=l,e)}if(typeof t!="string")throw Error(b(284));if(!n._owner)throw Error(b(290,t))}return t}function yu(t,e){throw t=Object.prototype.toString.call(e),Error(b(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function jy(t){var e=t._init;return e(t._payload)}function DE(t){function e(C,E){if(t){var I=C.deletions;I===null?(C.deletions=[E],C.flags|=16):I.push(E)}}function n(C,E){if(!t)return null;for(;E!==null;)e(C,E),E=E.sibling;return null}function r(C,E){for(C=new Map;E!==null;)E.key!==null?C.set(E.key,E):C.set(E.index,E),E=E.sibling;return C}function s(C,E){return C=Zr(C,E),C.index=0,C.sibling=null,C}function l(C,E,I){return C.index=I,t?(I=C.alternate,I!==null?(I=I.index,I<E?(C.flags|=2,E):I):(C.flags|=2,E)):(C.flags|=1048576,E)}function a(C){return t&&C.alternate===null&&(C.flags|=2),C}function c(C,E,I,D){return E===null||E.tag!==6?(E=sh(I,C.mode,D),E.return=C,E):(E=s(E,I),E.return=C,E)}function d(C,E,I,D){var U=I.type;return U===Ss?v(C,E,I.props.children,D,I.key):E!==null&&(E.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===br&&jy(U)===E.type)?(D=s(E,I.props),D.ref=Ko(C,E,I),D.return=C,D):(D=Uu(I.type,I.key,I.props,null,C.mode,D),D.ref=Ko(C,E,I),D.return=C,D)}function h(C,E,I,D){return E===null||E.tag!==4||E.stateNode.containerInfo!==I.containerInfo||E.stateNode.implementation!==I.implementation?(E=oh(I,C.mode,D),E.return=C,E):(E=s(E,I.children||[]),E.return=C,E)}function v(C,E,I,D,U){return E===null||E.tag!==7?(E=bi(I,C.mode,D,U),E.return=C,E):(E=s(E,I),E.return=C,E)}function m(C,E,I){if(typeof E=="string"&&E!==""||typeof E=="number")return E=sh(""+E,C.mode,I),E.return=C,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case au:return I=Uu(E.type,E.key,E.props,null,C.mode,I),I.ref=Ko(C,null,E),I.return=C,I;case Es:return E=oh(E,C.mode,I),E.return=C,E;case br:var D=E._init;return m(C,D(E._payload),I)}if(nl(E)||Ho(E))return E=bi(E,C.mode,I,null),E.return=C,E;yu(C,E)}return null}function y(C,E,I,D){var U=E!==null?E.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return U!==null?null:c(C,E,""+I,D);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case au:return I.key===U?d(C,E,I,D):null;case Es:return I.key===U?h(C,E,I,D):null;case br:return U=I._init,y(C,E,U(I._payload),D)}if(nl(I)||Ho(I))return U!==null?null:v(C,E,I,D,null);yu(C,I)}return null}function R(C,E,I,D,U){if(typeof D=="string"&&D!==""||typeof D=="number")return C=C.get(I)||null,c(E,C,""+D,U);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case au:return C=C.get(D.key===null?I:D.key)||null,d(E,C,D,U);case Es:return C=C.get(D.key===null?I:D.key)||null,h(E,C,D,U);case br:var H=D._init;return R(C,E,I,H(D._payload),U)}if(nl(D)||Ho(D))return C=C.get(I)||null,v(E,C,D,U,null);yu(E,D)}return null}function N(C,E,I,D){for(var U=null,H=null,B=E,j=E=0,ye=null;B!==null&&j<I.length;j++){B.index>j?(ye=B,B=null):ye=B.sibling;var ie=y(C,B,I[j],D);if(ie===null){B===null&&(B=ye);break}t&&B&&ie.alternate===null&&e(C,B),E=l(ie,E,j),H===null?U=ie:H.sibling=ie,H=ie,B=ye}if(j===I.length)return n(C,B),Me&&ki(C,j),U;if(B===null){for(;j<I.length;j++)B=m(C,I[j],D),B!==null&&(E=l(B,E,j),H===null?U=B:H.sibling=B,H=B);return Me&&ki(C,j),U}for(B=r(C,B);j<I.length;j++)ye=R(B,C,j,I[j],D),ye!==null&&(t&&ye.alternate!==null&&B.delete(ye.key===null?j:ye.key),E=l(ye,E,j),H===null?U=ye:H.sibling=ye,H=ye);return t&&B.forEach(function(Et){return e(C,Et)}),Me&&ki(C,j),U}function P(C,E,I,D){var U=Ho(I);if(typeof U!="function")throw Error(b(150));if(I=U.call(I),I==null)throw Error(b(151));for(var H=U=null,B=E,j=E=0,ye=null,ie=I.next();B!==null&&!ie.done;j++,ie=I.next()){B.index>j?(ye=B,B=null):ye=B.sibling;var Et=y(C,B,ie.value,D);if(Et===null){B===null&&(B=ye);break}t&&B&&Et.alternate===null&&e(C,B),E=l(Et,E,j),H===null?U=Et:H.sibling=Et,H=Et,B=ye}if(ie.done)return n(C,B),Me&&ki(C,j),U;if(B===null){for(;!ie.done;j++,ie=I.next())ie=m(C,ie.value,D),ie!==null&&(E=l(ie,E,j),H===null?U=ie:H.sibling=ie,H=ie);return Me&&ki(C,j),U}for(B=r(C,B);!ie.done;j++,ie=I.next())ie=R(B,C,j,ie.value,D),ie!==null&&(t&&ie.alternate!==null&&B.delete(ie.key===null?j:ie.key),E=l(ie,E,j),H===null?U=ie:H.sibling=ie,H=ie);return t&&B.forEach(function(Vt){return e(C,Vt)}),Me&&ki(C,j),U}function $(C,E,I,D){if(typeof I=="object"&&I!==null&&I.type===Ss&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case au:e:{for(var U=I.key,H=E;H!==null;){if(H.key===U){if(U=I.type,U===Ss){if(H.tag===7){n(C,H.sibling),E=s(H,I.props.children),E.return=C,C=E;break e}}else if(H.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===br&&jy(U)===H.type){n(C,H.sibling),E=s(H,I.props),E.ref=Ko(C,H,I),E.return=C,C=E;break e}n(C,H);break}else e(C,H);H=H.sibling}I.type===Ss?(E=bi(I.props.children,C.mode,D,I.key),E.return=C,C=E):(D=Uu(I.type,I.key,I.props,null,C.mode,D),D.ref=Ko(C,E,I),D.return=C,C=D)}return a(C);case Es:e:{for(H=I.key;E!==null;){if(E.key===H)if(E.tag===4&&E.stateNode.containerInfo===I.containerInfo&&E.stateNode.implementation===I.implementation){n(C,E.sibling),E=s(E,I.children||[]),E.return=C,C=E;break e}else{n(C,E);break}else e(C,E);E=E.sibling}E=oh(I,C.mode,D),E.return=C,C=E}return a(C);case br:return H=I._init,$(C,E,H(I._payload),D)}if(nl(I))return N(C,E,I,D);if(Ho(I))return P(C,E,I,D);yu(C,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,E!==null&&E.tag===6?(n(C,E.sibling),E=s(E,I),E.return=C,C=E):(n(C,E),E=sh(I,C.mode,D),E.return=C,C=E),a(C)):n(C,E)}return $}var qs=DE(!0),ME=DE(!1),ta={},jn=di(ta),Ll=di(ta),Dl=di(ta);function Oi(t){if(t===ta)throw Error(b(174));return t}function hg(t,e){switch(xe(Dl,e),xe(Ll,t),xe(jn,ta),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Lh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Lh(e,t)}Le(jn),xe(jn,e)}function Qs(){Le(jn),Le(Ll),Le(Dl)}function bE(t){Oi(Dl.current);var e=Oi(jn.current),n=Lh(e,t.type);e!==n&&(xe(Ll,t),xe(jn,n))}function pg(t){Ll.current===t&&(Le(jn),Le(Ll))}var Fe=di(0);function sc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Zd=[];function gg(){for(var t=0;t<Zd.length;t++)Zd[t]._workInProgressVersionPrimary=null;Zd.length=0}var Lu=Cr.ReactCurrentDispatcher,eh=Cr.ReactCurrentBatchConfig,Bi=0,Ue=null,Xe=null,rt=null,oc=!1,dl=!1,Ml=0,RL=0;function gt(){throw Error(b(321))}function _g(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!bn(t[n],e[n]))return!1;return!0}function mg(t,e,n,r,s,l){if(Bi=l,Ue=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Lu.current=t===null||t.memoizedState===null?PL:OL,t=n(r,s),dl){l=0;do{if(dl=!1,Ml=0,25<=l)throw Error(b(301));l+=1,rt=Xe=null,e.updateQueue=null,Lu.current=LL,t=n(r,s)}while(dl)}if(Lu.current=lc,e=Xe!==null&&Xe.next!==null,Bi=0,rt=Xe=Ue=null,oc=!1,e)throw Error(b(300));return t}function vg(){var t=Ml!==0;return Ml=0,t}function $n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?Ue.memoizedState=rt=t:rt=rt.next=t,rt}function vn(){if(Xe===null){var t=Ue.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var e=rt===null?Ue.memoizedState:rt.next;if(e!==null)rt=e,Xe=t;else{if(t===null)throw Error(b(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},rt===null?Ue.memoizedState=rt=t:rt=rt.next=t}return rt}function bl(t,e){return typeof e=="function"?e(t):e}function th(t){var e=vn(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var r=Xe,s=r.baseQueue,l=n.pending;if(l!==null){if(s!==null){var a=s.next;s.next=l.next,l.next=a}r.baseQueue=s=l,n.pending=null}if(s!==null){l=s.next,r=r.baseState;var c=a=null,d=null,h=l;do{var v=h.lane;if((Bi&v)===v)d!==null&&(d=d.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var m={lane:v,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};d===null?(c=d=m,a=r):d=d.next=m,Ue.lanes|=v,Hi|=v}h=h.next}while(h!==null&&h!==l);d===null?a=r:d.next=c,bn(r,e.memoizedState)||(Ft=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=d,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do l=s.lane,Ue.lanes|=l,Hi|=l,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function nh(t){var e=vn(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,l=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do l=t(l,a.action),a=a.next;while(a!==s);bn(l,e.memoizedState)||(Ft=!0),e.memoizedState=l,e.baseQueue===null&&(e.baseState=l),n.lastRenderedState=l}return[l,r]}function FE(){}function UE(t,e){var n=Ue,r=vn(),s=e(),l=!bn(r.memoizedState,s);if(l&&(r.memoizedState=s,Ft=!0),r=r.queue,yg(BE.bind(null,n,r,t),[t]),r.getSnapshot!==e||l||rt!==null&&rt.memoizedState.tag&1){if(n.flags|=2048,Fl(9,zE.bind(null,n,r,s,e),void 0,null),ot===null)throw Error(b(349));Bi&30||WE(n,e,s)}return s}function WE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function zE(t,e,n,r){e.value=n,e.getSnapshot=r,HE(e)&&$E(t)}function BE(t,e,n){return n(function(){HE(e)&&$E(t)})}function HE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bn(t,n)}catch{return!0}}function $E(t){var e=yr(t,1);e!==null&&Dn(e,t,1,-1)}function Ky(t){var e=$n();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:t},e.queue=t,t=t.dispatch=AL.bind(null,Ue,t),[e.memoizedState,t]}function Fl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function VE(){return vn().memoizedState}function Du(t,e,n,r){var s=$n();Ue.flags|=t,s.memoizedState=Fl(1|e,n,void 0,r===void 0?null:r)}function $c(t,e,n,r){var s=vn();r=r===void 0?null:r;var l=void 0;if(Xe!==null){var a=Xe.memoizedState;if(l=a.destroy,r!==null&&_g(r,a.deps)){s.memoizedState=Fl(e,n,l,r);return}}Ue.flags|=t,s.memoizedState=Fl(1|e,n,l,r)}function Yy(t,e){return Du(8390656,8,t,e)}function yg(t,e){return $c(2048,8,t,e)}function GE(t,e){return $c(4,2,t,e)}function jE(t,e){return $c(4,4,t,e)}function KE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function YE(t,e,n){return n=n!=null?n.concat([t]):null,$c(4,4,KE.bind(null,e,t),n)}function wg(){}function qE(t,e){var n=vn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_g(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function QE(t,e){var n=vn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_g(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function XE(t,e,n){return Bi&21?(bn(n,e)||(n=eE(),Ue.lanes|=n,Hi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ft=!0),t.memoizedState=n)}function NL(t,e){var n=Ce;Ce=n!==0&&4>n?n:4,t(!0);var r=eh.transition;eh.transition={};try{t(!1),e()}finally{Ce=n,eh.transition=r}}function JE(){return vn().memoizedState}function xL(t,e,n){var r=Jr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ZE(t))e1(e,n);else if(n=AE(t,e,n,r),n!==null){var s=Nt();Dn(n,t,r,s),t1(n,e,r)}}function AL(t,e,n){var r=Jr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ZE(t))e1(e,s);else{var l=t.alternate;if(t.lanes===0&&(l===null||l.lanes===0)&&(l=e.lastRenderedReducer,l!==null))try{var a=e.lastRenderedState,c=l(a,n);if(s.hasEagerState=!0,s.eagerState=c,bn(c,a)){var d=e.interleaved;d===null?(s.next=s,fg(e)):(s.next=d.next,d.next=s),e.interleaved=s;return}}catch{}finally{}n=AE(t,e,s,r),n!==null&&(s=Nt(),Dn(n,t,r,s),t1(n,e,r))}}function ZE(t){var e=t.alternate;return t===Ue||e!==null&&e===Ue}function e1(t,e){dl=oc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function t1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xp(t,n)}}var lc={readContext:mn,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useInsertionEffect:gt,useLayoutEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useMutableSource:gt,useSyncExternalStore:gt,useId:gt,unstable_isNewReconciler:!1},PL={readContext:mn,useCallback:function(t,e){return $n().memoizedState=[t,e===void 0?null:e],t},useContext:mn,useEffect:Yy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Du(4194308,4,KE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Du(4194308,4,t,e)},useInsertionEffect:function(t,e){return Du(4,2,t,e)},useMemo:function(t,e){var n=$n();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=$n();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=xL.bind(null,Ue,t),[r.memoizedState,t]},useRef:function(t){var e=$n();return t={current:t},e.memoizedState=t},useState:Ky,useDebugValue:wg,useDeferredValue:function(t){return $n().memoizedState=t},useTransition:function(){var t=Ky(!1),e=t[0];return t=NL.bind(null,t[1]),$n().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ue,s=$n();if(Me){if(n===void 0)throw Error(b(407));n=n()}else{if(n=e(),ot===null)throw Error(b(349));Bi&30||WE(r,e,n)}s.memoizedState=n;var l={value:n,getSnapshot:e};return s.queue=l,Yy(BE.bind(null,r,l,t),[t]),r.flags|=2048,Fl(9,zE.bind(null,r,l,n,e),void 0,null),n},useId:function(){var t=$n(),e=ot.identifierPrefix;if(Me){var n=fr,r=cr;n=(r&~(1<<32-Ln(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ml++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=RL++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},OL={readContext:mn,useCallback:qE,useContext:mn,useEffect:yg,useImperativeHandle:YE,useInsertionEffect:GE,useLayoutEffect:jE,useMemo:QE,useReducer:th,useRef:VE,useState:function(){return th(bl)},useDebugValue:wg,useDeferredValue:function(t){var e=vn();return XE(e,Xe.memoizedState,t)},useTransition:function(){var t=th(bl)[0],e=vn().memoizedState;return[t,e]},useMutableSource:FE,useSyncExternalStore:UE,useId:JE,unstable_isNewReconciler:!1},LL={readContext:mn,useCallback:qE,useContext:mn,useEffect:yg,useImperativeHandle:YE,useInsertionEffect:GE,useLayoutEffect:jE,useMemo:QE,useReducer:nh,useRef:VE,useState:function(){return nh(bl)},useDebugValue:wg,useDeferredValue:function(t){var e=vn();return Xe===null?e.memoizedState=t:XE(e,Xe.memoizedState,t)},useTransition:function(){var t=nh(bl)[0],e=vn().memoizedState;return[t,e]},useMutableSource:FE,useSyncExternalStore:UE,useId:JE,unstable_isNewReconciler:!1};function Xs(t,e){try{var n="",r=e;do n+=lO(r),r=r.return;while(r);var s=n}catch(l){s=`
Error generating stack: `+l.message+`
`+l.stack}return{value:t,source:e,stack:s,digest:null}}function rh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function np(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var DL=typeof WeakMap=="function"?WeakMap:Map;function n1(t,e,n){n=gr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){uc||(uc=!0,dp=r),np(t,e)},n}function r1(t,e,n){n=gr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){np(t,e)}}var l=t.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){np(t,e),typeof r!="function"&&(Xr===null?Xr=new Set([this]):Xr.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function qy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new DL;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=YL.bind(null,t,e,n),e.then(t,t))}function Qy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Xy(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gr(-1,1),e.tag=2,Qr(n,e,1))),n.lanes|=1),t)}var ML=Cr.ReactCurrentOwner,Ft=!1;function Tt(t,e,n,r){e.child=t===null?ME(e,null,n,r):qs(e,t.child,n,r)}function Jy(t,e,n,r,s){n=n.render;var l=e.ref;return Ws(e,s),r=mg(t,e,n,r,l,s),n=vg(),t!==null&&!Ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,wr(t,e,s)):(Me&&n&&sg(e),e.flags|=1,Tt(t,e,r,s),e.child)}function Zy(t,e,n,r,s){if(t===null){var l=n.type;return typeof l=="function"&&!Ng(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=l,i1(t,e,l,r,s)):(t=Uu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(l=t.child,!(t.lanes&s)){var a=l.memoizedProps;if(n=n.compare,n=n!==null?n:xl,n(a,r)&&t.ref===e.ref)return wr(t,e,s)}return e.flags|=1,t=Zr(l,r),t.ref=e.ref,t.return=e,e.child=t}function i1(t,e,n,r,s){if(t!==null){var l=t.memoizedProps;if(xl(l,r)&&t.ref===e.ref)if(Ft=!1,e.pendingProps=r=l,(t.lanes&s)!==0)t.flags&131072&&(Ft=!0);else return e.lanes=t.lanes,wr(t,e,s)}return rp(t,e,n,r,s)}function s1(t,e,n){var r=e.pendingProps,s=r.children,l=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(Os,Xt),Xt|=n;else{if(!(n&1073741824))return t=l!==null?l.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,xe(Os,Xt),Xt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,xe(Os,Xt),Xt|=r}else l!==null?(r=l.baseLanes|n,e.memoizedState=null):r=n,xe(Os,Xt),Xt|=r;return Tt(t,e,s,n),e.child}function o1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function rp(t,e,n,r,s){var l=zt(n)?Wi:yt.current;return l=Ks(e,l),Ws(e,s),n=mg(t,e,n,r,l,s),r=vg(),t!==null&&!Ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,wr(t,e,s)):(Me&&r&&sg(e),e.flags|=1,Tt(t,e,n,s),e.child)}function e0(t,e,n,r,s){if(zt(n)){var l=!0;Zu(e)}else l=!1;if(Ws(e,s),e.stateNode===null)Mu(t,e),LE(e,n,r),tp(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,c=e.memoizedProps;a.props=c;var d=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=mn(h):(h=zt(n)?Wi:yt.current,h=Ks(e,h));var v=n.getDerivedStateFromProps,m=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==r||d!==h)&&Gy(e,a,r,h),Fr=!1;var y=e.memoizedState;a.state=y,ic(e,r,a,s),d=e.memoizedState,c!==r||y!==d||Wt.current||Fr?(typeof v=="function"&&(ep(e,n,v,r),d=e.memoizedState),(c=Fr||Vy(e,n,c,r,y,d,h))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=d),a.props=r,a.state=d,a.context=h,r=c):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,PE(t,e),c=e.memoizedProps,h=e.type===e.elementType?c:Rn(e.type,c),a.props=h,m=e.pendingProps,y=a.context,d=n.contextType,typeof d=="object"&&d!==null?d=mn(d):(d=zt(n)?Wi:yt.current,d=Ks(e,d));var R=n.getDerivedStateFromProps;(v=typeof R=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==m||y!==d)&&Gy(e,a,r,d),Fr=!1,y=e.memoizedState,a.state=y,ic(e,r,a,s);var N=e.memoizedState;c!==m||y!==N||Wt.current||Fr?(typeof R=="function"&&(ep(e,n,R,r),N=e.memoizedState),(h=Fr||Vy(e,n,h,r,y,N,d)||!1)?(v||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,N,d),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,N,d)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=N),a.props=r,a.state=N,a.context=d,r=h):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return ip(t,e,n,r,l,s)}function ip(t,e,n,r,s,l){o1(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&Wy(e,n,!1),wr(t,e,l);r=e.stateNode,ML.current=e;var c=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=qs(e,t.child,null,l),e.child=qs(e,null,c,l)):Tt(t,e,c,l),e.memoizedState=r.state,s&&Wy(e,n,!0),e.child}function l1(t){var e=t.stateNode;e.pendingContext?Uy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Uy(t,e.context,!1),hg(t,e.containerInfo)}function t0(t,e,n,r,s){return Ys(),lg(s),e.flags|=256,Tt(t,e,n,r),e.child}var sp={dehydrated:null,treeContext:null,retryLane:0};function op(t){return{baseLanes:t,cachePool:null,transitions:null}}function a1(t,e,n){var r=e.pendingProps,s=Fe.current,l=!1,a=(e.flags&128)!==0,c;if((c=a)||(c=t!==null&&t.memoizedState===null?!1:(s&2)!==0),c?(l=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),xe(Fe,s&1),t===null)return Jh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,l?(r=e.mode,l=e.child,a={mode:"hidden",children:a},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=a):l=jc(a,r,0,null),t=bi(t,r,n,null),l.return=e,t.return=e,l.sibling=t,e.child=l,e.child.memoizedState=op(n),e.memoizedState=sp,t):Eg(e,a));if(s=t.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return bL(t,e,a,r,c,s,n);if(l){l=r.fallback,a=e.mode,s=t.child,c=s.sibling;var d={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=d,e.deletions=null):(r=Zr(s,d),r.subtreeFlags=s.subtreeFlags&14680064),c!==null?l=Zr(c,l):(l=bi(l,a,n,null),l.flags|=2),l.return=e,r.return=e,r.sibling=l,e.child=r,r=l,l=e.child,a=t.child.memoizedState,a=a===null?op(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},l.memoizedState=a,l.childLanes=t.childLanes&~n,e.memoizedState=sp,r}return l=t.child,t=l.sibling,r=Zr(l,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Eg(t,e){return e=jc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function wu(t,e,n,r){return r!==null&&lg(r),qs(e,t.child,null,n),t=Eg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function bL(t,e,n,r,s,l,a){if(n)return e.flags&256?(e.flags&=-257,r=rh(Error(b(422))),wu(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(l=r.fallback,s=e.mode,r=jc({mode:"visible",children:r.children},s,0,null),l=bi(l,s,a,null),l.flags|=2,r.return=e,l.return=e,r.sibling=l,e.child=r,e.mode&1&&qs(e,t.child,null,a),e.child.memoizedState=op(a),e.memoizedState=sp,l);if(!(e.mode&1))return wu(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var c=r.dgst;return r=c,l=Error(b(419)),r=rh(l,r,void 0),wu(t,e,a,r)}if(c=(a&t.childLanes)!==0,Ft||c){if(r=ot,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,yr(t,s),Dn(r,t,s,-1))}return Rg(),r=rh(Error(b(421))),wu(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=qL.bind(null,t),s._reactRetry=e,null):(t=l.treeContext,Jt=qr(s.nextSibling),Zt=e,Me=!0,xn=null,t!==null&&(hn[pn++]=cr,hn[pn++]=fr,hn[pn++]=zi,cr=t.id,fr=t.overflow,zi=e),e=Eg(e,r.children),e.flags|=4096,e)}function n0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Zh(t.return,e,n)}function ih(t,e,n,r,s){var l=t.memoizedState;l===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(l.isBackwards=e,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=s)}function u1(t,e,n){var r=e.pendingProps,s=r.revealOrder,l=r.tail;if(Tt(t,e,r.children,n),r=Fe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&n0(t,n,e);else if(t.tag===19)n0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(xe(Fe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&sc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),ih(e,!1,s,n,l);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&sc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}ih(e,!0,n,null,l);break;case"together":ih(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Mu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function wr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Hi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(b(153));if(e.child!==null){for(t=e.child,n=Zr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Zr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function FL(t,e,n){switch(e.tag){case 3:l1(e),Ys();break;case 5:bE(e);break;case 1:zt(e.type)&&Zu(e);break;case 4:hg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;xe(nc,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(xe(Fe,Fe.current&1),e.flags|=128,null):n&e.child.childLanes?a1(t,e,n):(xe(Fe,Fe.current&1),t=wr(t,e,n),t!==null?t.sibling:null);xe(Fe,Fe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return u1(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),xe(Fe,Fe.current),r)break;return null;case 22:case 23:return e.lanes=0,s1(t,e,n)}return wr(t,e,n)}var c1,lp,f1,d1;c1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};lp=function(){};f1=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Oi(jn.current);var l=null;switch(n){case"input":s=xh(t,s),r=xh(t,r),l=[];break;case"select":s=We({},s,{value:void 0}),r=We({},r,{value:void 0}),l=[];break;case"textarea":s=Oh(t,s),r=Oh(t,r),l=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Xu)}Dh(n,r);var a;n=null;for(h in s)if(!r.hasOwnProperty(h)&&s.hasOwnProperty(h)&&s[h]!=null)if(h==="style"){var c=s[h];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Sl.hasOwnProperty(h)?l||(l=[]):(l=l||[]).push(h,null));for(h in r){var d=r[h];if(c=s!=null?s[h]:void 0,r.hasOwnProperty(h)&&d!==c&&(d!=null||c!=null))if(h==="style")if(c){for(a in c)!c.hasOwnProperty(a)||d&&d.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in d)d.hasOwnProperty(a)&&c[a]!==d[a]&&(n||(n={}),n[a]=d[a])}else n||(l||(l=[]),l.push(h,n)),n=d;else h==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,c=c?c.__html:void 0,d!=null&&c!==d&&(l=l||[]).push(h,d)):h==="children"?typeof d!="string"&&typeof d!="number"||(l=l||[]).push(h,""+d):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Sl.hasOwnProperty(h)?(d!=null&&h==="onScroll"&&Pe("scroll",t),l||c===d||(l=[])):(l=l||[]).push(h,d))}n&&(l=l||[]).push("style",n);var h=l;(e.updateQueue=h)&&(e.flags|=4)}};d1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Yo(t,e){if(!Me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function _t(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function UL(t,e,n){var r=e.pendingProps;switch(og(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(e),null;case 1:return zt(e.type)&&Ju(),_t(e),null;case 3:return r=e.stateNode,Qs(),Le(Wt),Le(yt),gg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(vu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xn!==null&&(gp(xn),xn=null))),lp(t,e),_t(e),null;case 5:pg(e);var s=Oi(Dl.current);if(n=e.type,t!==null&&e.stateNode!=null)f1(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(b(166));return _t(e),null}if(t=Oi(jn.current),vu(e)){r=e.stateNode,n=e.type;var l=e.memoizedProps;switch(r[Vn]=e,r[Ol]=l,t=(e.mode&1)!==0,n){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(s=0;s<il.length;s++)Pe(il[s],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":fy(r,l),Pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},Pe("invalid",r);break;case"textarea":hy(r,l),Pe("invalid",r)}Dh(n,l),s=null;for(var a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="children"?typeof c=="string"?r.textContent!==c&&(l.suppressHydrationWarning!==!0&&mu(r.textContent,c,t),s=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(l.suppressHydrationWarning!==!0&&mu(r.textContent,c,t),s=["children",""+c]):Sl.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&Pe("scroll",r)}switch(n){case"input":uu(r),dy(r,l,!0);break;case"textarea":uu(r),py(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=Xu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ww(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Vn]=e,t[Ol]=r,c1(t,e,!1,!1),e.stateNode=t;e:{switch(a=Mh(n,r),n){case"dialog":Pe("cancel",t),Pe("close",t),s=r;break;case"iframe":case"object":case"embed":Pe("load",t),s=r;break;case"video":case"audio":for(s=0;s<il.length;s++)Pe(il[s],t);s=r;break;case"source":Pe("error",t),s=r;break;case"img":case"image":case"link":Pe("error",t),Pe("load",t),s=r;break;case"details":Pe("toggle",t),s=r;break;case"input":fy(t,r),s=xh(t,r),Pe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=We({},r,{value:void 0}),Pe("invalid",t);break;case"textarea":hy(t,r),s=Oh(t,r),Pe("invalid",t);break;default:s=r}Dh(n,s),c=s;for(l in c)if(c.hasOwnProperty(l)){var d=c[l];l==="style"?Hw(t,d):l==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&zw(t,d)):l==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&Cl(t,d):typeof d=="number"&&Cl(t,""+d):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Sl.hasOwnProperty(l)?d!=null&&l==="onScroll"&&Pe("scroll",t):d!=null&&Gp(t,l,d,a))}switch(n){case"input":uu(t),dy(t,r,!1);break;case"textarea":uu(t),py(t);break;case"option":r.value!=null&&t.setAttribute("value",""+oi(r.value));break;case"select":t.multiple=!!r.multiple,l=r.value,l!=null?Ms(t,!!r.multiple,l,!1):r.defaultValue!=null&&Ms(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Xu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _t(e),null;case 6:if(t&&e.stateNode!=null)d1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(b(166));if(n=Oi(Dl.current),Oi(jn.current),vu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Vn]=e,(l=r.nodeValue!==n)&&(t=Zt,t!==null))switch(t.tag){case 3:mu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&mu(r.nodeValue,n,(t.mode&1)!==0)}l&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Vn]=e,e.stateNode=r}return _t(e),null;case 13:if(Le(Fe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Me&&Jt!==null&&e.mode&1&&!(e.flags&128))xE(),Ys(),e.flags|=98560,l=!1;else if(l=vu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!l)throw Error(b(318));if(l=e.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(b(317));l[Vn]=e}else Ys(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_t(e),l=!1}else xn!==null&&(gp(xn),xn=null),l=!0;if(!l)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Fe.current&1?et===0&&(et=3):Rg())),e.updateQueue!==null&&(e.flags|=4),_t(e),null);case 4:return Qs(),lp(t,e),t===null&&Al(e.stateNode.containerInfo),_t(e),null;case 10:return cg(e.type._context),_t(e),null;case 17:return zt(e.type)&&Ju(),_t(e),null;case 19:if(Le(Fe),l=e.memoizedState,l===null)return _t(e),null;if(r=(e.flags&128)!==0,a=l.rendering,a===null)if(r)Yo(l,!1);else{if(et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=sc(t),a!==null){for(e.flags|=128,Yo(l,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)l=n,t=r,l.flags&=14680066,a=l.alternate,a===null?(l.childLanes=0,l.lanes=t,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,l.type=a.type,t=a.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return xe(Fe,Fe.current&1|2),e.child}t=t.sibling}l.tail!==null&&Ge()>Js&&(e.flags|=128,r=!0,Yo(l,!1),e.lanes=4194304)}else{if(!r)if(t=sc(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Yo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!a.alternate&&!Me)return _t(e),null}else 2*Ge()-l.renderingStartTime>Js&&n!==1073741824&&(e.flags|=128,r=!0,Yo(l,!1),e.lanes=4194304);l.isBackwards?(a.sibling=e.child,e.child=a):(n=l.last,n!==null?n.sibling=a:e.child=a,l.last=a)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Ge(),e.sibling=null,n=Fe.current,xe(Fe,r?n&1|2:n&1),e):(_t(e),null);case 22:case 23:return kg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Xt&1073741824&&(_t(e),e.subtreeFlags&6&&(e.flags|=8192)):_t(e),null;case 24:return null;case 25:return null}throw Error(b(156,e.tag))}function WL(t,e){switch(og(e),e.tag){case 1:return zt(e.type)&&Ju(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qs(),Le(Wt),Le(yt),gg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return pg(e),null;case 13:if(Le(Fe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(b(340));Ys()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Le(Fe),null;case 4:return Qs(),null;case 10:return cg(e.type._context),null;case 22:case 23:return kg(),null;case 24:return null;default:return null}}var Eu=!1,mt=!1,zL=typeof WeakSet=="function"?WeakSet:Set,G=null;function Ps(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Be(t,e,r)}else n.current=null}function ap(t,e,n){try{n()}catch(r){Be(t,e,r)}}var r0=!1;function BL(t,e){if(Gh=Yu,t=_E(),ig(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var a=0,c=-1,d=-1,h=0,v=0,m=t,y=null;t:for(;;){for(var R;m!==n||s!==0&&m.nodeType!==3||(c=a+s),m!==l||r!==0&&m.nodeType!==3||(d=a+r),m.nodeType===3&&(a+=m.nodeValue.length),(R=m.firstChild)!==null;)y=m,m=R;for(;;){if(m===t)break t;if(y===n&&++h===s&&(c=a),y===l&&++v===r&&(d=a),(R=m.nextSibling)!==null)break;m=y,y=m.parentNode}m=R}n=c===-1||d===-1?null:{start:c,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(jh={focusedElem:t,selectionRange:n},Yu=!1,G=e;G!==null;)if(e=G,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,G=t;else for(;G!==null;){e=G;try{var N=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var P=N.memoizedProps,$=N.memoizedState,C=e.stateNode,E=C.getSnapshotBeforeUpdate(e.elementType===e.type?P:Rn(e.type,P),$);C.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(D){Be(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,G=t;break}G=e.return}return N=r0,r0=!1,N}function hl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var l=s.destroy;s.destroy=void 0,l!==void 0&&ap(e,n,l)}s=s.next}while(s!==r)}}function Vc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function up(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function h1(t){var e=t.alternate;e!==null&&(t.alternate=null,h1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Vn],delete e[Ol],delete e[qh],delete e[CL],delete e[IL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function p1(t){return t.tag===5||t.tag===3||t.tag===4}function i0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||p1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Xu));else if(r!==4&&(t=t.child,t!==null))for(cp(t,e,n),t=t.sibling;t!==null;)cp(t,e,n),t=t.sibling}function fp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(fp(t,e,n),t=t.sibling;t!==null;)fp(t,e,n),t=t.sibling}var ut=null,Nn=!1;function Dr(t,e,n){for(n=n.child;n!==null;)g1(t,e,n),n=n.sibling}function g1(t,e,n){if(Gn&&typeof Gn.onCommitFiberUnmount=="function")try{Gn.onCommitFiberUnmount(bc,n)}catch{}switch(n.tag){case 5:mt||Ps(n,e);case 6:var r=ut,s=Nn;ut=null,Dr(t,e,n),ut=r,Nn=s,ut!==null&&(Nn?(t=ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ut.removeChild(n.stateNode));break;case 18:ut!==null&&(Nn?(t=ut,n=n.stateNode,t.nodeType===8?Xd(t.parentNode,n):t.nodeType===1&&Xd(t,n),Rl(t)):Xd(ut,n.stateNode));break;case 4:r=ut,s=Nn,ut=n.stateNode.containerInfo,Nn=!0,Dr(t,e,n),ut=r,Nn=s;break;case 0:case 11:case 14:case 15:if(!mt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var l=s,a=l.destroy;l=l.tag,a!==void 0&&(l&2||l&4)&&ap(n,e,a),s=s.next}while(s!==r)}Dr(t,e,n);break;case 1:if(!mt&&(Ps(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Be(n,e,c)}Dr(t,e,n);break;case 21:Dr(t,e,n);break;case 22:n.mode&1?(mt=(r=mt)||n.memoizedState!==null,Dr(t,e,n),mt=r):Dr(t,e,n);break;default:Dr(t,e,n)}}function s0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new zL),e.forEach(function(r){var s=QL.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function kn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var l=t,a=e,c=a;e:for(;c!==null;){switch(c.tag){case 5:ut=c.stateNode,Nn=!1;break e;case 3:ut=c.stateNode.containerInfo,Nn=!0;break e;case 4:ut=c.stateNode.containerInfo,Nn=!0;break e}c=c.return}if(ut===null)throw Error(b(160));g1(l,a,s),ut=null,Nn=!1;var d=s.alternate;d!==null&&(d.return=null),s.return=null}catch(h){Be(s,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_1(e,t),e=e.sibling}function _1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(kn(e,t),Hn(t),r&4){try{hl(3,t,t.return),Vc(3,t)}catch(P){Be(t,t.return,P)}try{hl(5,t,t.return)}catch(P){Be(t,t.return,P)}}break;case 1:kn(e,t),Hn(t),r&512&&n!==null&&Ps(n,n.return);break;case 5:if(kn(e,t),Hn(t),r&512&&n!==null&&Ps(n,n.return),t.flags&32){var s=t.stateNode;try{Cl(s,"")}catch(P){Be(t,t.return,P)}}if(r&4&&(s=t.stateNode,s!=null)){var l=t.memoizedProps,a=n!==null?n.memoizedProps:l,c=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{c==="input"&&l.type==="radio"&&l.name!=null&&Fw(s,l),Mh(c,a);var h=Mh(c,l);for(a=0;a<d.length;a+=2){var v=d[a],m=d[a+1];v==="style"?Hw(s,m):v==="dangerouslySetInnerHTML"?zw(s,m):v==="children"?Cl(s,m):Gp(s,v,m,h)}switch(c){case"input":Ah(s,l);break;case"textarea":Uw(s,l);break;case"select":var y=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var R=l.value;R!=null?Ms(s,!!l.multiple,R,!1):y!==!!l.multiple&&(l.defaultValue!=null?Ms(s,!!l.multiple,l.defaultValue,!0):Ms(s,!!l.multiple,l.multiple?[]:"",!1))}s[Ol]=l}catch(P){Be(t,t.return,P)}}break;case 6:if(kn(e,t),Hn(t),r&4){if(t.stateNode===null)throw Error(b(162));s=t.stateNode,l=t.memoizedProps;try{s.nodeValue=l}catch(P){Be(t,t.return,P)}}break;case 3:if(kn(e,t),Hn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Rl(e.containerInfo)}catch(P){Be(t,t.return,P)}break;case 4:kn(e,t),Hn(t);break;case 13:kn(e,t),Hn(t),s=t.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||(Ig=Ge())),r&4&&s0(t);break;case 22:if(v=n!==null&&n.memoizedState!==null,t.mode&1?(mt=(h=mt)||v,kn(e,t),mt=h):kn(e,t),Hn(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!v&&t.mode&1)for(G=t,v=t.child;v!==null;){for(m=G=v;G!==null;){switch(y=G,R=y.child,y.tag){case 0:case 11:case 14:case 15:hl(4,y,y.return);break;case 1:Ps(y,y.return);var N=y.stateNode;if(typeof N.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,N.props=e.memoizedProps,N.state=e.memoizedState,N.componentWillUnmount()}catch(P){Be(r,n,P)}}break;case 5:Ps(y,y.return);break;case 22:if(y.memoizedState!==null){l0(m);continue}}R!==null?(R.return=y,G=R):l0(m)}v=v.sibling}e:for(v=null,m=t;;){if(m.tag===5){if(v===null){v=m;try{s=m.stateNode,h?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(c=m.stateNode,d=m.memoizedProps.style,a=d!=null&&d.hasOwnProperty("display")?d.display:null,c.style.display=Bw("display",a))}catch(P){Be(t,t.return,P)}}}else if(m.tag===6){if(v===null)try{m.stateNode.nodeValue=h?"":m.memoizedProps}catch(P){Be(t,t.return,P)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;v===m&&(v=null),m=m.return}v===m&&(v=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:kn(e,t),Hn(t),r&4&&s0(t);break;case 21:break;default:kn(e,t),Hn(t)}}function Hn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(p1(n)){var r=n;break e}n=n.return}throw Error(b(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Cl(s,""),r.flags&=-33);var l=i0(t);fp(t,l,s);break;case 3:case 4:var a=r.stateNode.containerInfo,c=i0(t);cp(t,c,a);break;default:throw Error(b(161))}}catch(d){Be(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function HL(t,e,n){G=t,m1(t)}function m1(t,e,n){for(var r=(t.mode&1)!==0;G!==null;){var s=G,l=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||Eu;if(!a){var c=s.alternate,d=c!==null&&c.memoizedState!==null||mt;c=Eu;var h=mt;if(Eu=a,(mt=d)&&!h)for(G=s;G!==null;)a=G,d=a.child,a.tag===22&&a.memoizedState!==null?a0(s):d!==null?(d.return=a,G=d):a0(s);for(;l!==null;)G=l,m1(l),l=l.sibling;G=s,Eu=c,mt=h}o0(t)}else s.subtreeFlags&8772&&l!==null?(l.return=s,G=l):o0(t)}}function o0(t){for(;G!==null;){var e=G;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:mt||Vc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!mt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Rn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=e.updateQueue;l!==null&&$y(e,l,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}$y(e,a,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var v=h.memoizedState;if(v!==null){var m=v.dehydrated;m!==null&&Rl(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}mt||e.flags&512&&up(e)}catch(y){Be(e,e.return,y)}}if(e===t){G=null;break}if(n=e.sibling,n!==null){n.return=e.return,G=n;break}G=e.return}}function l0(t){for(;G!==null;){var e=G;if(e===t){G=null;break}var n=e.sibling;if(n!==null){n.return=e.return,G=n;break}G=e.return}}function a0(t){for(;G!==null;){var e=G;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Vc(4,e)}catch(d){Be(e,n,d)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(d){Be(e,s,d)}}var l=e.return;try{up(e)}catch(d){Be(e,l,d)}break;case 5:var a=e.return;try{up(e)}catch(d){Be(e,a,d)}}}catch(d){Be(e,e.return,d)}if(e===t){G=null;break}var c=e.sibling;if(c!==null){c.return=e.return,G=c;break}G=e.return}}var $L=Math.ceil,ac=Cr.ReactCurrentDispatcher,Sg=Cr.ReactCurrentOwner,_n=Cr.ReactCurrentBatchConfig,_e=0,ot=null,Ye=null,ct=0,Xt=0,Os=di(0),et=0,Ul=null,Hi=0,Gc=0,Cg=0,pl=null,bt=null,Ig=0,Js=1/0,ar=null,uc=!1,dp=null,Xr=null,Su=!1,Gr=null,cc=0,gl=0,hp=null,bu=-1,Fu=0;function Nt(){return _e&6?Ge():bu!==-1?bu:bu=Ge()}function Jr(t){return t.mode&1?_e&2&&ct!==0?ct&-ct:kL.transition!==null?(Fu===0&&(Fu=eE()),Fu):(t=Ce,t!==0||(t=window.event,t=t===void 0?16:lE(t.type)),t):1}function Dn(t,e,n,r){if(50<gl)throw gl=0,hp=null,Error(b(185));Jl(t,n,r),(!(_e&2)||t!==ot)&&(t===ot&&(!(_e&2)&&(Gc|=n),et===4&&Wr(t,ct)),Bt(t,r),n===1&&_e===0&&!(e.mode&1)&&(Js=Ge()+500,Bc&&hi()))}function Bt(t,e){var n=t.callbackNode;kO(t,e);var r=Ku(t,t===ot?ct:0);if(r===0)n!==null&&my(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&my(n),e===1)t.tag===0?TL(u0.bind(null,t)):kE(u0.bind(null,t)),EL(function(){!(_e&6)&&hi()}),n=null;else{switch(tE(r)){case 1:n=Qp;break;case 4:n=Jw;break;case 16:n=ju;break;case 536870912:n=Zw;break;default:n=ju}n=T1(n,v1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function v1(t,e){if(bu=-1,Fu=0,_e&6)throw Error(b(327));var n=t.callbackNode;if(zs()&&t.callbackNode!==n)return null;var r=Ku(t,t===ot?ct:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=fc(t,r);else{e=r;var s=_e;_e|=2;var l=w1();(ot!==t||ct!==e)&&(ar=null,Js=Ge()+500,Mi(t,e));do try{jL();break}catch(c){y1(t,c)}while(1);ug(),ac.current=l,_e=s,Ye!==null?e=0:(ot=null,ct=0,e=et)}if(e!==0){if(e===2&&(s=zh(t),s!==0&&(r=s,e=pp(t,s))),e===1)throw n=Ul,Mi(t,0),Wr(t,r),Bt(t,Ge()),n;if(e===6)Wr(t,r);else{if(s=t.current.alternate,!(r&30)&&!VL(s)&&(e=fc(t,r),e===2&&(l=zh(t),l!==0&&(r=l,e=pp(t,l))),e===1))throw n=Ul,Mi(t,0),Wr(t,r),Bt(t,Ge()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(b(345));case 2:Ri(t,bt,ar);break;case 3:if(Wr(t,r),(r&130023424)===r&&(e=Ig+500-Ge(),10<e)){if(Ku(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Nt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Yh(Ri.bind(null,t,bt,ar),e);break}Ri(t,bt,ar);break;case 4:if(Wr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-Ln(r);l=1<<a,a=e[a],a>s&&(s=a),r&=~l}if(r=s,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$L(r/1960))-r,10<r){t.timeoutHandle=Yh(Ri.bind(null,t,bt,ar),r);break}Ri(t,bt,ar);break;case 5:Ri(t,bt,ar);break;default:throw Error(b(329))}}}return Bt(t,Ge()),t.callbackNode===n?v1.bind(null,t):null}function pp(t,e){var n=pl;return t.current.memoizedState.isDehydrated&&(Mi(t,e).flags|=256),t=fc(t,e),t!==2&&(e=bt,bt=n,e!==null&&gp(e)),t}function gp(t){bt===null?bt=t:bt.push.apply(bt,t)}function VL(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],l=s.getSnapshot;s=s.value;try{if(!bn(l(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wr(t,e){for(e&=~Cg,e&=~Gc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ln(e),r=1<<n;t[n]=-1,e&=~r}}function u0(t){if(_e&6)throw Error(b(327));zs();var e=Ku(t,0);if(!(e&1))return Bt(t,Ge()),null;var n=fc(t,e);if(t.tag!==0&&n===2){var r=zh(t);r!==0&&(e=r,n=pp(t,r))}if(n===1)throw n=Ul,Mi(t,0),Wr(t,e),Bt(t,Ge()),n;if(n===6)throw Error(b(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ri(t,bt,ar),Bt(t,Ge()),null}function Tg(t,e){var n=_e;_e|=1;try{return t(e)}finally{_e=n,_e===0&&(Js=Ge()+500,Bc&&hi())}}function $i(t){Gr!==null&&Gr.tag===0&&!(_e&6)&&zs();var e=_e;_e|=1;var n=_n.transition,r=Ce;try{if(_n.transition=null,Ce=1,t)return t()}finally{Ce=r,_n.transition=n,_e=e,!(_e&6)&&hi()}}function kg(){Xt=Os.current,Le(Os)}function Mi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,wL(n)),Ye!==null)for(n=Ye.return;n!==null;){var r=n;switch(og(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ju();break;case 3:Qs(),Le(Wt),Le(yt),gg();break;case 5:pg(r);break;case 4:Qs();break;case 13:Le(Fe);break;case 19:Le(Fe);break;case 10:cg(r.type._context);break;case 22:case 23:kg()}n=n.return}if(ot=t,Ye=t=Zr(t.current,null),ct=Xt=e,et=0,Ul=null,Cg=Gc=Hi=0,bt=pl=null,Pi!==null){for(e=0;e<Pi.length;e++)if(n=Pi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,l=n.pending;if(l!==null){var a=l.next;l.next=s,r.next=a}n.pending=r}Pi=null}return t}function y1(t,e){do{var n=Ye;try{if(ug(),Lu.current=lc,oc){for(var r=Ue.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}oc=!1}if(Bi=0,rt=Xe=Ue=null,dl=!1,Ml=0,Sg.current=null,n===null||n.return===null){et=1,Ul=e,Ye=null;break}e:{var l=t,a=n.return,c=n,d=e;if(e=ct,c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var h=d,v=c,m=v.tag;if(!(v.mode&1)&&(m===0||m===11||m===15)){var y=v.alternate;y?(v.updateQueue=y.updateQueue,v.memoizedState=y.memoizedState,v.lanes=y.lanes):(v.updateQueue=null,v.memoizedState=null)}var R=Qy(a);if(R!==null){R.flags&=-257,Xy(R,a,c,l,e),R.mode&1&&qy(l,h,e),e=R,d=h;var N=e.updateQueue;if(N===null){var P=new Set;P.add(d),e.updateQueue=P}else N.add(d);break e}else{if(!(e&1)){qy(l,h,e),Rg();break e}d=Error(b(426))}}else if(Me&&c.mode&1){var $=Qy(a);if($!==null){!($.flags&65536)&&($.flags|=256),Xy($,a,c,l,e),lg(Xs(d,c));break e}}l=d=Xs(d,c),et!==4&&(et=2),pl===null?pl=[l]:pl.push(l),l=a;do{switch(l.tag){case 3:l.flags|=65536,e&=-e,l.lanes|=e;var C=n1(l,d,e);Hy(l,C);break e;case 1:c=d;var E=l.type,I=l.stateNode;if(!(l.flags&128)&&(typeof E.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Xr===null||!Xr.has(I)))){l.flags|=65536,e&=-e,l.lanes|=e;var D=r1(l,c,e);Hy(l,D);break e}}l=l.return}while(l!==null)}S1(n)}catch(U){e=U,Ye===n&&n!==null&&(Ye=n=n.return);continue}break}while(1)}function w1(){var t=ac.current;return ac.current=lc,t===null?lc:t}function Rg(){(et===0||et===3||et===2)&&(et=4),ot===null||!(Hi&268435455)&&!(Gc&268435455)||Wr(ot,ct)}function fc(t,e){var n=_e;_e|=2;var r=w1();(ot!==t||ct!==e)&&(ar=null,Mi(t,e));do try{GL();break}catch(s){y1(t,s)}while(1);if(ug(),_e=n,ac.current=r,Ye!==null)throw Error(b(261));return ot=null,ct=0,et}function GL(){for(;Ye!==null;)E1(Ye)}function jL(){for(;Ye!==null&&!mO();)E1(Ye)}function E1(t){var e=I1(t.alternate,t,Xt);t.memoizedProps=t.pendingProps,e===null?S1(t):Ye=e,Sg.current=null}function S1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=WL(n,e),n!==null){n.flags&=32767,Ye=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{et=6,Ye=null;return}}else if(n=UL(n,e,Xt),n!==null){Ye=n;return}if(e=e.sibling,e!==null){Ye=e;return}Ye=e=t}while(e!==null);et===0&&(et=5)}function Ri(t,e,n){var r=Ce,s=_n.transition;try{_n.transition=null,Ce=1,KL(t,e,n,r)}finally{_n.transition=s,Ce=r}return null}function KL(t,e,n,r){do zs();while(Gr!==null);if(_e&6)throw Error(b(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(b(177));t.callbackNode=null,t.callbackPriority=0;var l=n.lanes|n.childLanes;if(RO(t,l),t===ot&&(Ye=ot=null,ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Su||(Su=!0,T1(ju,function(){return zs(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=_n.transition,_n.transition=null;var a=Ce;Ce=1;var c=_e;_e|=4,Sg.current=null,BL(t,n),_1(n,t),hL(jh),Yu=!!Gh,jh=Gh=null,t.current=n,HL(n),vO(),_e=c,Ce=a,_n.transition=l}else t.current=n;if(Su&&(Su=!1,Gr=t,cc=s),l=t.pendingLanes,l===0&&(Xr=null),EO(n.stateNode),Bt(t,Ge()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(uc)throw uc=!1,t=dp,dp=null,t;return cc&1&&t.tag!==0&&zs(),l=t.pendingLanes,l&1?t===hp?gl++:(gl=0,hp=t):gl=0,hi(),null}function zs(){if(Gr!==null){var t=tE(cc),e=_n.transition,n=Ce;try{if(_n.transition=null,Ce=16>t?16:t,Gr===null)var r=!1;else{if(t=Gr,Gr=null,cc=0,_e&6)throw Error(b(331));var s=_e;for(_e|=4,G=t.current;G!==null;){var l=G,a=l.child;if(G.flags&16){var c=l.deletions;if(c!==null){for(var d=0;d<c.length;d++){var h=c[d];for(G=h;G!==null;){var v=G;switch(v.tag){case 0:case 11:case 15:hl(8,v,l)}var m=v.child;if(m!==null)m.return=v,G=m;else for(;G!==null;){v=G;var y=v.sibling,R=v.return;if(h1(v),v===h){G=null;break}if(y!==null){y.return=R,G=y;break}G=R}}}var N=l.alternate;if(N!==null){var P=N.child;if(P!==null){N.child=null;do{var $=P.sibling;P.sibling=null,P=$}while(P!==null)}}G=l}}if(l.subtreeFlags&2064&&a!==null)a.return=l,G=a;else e:for(;G!==null;){if(l=G,l.flags&2048)switch(l.tag){case 0:case 11:case 15:hl(9,l,l.return)}var C=l.sibling;if(C!==null){C.return=l.return,G=C;break e}G=l.return}}var E=t.current;for(G=E;G!==null;){a=G;var I=a.child;if(a.subtreeFlags&2064&&I!==null)I.return=a,G=I;else e:for(a=E;G!==null;){if(c=G,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Vc(9,c)}}catch(U){Be(c,c.return,U)}if(c===a){G=null;break e}var D=c.sibling;if(D!==null){D.return=c.return,G=D;break e}G=c.return}}if(_e=s,hi(),Gn&&typeof Gn.onPostCommitFiberRoot=="function")try{Gn.onPostCommitFiberRoot(bc,t)}catch{}r=!0}return r}finally{Ce=n,_n.transition=e}}return!1}function c0(t,e,n){e=Xs(n,e),e=n1(t,e,1),t=Qr(t,e,1),e=Nt(),t!==null&&(Jl(t,1,e),Bt(t,e))}function Be(t,e,n){if(t.tag===3)c0(t,t,n);else for(;e!==null;){if(e.tag===3){c0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xr===null||!Xr.has(r))){t=Xs(n,t),t=r1(e,t,1),e=Qr(e,t,1),t=Nt(),e!==null&&(Jl(e,1,t),Bt(e,t));break}}e=e.return}}function YL(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Nt(),t.pingedLanes|=t.suspendedLanes&n,ot===t&&(ct&n)===n&&(et===4||et===3&&(ct&130023424)===ct&&500>Ge()-Ig?Mi(t,0):Cg|=n),Bt(t,e)}function C1(t,e){e===0&&(t.mode&1?(e=du,du<<=1,!(du&130023424)&&(du=4194304)):e=1);var n=Nt();t=yr(t,e),t!==null&&(Jl(t,e,n),Bt(t,n))}function qL(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),C1(t,n)}function QL(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(b(314))}r!==null&&r.delete(e),C1(t,n)}var I1;I1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Wt.current)Ft=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ft=!1,FL(t,e,n);Ft=!!(t.flags&131072)}else Ft=!1,Me&&e.flags&1048576&&RE(e,tc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Mu(t,e),t=e.pendingProps;var s=Ks(e,yt.current);Ws(e,n),s=mg(null,e,r,t,s,n);var l=vg();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zt(r)?(l=!0,Zu(e)):l=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,dg(e),s.updater=Hc,e.stateNode=s,s._reactInternals=e,tp(e,r,t,n),e=ip(null,e,r,!0,l,n)):(e.tag=0,Me&&l&&sg(e),Tt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Mu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=JL(r),t=Rn(r,t),s){case 0:e=rp(null,e,r,t,n);break e;case 1:e=e0(null,e,r,t,n);break e;case 11:e=Jy(null,e,r,t,n);break e;case 14:e=Zy(null,e,r,Rn(r.type,t),n);break e}throw Error(b(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Rn(r,s),rp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Rn(r,s),e0(t,e,r,s,n);case 3:e:{if(l1(e),t===null)throw Error(b(387));r=e.pendingProps,l=e.memoizedState,s=l.element,PE(t,e),ic(e,r,null,n);var a=e.memoizedState;if(r=a.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=l,e.memoizedState=l,e.flags&256){s=Xs(Error(b(423)),e),e=t0(t,e,r,n,s);break e}else if(r!==s){s=Xs(Error(b(424)),e),e=t0(t,e,r,n,s);break e}else for(Jt=qr(e.stateNode.containerInfo.firstChild),Zt=e,Me=!0,xn=null,n=ME(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ys(),r===s){e=wr(t,e,n);break e}Tt(t,e,r,n)}e=e.child}return e;case 5:return bE(e),t===null&&Jh(e),r=e.type,s=e.pendingProps,l=t!==null?t.memoizedProps:null,a=s.children,Kh(r,s)?a=null:l!==null&&Kh(r,l)&&(e.flags|=32),o1(t,e),Tt(t,e,a,n),e.child;case 6:return t===null&&Jh(e),null;case 13:return a1(t,e,n);case 4:return hg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=qs(e,null,r,n):Tt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Rn(r,s),Jy(t,e,r,s,n);case 7:return Tt(t,e,e.pendingProps,n),e.child;case 8:return Tt(t,e,e.pendingProps.children,n),e.child;case 12:return Tt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,l=e.memoizedProps,a=s.value,xe(nc,r._currentValue),r._currentValue=a,l!==null)if(bn(l.value,a)){if(l.children===s.children&&!Wt.current){e=wr(t,e,n);break e}}else for(l=e.child,l!==null&&(l.return=e);l!==null;){var c=l.dependencies;if(c!==null){a=l.child;for(var d=c.firstContext;d!==null;){if(d.context===r){if(l.tag===1){d=gr(-1,n&-n),d.tag=2;var h=l.updateQueue;if(h!==null){h=h.shared;var v=h.pending;v===null?d.next=d:(d.next=v.next,v.next=d),h.pending=d}}l.lanes|=n,d=l.alternate,d!==null&&(d.lanes|=n),Zh(l.return,n,e),c.lanes|=n;break}d=d.next}}else if(l.tag===10)a=l.type===e.type?null:l.child;else if(l.tag===18){if(a=l.return,a===null)throw Error(b(341));a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Zh(a,n,e),a=l.sibling}else a=l.child;if(a!==null)a.return=l;else for(a=l;a!==null;){if(a===e){a=null;break}if(l=a.sibling,l!==null){l.return=a.return,a=l;break}a=a.return}l=a}Tt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ws(e,n),s=mn(s),r=r(s),e.flags|=1,Tt(t,e,r,n),e.child;case 14:return r=e.type,s=Rn(r,e.pendingProps),s=Rn(r.type,s),Zy(t,e,r,s,n);case 15:return i1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Rn(r,s),Mu(t,e),e.tag=1,zt(r)?(t=!0,Zu(e)):t=!1,Ws(e,n),LE(e,r,s),tp(e,r,s,n),ip(null,e,r,!0,t,n);case 19:return u1(t,e,n);case 22:return s1(t,e,n)}throw Error(b(156,e.tag))};function T1(t,e){return Xw(t,e)}function XL(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,e,n,r){return new XL(t,e,n,r)}function Ng(t){return t=t.prototype,!(!t||!t.isReactComponent)}function JL(t){if(typeof t=="function")return Ng(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Kp)return 11;if(t===Yp)return 14}return 2}function Zr(t,e){var n=t.alternate;return n===null?(n=gn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Uu(t,e,n,r,s,l){var a=2;if(r=t,typeof t=="function")Ng(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Ss:return bi(n.children,s,l,e);case jp:a=8,s|=8;break;case Th:return t=gn(12,n,e,s|2),t.elementType=Th,t.lanes=l,t;case kh:return t=gn(13,n,e,s),t.elementType=kh,t.lanes=l,t;case Rh:return t=gn(19,n,e,s),t.elementType=Rh,t.lanes=l,t;case Dw:return jc(n,s,l,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ow:a=10;break e;case Lw:a=9;break e;case Kp:a=11;break e;case Yp:a=14;break e;case br:a=16,r=null;break e}throw Error(b(130,t==null?t:typeof t,""))}return e=gn(a,n,e,s),e.elementType=t,e.type=r,e.lanes=l,e}function bi(t,e,n,r){return t=gn(7,t,r,e),t.lanes=n,t}function jc(t,e,n,r){return t=gn(22,t,r,e),t.elementType=Dw,t.lanes=n,t.stateNode={isHidden:!1},t}function sh(t,e,n){return t=gn(6,t,null,e),t.lanes=n,t}function oh(t,e,n){return e=gn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ZL(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zd(0),this.expirationTimes=zd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zd(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function xg(t,e,n,r,s,l,a,c,d){return t=new ZL(t,e,n,c,d),e===1?(e=1,l===!0&&(e|=8)):e=0,l=gn(3,null,null,e),t.current=l,l.stateNode=t,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},dg(l),t}function eD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Es,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function k1(t){if(!t)return li;t=t._reactInternals;e:{if(Ji(t)!==t||t.tag!==1)throw Error(b(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(b(171))}if(t.tag===1){var n=t.type;if(zt(n))return TE(t,n,e)}return e}function R1(t,e,n,r,s,l,a,c,d){return t=xg(n,r,!0,t,s,l,a,c,d),t.context=k1(null),n=t.current,r=Nt(),s=Jr(n),l=gr(r,s),l.callback=e??null,Qr(n,l,s),t.current.lanes=s,Jl(t,s,r),Bt(t,r),t}function Kc(t,e,n,r){var s=e.current,l=Nt(),a=Jr(s);return n=k1(n),e.context===null?e.context=n:e.pendingContext=n,e=gr(l,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Qr(s,e,a),t!==null&&(Dn(t,s,a,l),Ou(t,s,a)),a}function dc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function f0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ag(t,e){f0(t,e),(t=t.alternate)&&f0(t,e)}function tD(){return null}var N1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Pg(t){this._internalRoot=t}Yc.prototype.render=Pg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(b(409));Kc(t,e,null,null)};Yc.prototype.unmount=Pg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$i(function(){Kc(null,t,null,null)}),e[vr]=null}};function Yc(t){this._internalRoot=t}Yc.prototype.unstable_scheduleHydration=function(t){if(t){var e=iE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ur.length&&e!==0&&e<Ur[n].priority;n++);Ur.splice(n,0,t),n===0&&oE(t)}};function Og(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function d0(){}function nD(t,e,n,r,s){if(s){if(typeof r=="function"){var l=r;r=function(){var h=dc(a);l.call(h)}}var a=R1(e,r,t,0,null,!1,!1,"",d0);return t._reactRootContainer=a,t[vr]=a.current,Al(t.nodeType===8?t.parentNode:t),$i(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var c=r;r=function(){var h=dc(d);c.call(h)}}var d=xg(t,0,!1,null,null,!1,!1,"",d0);return t._reactRootContainer=d,t[vr]=d.current,Al(t.nodeType===8?t.parentNode:t),$i(function(){Kc(e,d,n,r)}),d}function Qc(t,e,n,r,s){var l=n._reactRootContainer;if(l){var a=l;if(typeof s=="function"){var c=s;s=function(){var d=dc(a);c.call(d)}}Kc(e,a,t,s)}else a=nD(n,e,t,s,r);return dc(a)}nE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=rl(e.pendingLanes);n!==0&&(Xp(e,n|1),Bt(e,Ge()),!(_e&6)&&(Js=Ge()+500,hi()))}break;case 13:$i(function(){var r=yr(t,1);if(r!==null){var s=Nt();Dn(r,t,1,s)}}),Ag(t,1)}};Jp=function(t){if(t.tag===13){var e=yr(t,134217728);if(e!==null){var n=Nt();Dn(e,t,134217728,n)}Ag(t,134217728)}};rE=function(t){if(t.tag===13){var e=Jr(t),n=yr(t,e);if(n!==null){var r=Nt();Dn(n,t,e,r)}Ag(t,e)}};iE=function(){return Ce};sE=function(t,e){var n=Ce;try{return Ce=t,e()}finally{Ce=n}};Fh=function(t,e,n){switch(e){case"input":if(Ah(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=zc(r);if(!s)throw Error(b(90));bw(r),Ah(r,s)}}}break;case"textarea":Uw(t,n);break;case"select":e=n.value,e!=null&&Ms(t,!!n.multiple,e,!1)}};Gw=Tg;jw=$i;var rD={usingClientEntryPoint:!1,Events:[ea,ks,zc,$w,Vw,Tg]},qo={findFiberByHostInstance:Ai,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},iD={bundleType:qo.bundleType,version:qo.version,rendererPackageName:qo.rendererPackageName,rendererConfig:qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=qw(t),t===null?null:t.stateNode},findFiberByHostInstance:qo.findFiberByHostInstance||tD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cu.isDisabled&&Cu.supportsFiber)try{bc=Cu.inject(iD),Gn=Cu}catch{}}tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rD;tn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Og(e))throw Error(b(200));return eD(t,e,null,n)};tn.createRoot=function(t,e){if(!Og(t))throw Error(b(299));var n=!1,r="",s=N1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=xg(t,1,!1,null,null,n,!1,r,s),t[vr]=e.current,Al(t.nodeType===8?t.parentNode:t),new Pg(e)};tn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(b(188)):(t=Object.keys(t).join(","),Error(b(268,t)));return t=qw(e),t=t===null?null:t.stateNode,t};tn.flushSync=function(t){return $i(t)};tn.hydrate=function(t,e,n){if(!qc(e))throw Error(b(200));return Qc(null,t,e,!0,n)};tn.hydrateRoot=function(t,e,n){if(!Og(t))throw Error(b(405));var r=n!=null&&n.hydratedSources||null,s=!1,l="",a=N1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=R1(e,null,t,1,n??null,s,!1,l,a),t[vr]=e.current,Al(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Yc(e)};tn.render=function(t,e,n){if(!qc(e))throw Error(b(200));return Qc(null,t,e,!1,n)};tn.unmountComponentAtNode=function(t){if(!qc(t))throw Error(b(40));return t._reactRootContainer?($i(function(){Qc(null,null,t,!1,function(){t._reactRootContainer=null,t[vr]=null})}),!0):!1};tn.unstable_batchedUpdates=Tg;tn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!qc(n))throw Error(b(200));if(t==null||t._reactInternals===void 0)throw Error(b(38));return Qc(t,e,n,!1,r)};tn.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=tn})(tO);var h0=Sh;Eh.createRoot=h0.createRoot,Eh.hydrateRoot=h0.hydrateRoot;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F=function(t,e){if(!t)throw uo(e)},uo=function(t){return new Error("Firebase Database ("+x1.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},sD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const l=t[n++];e[r++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=t[n++],a=t[n++],c=t[n++],d=((s&7)<<18|(l&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(l&63)<<6|a&63)}}return e.join("")},Lg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const l=t[s],a=s+1<t.length,c=a?t[s+1]:0,d=s+2<t.length,h=d?t[s+2]:0,v=l>>2,m=(l&3)<<4|c>>4;let y=(c&15)<<2|h>>6,R=h&63;d||(R=64,a||(y=64)),r.push(n[v],n[m],n[y],n[R])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(A1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const l=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const m=s<t.length?n[t.charAt(s)]:64;if(++s,l==null||c==null||h==null||m==null)throw new oD;const y=l<<2|c>>4;if(r.push(y),h!==64){const R=c<<4&240|h>>2;if(r.push(R),m!==64){const N=h<<6&192|m;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class oD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const P1=function(t){const e=A1(t);return Lg.encodeByteArray(e,!0)},hc=function(t){return P1(t).replace(/\./g,"")},pc=function(t){try{return Lg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(t){return O1(void 0,t)}function O1(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!aD(n)||(t[n]=O1(t[n],e[n]));return t}function aD(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=()=>uD().__FIREBASE_DEFAULTS__,fD=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&pc(t[1]);return e&&JSON.parse(e)},Dg=()=>{try{return cD()||fD()||dD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},L1=t=>{var e,n;return(n=(e=Dg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},hD=t=>{const e=L1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},pD=()=>{var t;return(t=Dg())===null||t===void 0?void 0:t.config},D1=t=>{var e;return(e=Dg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t),c="";return[hc(JSON.stringify(n)),hc(JSON.stringify(a)),c].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Mg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wt())}function _D(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function M1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mD(){const t=wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function b1(){return x1.NODE_ADMIN===!0}function vD(){try{return typeof indexedDB=="object"}catch{return!1}}function yD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var l;e(((l=s.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD="FirebaseError";class pi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=wD,Object.setPrototypeOf(this,pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,na.prototype.create)}}class na{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,l=this.errors[e],a=l?ED(l,r):"Error",c=`${this.serviceName}: ${a} (${s}).`;return new pi(s,c,r)}}function ED(t,e){return t.replace(SD,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const SD=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(t){return JSON.parse(t)}function Je(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=function(t){let e={},n={},r={},s="";try{const l=t.split(".");e=Wl(pc(l[0])||""),n=Wl(pc(l[1])||""),s=l[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},CD=function(t){const e=F1(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},ID=function(t){const e=F1(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Zs(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function _p(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function gc(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function _c(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const l=t[s],a=e[s];if(p0(l)&&p0(a)){if(!_c(l,a))return!1}else if(l!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function p0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function sl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,l]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(l)}}),e}function ol(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let m=0;m<16;m++)r[m]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let m=0;m<16;m++)r[m]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let m=16;m<80;m++){const y=r[m-3]^r[m-8]^r[m-14]^r[m-16];r[m]=(y<<1|y>>>31)&4294967295}let s=this.chain_[0],l=this.chain_[1],a=this.chain_[2],c=this.chain_[3],d=this.chain_[4],h,v;for(let m=0;m<80;m++){m<40?m<20?(h=c^l&(a^c),v=1518500249):(h=l^a^c,v=1859775393):m<60?(h=l&a|c&(l|a),v=2400959708):(h=l^a^c,v=3395469782);const y=(s<<5|s>>>27)+h+d+v+r[m]&4294967295;d=c,c=a,a=(l<<30|l>>>2)&4294967295,l=s,s=y}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const l=this.buf_;let a=this.inbuf_;for(;s<n;){if(a===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(l[a]=e.charCodeAt(s),++a,++s,a===this.blockSize){this.compress_(l),a=0;break}}else for(;s<n;)if(l[a]=e[s],++a,++s,a===this.blockSize){this.compress_(l),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let l=24;l>=0;l-=8)e[r]=this.chain_[s]>>l&255,++r;return e}}function kD(t,e){const n=new RD(t,e);return n.subscribe.bind(n)}class RD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ND(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=lh),s.error===void 0&&(s.error=lh),s.complete===void 0&&(s.complete=lh);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ND(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function lh(){}function bg(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const l=s-55296;r++,F(r<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(r)-56320;s=65536+(l<<10)+a}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Jc=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(t){return t&&t._delegate?t._delegate:t}class Vi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Xc;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OD(e))try{this.getOrInitializeService({instanceIdentifier:Ni})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:s});r.resolve(l)}catch{}}}}clearInstance(e=Ni){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ni){return this.instances.has(e)}getOptions(e=Ni){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(l);r===c&&a.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),l=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(s,l);const a=this.instances.get(s);return a&&e(a,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:PD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ni){return this.component?this.component.multipleInstances?e:Ni:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PD(t){return t===Ni?void 0:t}function OD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new AD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Te||(Te={}));const DD={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},MD=Te.INFO,bD={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},FD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=bD[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fg{constructor(e){this.name=e,this._logLevel=MD,this._logHandler=FD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}const UD=(t,e)=>e.some(n=>t instanceof n);let g0,_0;function WD(){return g0||(g0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zD(){return _0||(_0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const U1=new WeakMap,mp=new WeakMap,W1=new WeakMap,ah=new WeakMap,Ug=new WeakMap;function BD(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",l),t.removeEventListener("error",a)},l=()=>{n(ei(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",l),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&U1.set(n,t)}).catch(()=>{}),Ug.set(e,t),e}function HD(t){if(mp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",a),t.removeEventListener("abort",a)},l=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",l),t.addEventListener("error",a),t.addEventListener("abort",a)});mp.set(t,e)}let vp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return mp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||W1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ei(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $D(t){vp=t(vp)}function VD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(uh(this),e,...n);return W1.set(r,e.sort?e.sort():[e]),ei(r)}:zD().includes(t)?function(...e){return t.apply(uh(this),e),ei(U1.get(this))}:function(...e){return ei(t.apply(uh(this),e))}}function GD(t){return typeof t=="function"?VD(t):(t instanceof IDBTransaction&&HD(t),UD(t,WD())?new Proxy(t,vp):t)}function ei(t){if(t instanceof IDBRequest)return BD(t);if(ah.has(t))return ah.get(t);const e=GD(t);return e!==t&&(ah.set(t,e),Ug.set(e,t)),e}const uh=t=>Ug.get(t);function jD(t,e,{blocked:n,upgrade:r,blocking:s,terminated:l}={}){const a=indexedDB.open(t,e),c=ei(a);return r&&a.addEventListener("upgradeneeded",d=>{r(ei(a.result),d.oldVersion,d.newVersion,ei(a.transaction))}),n&&a.addEventListener("blocked",()=>n()),c.then(d=>{l&&d.addEventListener("close",()=>l()),s&&d.addEventListener("versionchange",()=>s())}).catch(()=>{}),c}const KD=["get","getKey","getAll","getAllKeys","count"],YD=["put","add","delete","clear"],ch=new Map;function m0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ch.get(e))return ch.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=YD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||KD.includes(n)))return;const l=async function(a,...c){const d=this.transaction(a,s?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),s&&d.done]))[0]};return ch.set(e,l),l}$D(t=>({...t,get:(e,n,r)=>m0(e,n)||t.get(e,n,r),has:(e,n)=>!!m0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function QD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yp="@firebase/app",v0="0.9.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new Fg("@firebase/app"),XD="@firebase/app-compat",JD="@firebase/analytics-compat",ZD="@firebase/analytics",eM="@firebase/app-check-compat",tM="@firebase/app-check",nM="@firebase/auth",rM="@firebase/auth-compat",iM="@firebase/database",sM="@firebase/database-compat",oM="@firebase/functions",lM="@firebase/functions-compat",aM="@firebase/installations",uM="@firebase/installations-compat",cM="@firebase/messaging",fM="@firebase/messaging-compat",dM="@firebase/performance",hM="@firebase/performance-compat",pM="@firebase/remote-config",gM="@firebase/remote-config-compat",_M="@firebase/storage",mM="@firebase/storage-compat",vM="@firebase/firestore",yM="@firebase/firestore-compat",wM="firebase",EM="9.19.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="[DEFAULT]",SM={[yp]:"fire-core",[XD]:"fire-core-compat",[ZD]:"fire-analytics",[JD]:"fire-analytics-compat",[tM]:"fire-app-check",[eM]:"fire-app-check-compat",[nM]:"fire-auth",[rM]:"fire-auth-compat",[iM]:"fire-rtdb",[sM]:"fire-rtdb-compat",[oM]:"fire-fn",[lM]:"fire-fn-compat",[aM]:"fire-iid",[uM]:"fire-iid-compat",[cM]:"fire-fcm",[fM]:"fire-fcm-compat",[dM]:"fire-perf",[hM]:"fire-perf-compat",[pM]:"fire-rc",[gM]:"fire-rc-compat",[_M]:"fire-gcs",[mM]:"fire-gcs-compat",[vM]:"fire-fst",[yM]:"fire-fst-compat","fire-js":"fire-js",[wM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc=new Map,Ep=new Map;function CM(t,e){try{t.container.addComponent(e)}catch(n){Gi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function eo(t){const e=t.name;if(Ep.has(e))return Gi.debug(`There were multiple attempts to register component ${e}.`),!1;Ep.set(e,t);for(const n of mc.values())CM(n,t);return!0}function Wg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ti=new na("app","Firebase",IM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ti.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=EM;function z1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:wp,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw ti.create("bad-app-name",{appName:String(s)});if(n||(n=pD()),!n)throw ti.create("no-options");const l=mc.get(s);if(l){if(_c(n,l.options)&&_c(r,l.config))return l;throw ti.create("duplicate-app",{appName:s})}const a=new LD(s);for(const d of Ep.values())a.addComponent(d);const c=new TM(n,r,a);return mc.set(s,c),c}function B1(t=wp){const e=mc.get(t);if(!e&&t===wp)return z1();if(!e)throw ti.create("no-app",{appName:t});return e}function ni(t,e,n){var r;let s=(r=SM[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const l=s.match(/\s|\//),a=e.match(/\s|\//);if(l||a){const c=[`Unable to register library "${s}" with version "${e}":`];l&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gi.warn(c.join(" "));return}eo(new Vi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM="firebase-heartbeat-database",RM=1,zl="firebase-heartbeat-store";let fh=null;function H1(){return fh||(fh=jD(kM,RM,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(zl)}}}).catch(t=>{throw ti.create("idb-open",{originalErrorMessage:t.message})})),fh}async function NM(t){try{return(await H1()).transaction(zl).objectStore(zl).get($1(t))}catch(e){if(e instanceof pi)Gi.warn(e.message);else{const n=ti.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gi.warn(n.message)}}}async function y0(t,e){try{const r=(await H1()).transaction(zl,"readwrite");return await r.objectStore(zl).put(e,$1(t)),r.done}catch(n){if(n instanceof pi)Gi.warn(n.message);else{const r=ti.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gi.warn(r.message)}}}function $1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=1024,AM=30*24*60*60*1e3;class PM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new LM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=w0();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const l=new Date(s.date).valueOf();return Date.now()-l<=AM}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=w0(),{heartbeatsToSend:n,unsentEntries:r}=OM(this._heartbeatsCache.heartbeats),s=hc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function w0(){return new Date().toISOString().substring(0,10)}function OM(t,e=xM){const n=[];let r=t.slice();for(const s of t){const l=n.find(a=>a.agent===s.agent);if(l){if(l.dates.push(s.date),E0(n)>e){l.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),E0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class LM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vD()?yD().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await NM(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return y0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return y0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function E0(t){return hc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(t){eo(new Vi("platform-logger",e=>new qD(e),"PRIVATE")),eo(new Vi("heartbeat",e=>new PM(e),"PRIVATE")),ni(yp,v0,t),ni(yp,v0,"esm2017"),ni("fire-js","")}DM("");var MM="firebase",bM="9.19.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ni(MM,bM,"app");const S0="@firebase/database",C0="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let V1="";function FM(t){V1=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Je(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Wl(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ir(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new UM(e)}}catch{}return new WM},Li=G1("localStorage"),Sp=G1("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=new Fg("@firebase/database"),zM=function(){let t=1;return function(){return t++}}(),j1=function(t){const e=xD(t),n=new TD;n.update(e);const r=n.digest();return Lg.encodeByteArray(r)},ia=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ia.apply(null,r):typeof r=="object"?e+=Je(r):e+=r,e+=" "}return e};let Fi=null,I0=!0;const BM=function(t,e){F(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Bs.logLevel=Te.VERBOSE,Fi=Bs.log.bind(Bs),e&&Sp.set("logging_enabled",!0)):typeof t=="function"?Fi=t:(Fi=null,Sp.remove("logging_enabled"))},vt=function(...t){if(I0===!0&&(I0=!1,Fi===null&&Sp.get("logging_enabled")===!0&&BM(!0)),Fi){const e=ia.apply(null,t);Fi(e)}},sa=function(t){return function(...e){vt(t,...e)}},Cp=function(...t){const e="FIREBASE INTERNAL ERROR: "+ia(...t);Bs.error(e)},Er=function(...t){const e=`FIREBASE FATAL ERROR: ${ia(...t)}`;throw Bs.error(e),new Error(e)},Ht=function(...t){const e="FIREBASE WARNING: "+ia(...t);Bs.warn(e)},HM=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ht("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},K1=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},$M=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},to="[MIN_NAME]",ji="[MAX_NAME]",fo=function(t,e){if(t===e)return 0;if(t===to||e===ji)return-1;if(e===to||t===ji)return 1;{const n=T0(t),r=T0(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},VM=function(t,e){return t===e?0:t<e?-1:1},Qo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Je(e))},zg=function(t){if(typeof t!="object"||t===null)return Je(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Je(e[r]),n+=":",n+=zg(t[e[r]]);return n+="}",n},Y1=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function $t(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const q1=function(t){F(!K1(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,l,a,c,d;t===0?(l=0,a=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),r),l=c+r,a=Math.round(t*Math.pow(2,n-c)-Math.pow(2,n))):(l=0,a=Math.round(t/Math.pow(2,1-r-n))));const h=[];for(d=n;d;d-=1)h.push(a%2?1:0),a=Math.floor(a/2);for(d=e;d;d-=1)h.push(l%2?1:0),l=Math.floor(l/2);h.push(s?1:0),h.reverse();const v=h.join("");let m="";for(d=0;d<64;d+=8){let y=parseInt(v.substr(d,8),2).toString(16);y.length===1&&(y="0"+y),m=m+y}return m.toLowerCase()},GM=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},jM=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function KM(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const YM=new RegExp("^-?(0*)\\d{1,10}$"),qM=-2147483648,QM=2147483647,T0=function(t){if(YM.test(t)){const e=Number(t);if(e>=qM&&e<=QM)return e}return null},ho=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ht("Exception was thrown by user callback.",n),e},Math.floor(0))}},XM=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},_l=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ht(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(vt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ht(e)}}class Hs{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Hs.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg="5",Q1="v",X1="s",J1="r",Z1="f",eS=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,tS="ls",nS="p",Ip="ac",rS="websocket",iS="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,n,r,s,l=!1,a="",c=!1,d=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=l,this.persistenceKey=a,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=d,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Li.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Li.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function e2(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function oS(t,e,n){F(typeof e=="string","typeof type must == string"),F(typeof n=="object","typeof params must == object");let r;if(e===rS)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===iS)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);e2(t)&&(n.ns=t.namespace);const s=[];return $t(n,(l,a)=>{s.push(l+"="+a)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(){this.counters_={}}incrementCounter(e,n=1){Ir(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return lD(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh={},hh={};function Hg(t){const e=t.toString();return dh[e]||(dh[e]=new t2),dh[e]}function n2(t,e){const n=t.toString();return hh[n]||(hh[n]=e()),hh[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&ho(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="start",i2="close",s2="pLPCommand",o2="pRTLPCB",lS="id",aS="pw",uS="ser",l2="cb",a2="seg",u2="ts",c2="d",f2="dframe",cS=1870,fS=30,d2=cS-fS,h2=25e3,p2=3e4;class Ls{constructor(e,n,r,s,l,a,c){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=l,this.transportSessionId=a,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=sa(e),this.stats_=Hg(n),this.urlFn=d=>(this.appCheckToken&&(d[Ip]=this.appCheckToken),oS(n,iS,d))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new r2(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(p2)),$M(()=>{if(this.isClosed_)return;this.scriptTagHolder=new $g((...l)=>{const[a,c,d,h,v]=l;if(this.incrementIncomingBytes_(l),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===k0)this.id=c,this.password=d;else if(a===i2)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...l)=>{const[a,c]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(a,c)},()=>{this.onClosed_()},this.urlFn);const r={};r[k0]="t",r[uS]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[l2]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Q1]=Bg,this.transportSessionId&&(r[X1]=this.transportSessionId),this.lastSessionId&&(r[tS]=this.lastSessionId),this.applicationId&&(r[nS]=this.applicationId),this.appCheckToken&&(r[Ip]=this.appCheckToken),typeof location<"u"&&location.hostname&&eS.test(location.hostname)&&(r[J1]=Z1);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ls.forceAllow_=!0}static forceDisallow(){Ls.forceDisallow_=!0}static isAvailable(){return Ls.forceAllow_?!0:!Ls.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!GM()&&!jM()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Je(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=P1(n),s=Y1(r,d2);for(let l=0;l<s.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[l]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[f2]="t",r[lS]=e,r[aS]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Je(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class $g{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=zM(),window[s2+this.uniqueCallbackIdentifier]=e,window[o2+this.uniqueCallbackIdentifier]=n,this.myIFrame=$g.createIFrame_();let l="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(l='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(c){vt("frame writing exception"),c.stack&&vt(c.stack),vt(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||vt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[lS]=this.myID,e[aS]=this.myPW,e[uS]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+fS+r.length<=cS;){const a=this.pendingSegs.shift();r=r+"&"+a2+s+"="+a.seg+"&"+u2+s+"="+a.ts+"&"+c2+s+"="+a.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(h2)),l=()=>{clearTimeout(s),r()};this.addTag(e,l)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{vt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=16384,_2=45e3;let vc=null;typeof MozWebSocket<"u"?vc=MozWebSocket:typeof WebSocket<"u"&&(vc=WebSocket);class An{constructor(e,n,r,s,l,a,c){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=sa(this.connId),this.stats_=Hg(n),this.connURL=An.connectionURL_(n,a,c,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,l){const a={};return a[Q1]=Bg,typeof location<"u"&&location.hostname&&eS.test(location.hostname)&&(a[J1]=Z1),n&&(a[X1]=n),r&&(a[tS]=r),s&&(a[Ip]=s),l&&(a[nS]=l),oS(e,rS,a)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Li.set("previous_websocket_failure",!0);try{let r;b1(),this.mySock=new vc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){An.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&vc!==null&&!An.forceDisallow_}static previouslyFailed(){return Li.isInMemoryStorage||Li.get("previous_websocket_failure")===!0}markConnectionHealthy(){Li.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Wl(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(F(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Je(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Y1(n,g2);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(_2))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}An.responsesRequiredToBeHealthy=2;An.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ls,An]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=An&&An.isAvailable();let r=n&&!An.previouslyFailed();if(e.webSocketOnly&&(n||Ht("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[An];else{const s=this.transports_=[];for(const l of Bl.ALL_TRANSPORTS)l&&l.isAvailable()&&s.push(l);Bl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Bl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=6e4,v2=5e3,y2=10*1024,w2=100*1024,ph="t",R0="d",E2="s",N0="r",S2="e",x0="o",A0="a",P0="n",O0="p",C2="h";class I2{constructor(e,n,r,s,l,a,c,d,h,v){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=l,this.onMessage_=a,this.onReady_=c,this.onDisconnect_=d,this.onKill_=h,this.lastSessionId=v,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=sa("c:"+this.id+":"),this.transportManager_=new Bl(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=_l(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>w2?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>y2?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ph in e){const n=e[ph];n===A0?this.upgradeIfSecondaryHealthy_():n===N0?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===x0&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Qo("t",e),r=Qo("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:O0,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:A0,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:P0,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Qo("t",e),r=Qo("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Qo(ph,e);if(R0 in e){const r=e[R0];if(n===C2){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===P0){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===E2?this.onConnectionShutdown_(r):n===N0?this.onReset_(r):n===S2?Cp("Server Error: "+r):n===x0?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Cp("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Bg!==r&&Ht("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),_l(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(m2))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):_l(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(v2))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:O0,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Li.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e){this.allowedEvents_=e,this.listeners_={},F(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let l=0;l<s.length;l++)if(s[l].callback===n&&(!r||r===s[l].context)){s.splice(l,1);return}}validateEventType_(e){F(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc extends hS{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Mg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new yc}getInitialEvent(e){return F(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0=32,D0=768;class ke{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ve(){return new ke("")}function ae(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ai(t){return t.pieces_.length-t.pieceNum_}function Ne(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ke(t.pieces_,e)}function pS(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function T2(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function gS(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function _S(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ke(e,0)}function Ze(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ke)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new ke(n,0)}function de(t){return t.pieceNum_>=t.pieces_.length}function Rt(t,e){const n=ae(t),r=ae(e);if(n===null)return e;if(n===r)return Rt(Ne(t),Ne(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Vg(t,e){if(ai(t)!==ai(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Pn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(ai(t)>ai(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class k2{constructor(e,n){this.errorPrefix_=n,this.parts_=gS(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Jc(this.parts_[r]);mS(this)}}function R2(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Jc(e),mS(t)}function N2(t){const e=t.parts_.pop();t.byteLength_-=Jc(e),t.parts_.length>0&&(t.byteLength_-=1)}function mS(t){if(t.byteLength_>D0)throw new Error(t.errorPrefix_+"has a key path longer than "+D0+" bytes ("+t.byteLength_+").");if(t.parts_.length>L0)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+L0+") or object contains a cycle "+xi(t))}function xi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg extends hS{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Gg}getInitialEvent(e){return F(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=1e3,x2=60*5*1e3,M0=30*1e3,A2=1.3,P2=3e4,O2="server_kill",b0=3;class _r extends dS{constructor(e,n,r,s,l,a,c,d){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=l,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=d,this.id=_r.nextPersistentConnectionId_++,this.log_=sa("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Xo,this.maxReconnectDelay_=x2,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d&&!b1())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Gg.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&yc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,l={r:s,a:e,b:n};this.log_(Je(l)),F(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new Xc,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const c=a.d;a.s==="ok"?n.resolve(c):n.reject(c)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const l=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(l),n.promise}listen(e,n,r,s){this.initConnection_();const l=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+l),this.listens.has(a)||this.listens.set(a,new Map),F(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),F(!this.listens.get(a).has(l),"listen() called twice for same path/queryId.");const c={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(a).set(l,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const l={p:r},a="q";e.tag&&(l.q=n._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest(a,l,c=>{const d=c.d,h=c.s;_r.warnOnListenWarnings_(d,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",c),h!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(h,d))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Ir(e,"w")){const r=Zs(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',l=n._path.toString();Ht(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||ID(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=M0)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=CD(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const l=s.s,a=s.d||"error";this.authToken_===e&&(l==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),F(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const l={p:e},a="n";s&&(l.q=r,l.t=s),this.sendRequest(a,l)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const l={p:n,d:r};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,l){this.initConnection_();const a={p:n,d:r};l!==void 0&&(a.h=l),this.outstandingPuts_.push({action:e,request:a,onComplete:s}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,l=>{this.log_(n+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(l.s,l.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const l=r.d;this.log_("reportStats","Error sending stats: "+l)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Je(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Cp("Unrecognized action received from server: "+Je(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){F(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Xo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Xo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>P2&&(this.reconnectDelay_=Xo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*A2)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+_r.nextConnectionId_++,l=this.lastSessionId;let a=!1,c=null;const d=function(){c?c.close():(a=!0,r())},h=function(m){F(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(m)};this.realtime_={close:d,sendRequest:h};const v=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[m,y]=await Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)]);a?vt("getToken() completed but was canceled"):(vt("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=y&&y.token,c=new I2(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,R=>{Ht(R+" ("+this.repoInfo_.toString()+")"),this.interrupt(O2)},l))}catch(m){this.log_("Failed to get token: "+m),a||(this.repoInfo_.nodeAdmin&&Ht(m),d())}}}interrupt(e){vt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){vt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],_p(this.interruptReasons_)&&(this.reconnectDelay_=Xo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(l=>zg(l)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new ke(e).toString();let s;if(this.listens.has(r)){const l=this.listens.get(r);s=l.get(n),l.delete(n),l.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){vt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=b0&&(this.reconnectDelay_=M0,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){vt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=b0&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+V1.replace(/\./g,"-")]=1,Mg()?e["framework.cordova"]=1:M1()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=yc.getInstance().currentlyOnline();return _p(this.interruptReasons_)&&e}}_r.nextPersistentConnectionId_=0;_r.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ue(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ue(to,e),s=new ue(to,n);return this.compare(r,s)!==0}minPost(){return ue.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iu;class vS extends Zc{static get __EMPTY_NODE(){return Iu}static set __EMPTY_NODE(e){Iu=e}compare(e,n){return fo(e.name,n.name)}isDefinedOn(e){throw uo("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ue.MIN}maxPost(){return new ue(ji,Iu)}makePost(e,n){return F(typeof e=="string","KeyIndex indexValue must always be a string."),new ue(e,Iu)}toString(){return".key"}}const $s=new vS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n,r,s,l=null){this.isReverse_=s,this.resultGenerator_=l,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,s&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class it{constructor(e,n,r,s,l){this.key=e,this.value=n,this.color=r??it.RED,this.left=s??Ut.EMPTY_NODE,this.right=l??Ut.EMPTY_NODE}copy(e,n,r,s,l){return new it(e??this.key,n??this.value,r??this.color,s??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const l=r(e,s.key);return l<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):l===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ut.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Ut.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,it.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,it.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}it.RED=!0;it.BLACK=!1;class L2{copy(e,n,r,s,l){return this}insert(e,n,r){return new it(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ut{constructor(e,n=Ut.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ut(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,it.BLACK,null,null))}remove(e){return new Ut(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,it.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Tu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Tu(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Tu(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Tu(this.root_,null,this.comparator_,!0,e)}}Ut.EMPTY_NODE=new L2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(t,e){return fo(t.name,e.name)}function jg(t,e){return fo(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tp;function M2(t){Tp=t}const yS=function(t){return typeof t=="number"?"number:"+q1(t):"string:"+t},wS=function(t){if(t.isLeafNode()){const e=t.val();F(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ir(e,".sv"),"Priority must be a string or number.")}else F(t===Tp||t.isEmpty(),"priority of unexpected type.");F(t===Tp||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let F0;class nt{constructor(e,n=nt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,F(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),wS(this.priorityNode_)}static set __childrenNodeConstructor(e){F0=e}static get __childrenNodeConstructor(){return F0}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new nt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:nt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return de(e)?this:ae(e)===".priority"?this.priorityNode_:nt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:nt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=ae(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(F(r!==".priority"||ai(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,nt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ne(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+yS(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=q1(this.value_):e+=this.value_,this.lazyHash_=j1(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===nt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof nt.__childrenNodeConstructor?-1:(F(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=nt.VALUE_TYPE_ORDER.indexOf(n),l=nt.VALUE_TYPE_ORDER.indexOf(r);return F(s>=0,"Unknown leaf type: "+n),F(l>=0,"Unknown leaf type: "+r),s===l?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}nt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ES,SS;function b2(t){ES=t}function F2(t){SS=t}class U2 extends Zc{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),l=r.compareTo(s);return l===0?fo(e.name,n.name):l}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ue.MIN}maxPost(){return new ue(ji,new nt("[PRIORITY-POST]",SS))}makePost(e,n){const r=ES(e);return new ue(n,new nt("[PRIORITY-POST]",r))}toString(){return".priority"}}const He=new U2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=Math.log(2);class z2{constructor(e){const n=l=>parseInt(Math.log(l)/W2,10),r=l=>parseInt(Array(l+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const wc=function(t,e,n,r){t.sort(e);const s=function(d,h){const v=h-d;let m,y;if(v===0)return null;if(v===1)return m=t[d],y=n?n(m):m,new it(y,m.node,it.BLACK,null,null);{const R=parseInt(v/2,10)+d,N=s(d,R),P=s(R+1,h);return m=t[R],y=n?n(m):m,new it(y,m.node,it.BLACK,N,P)}},l=function(d){let h=null,v=null,m=t.length;const y=function(N,P){const $=m-N,C=m;m-=N;const E=s($+1,C),I=t[$],D=n?n(I):I;R(new it(D,I.node,P,null,E))},R=function(N){h?(h.left=N,h=N):(v=N,h=N)};for(let N=0;N<d.count;++N){const P=d.nextBitIsOne(),$=Math.pow(2,d.count-(N+1));P?y($,it.BLACK):(y($,it.BLACK),y($,it.RED))}return v},a=new z2(t.length),c=l(a);return new Ut(r||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh;const ys={};class dr{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return F(ys&&He,"ChildrenNode.ts has not been loaded"),gh=gh||new dr({".priority":ys},{".priority":He}),gh}get(e){const n=Zs(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ut?n:null}hasIndex(e){return Ir(this.indexSet_,e.toString())}addIndex(e,n){F(e!==$s,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const l=n.getIterator(ue.Wrap);let a=l.getNext();for(;a;)s=s||e.isDefinedOn(a.node),r.push(a),a=l.getNext();let c;s?c=wc(r,e.getCompare()):c=ys;const d=e.toString(),h=Object.assign({},this.indexSet_);h[d]=e;const v=Object.assign({},this.indexes_);return v[d]=c,new dr(v,h)}addToIndexes(e,n){const r=gc(this.indexes_,(s,l)=>{const a=Zs(this.indexSet_,l);if(F(a,"Missing index implementation for "+l),s===ys)if(a.isDefinedOn(e.node)){const c=[],d=n.getIterator(ue.Wrap);let h=d.getNext();for(;h;)h.name!==e.name&&c.push(h),h=d.getNext();return c.push(e),wc(c,a.getCompare())}else return ys;else{const c=n.get(e.name);let d=s;return c&&(d=d.remove(new ue(e.name,c))),d.insert(e,e.node)}});return new dr(r,this.indexSet_)}removeFromIndexes(e,n){const r=gc(this.indexes_,s=>{if(s===ys)return s;{const l=n.get(e.name);return l?s.remove(new ue(e.name,l)):s}});return new dr(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jo;class Z{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&wS(this.priorityNode_),this.children_.isEmpty()&&F(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Jo||(Jo=new Z(new Ut(jg),null,dr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Jo}updatePriority(e){return this.children_.isEmpty()?this:new Z(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Jo:n}}getChild(e){const n=ae(e);return n===null?this:this.getImmediateChild(n).getChild(Ne(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(F(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ue(e,n);let s,l;n.isEmpty()?(s=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),l=this.indexMap_.addToIndexes(r,this.children_));const a=s.isEmpty()?Jo:this.priorityNode_;return new Z(s,a,l)}}updateChild(e,n){const r=ae(e);if(r===null)return n;{F(ae(e)!==".priority"||ai(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Ne(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,l=!0;if(this.forEachChild(He,(a,c)=>{n[a]=c.val(e),r++,l&&Z.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):l=!1}),!e&&l&&s<2*r){const a=[];for(const c in n)a[c]=n[c];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+yS(this.getPriority().val())+":"),this.forEachChild(He,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":j1(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const l=s.getPredecessorKey(new ue(e,n));return l?l.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ue(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ue(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,ue.Wrap);let l=s.peek();for(;l!=null&&n.compare(l,e)<0;)s.getNext(),l=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,ue.Wrap);let l=s.peek();for(;l!=null&&n.compare(l,e)>0;)s.getNext(),l=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===oa?-1:0}withIndex(e){if(e===$s||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Z(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===$s||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(He),s=n.getIterator(He);let l=r.getNext(),a=s.getNext();for(;l&&a;){if(l.name!==a.name||!l.node.equals(a.node))return!1;l=r.getNext(),a=s.getNext()}return l===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===$s?null:this.indexMap_.get(e.toString())}}Z.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class B2 extends Z{constructor(){super(new Ut(jg),Z.EMPTY_NODE,dr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Z.EMPTY_NODE}isEmpty(){return!1}}const oa=new B2;Object.defineProperties(ue,{MIN:{value:new ue(to,Z.EMPTY_NODE)},MAX:{value:new ue(ji,oa)}});vS.__EMPTY_NODE=Z.EMPTY_NODE;nt.__childrenNodeConstructor=Z;M2(oa);F2(oa);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=!0;function st(t,e=null){if(t===null)return Z.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),F(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new nt(n,st(e))}if(!(t instanceof Array)&&H2){const n=[];let r=!1;if($t(t,(a,c)=>{if(a.substring(0,1)!=="."){const d=st(c);d.isEmpty()||(r=r||!d.getPriority().isEmpty(),n.push(new ue(a,d)))}}),n.length===0)return Z.EMPTY_NODE;const l=wc(n,D2,a=>a.name,jg);if(r){const a=wc(n,He.getCompare());return new Z(l,st(e),new dr({".priority":a},{".priority":He}))}else return new Z(l,st(e),dr.Default)}else{let n=Z.EMPTY_NODE;return $t(t,(r,s)=>{if(Ir(t,r)&&r.substring(0,1)!=="."){const l=st(s);(l.isLeafNode()||!l.isEmpty())&&(n=n.updateImmediateChild(r,l))}}),n.updatePriority(st(e))}}b2(st);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2 extends Zc{constructor(e){super(),this.indexPath_=e,F(!de(e)&&ae(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),l=r.compareTo(s);return l===0?fo(e.name,n.name):l}makePost(e,n){const r=st(e),s=Z.EMPTY_NODE.updateChild(this.indexPath_,r);return new ue(n,s)}maxPost(){const e=Z.EMPTY_NODE.updateChild(this.indexPath_,oa);return new ue(ji,e)}toString(){return gS(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2 extends Zc{compare(e,n){const r=e.node.compareTo(n.node);return r===0?fo(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ue.MIN}maxPost(){return ue.MAX}makePost(e,n){const r=st(e);return new ue(n,r)}toString(){return".value"}}const G2=new V2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(t){return{type:"value",snapshotNode:t}}function no(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Hl(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function $l(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function j2(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e){this.index_=e}updateChild(e,n,r,s,l,a){F(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=e.getImmediateChild(n);return c.getChild(s).equals(r.getChild(s))&&c.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?e.hasChild(n)?a.trackChildChange(Hl(n,c)):F(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?a.trackChildChange(no(n,r)):a.trackChildChange($l(n,r,c))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(He,(s,l)=>{n.hasChild(s)||r.trackChildChange(Hl(s,l))}),n.isLeafNode()||n.forEachChild(He,(s,l)=>{if(e.hasChild(s)){const a=e.getImmediateChild(s);a.equals(l)||r.trackChildChange($l(s,l,a))}else r.trackChildChange(no(s,l))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Z.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e){this.indexedFilter_=new Kg(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Vl.getStartPost_(e),this.endPost_=Vl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,l,a){return this.matches(new ue(n,r))||(r=Z.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,l,a)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Z.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(Z.EMPTY_NODE);const l=this;return n.forEachChild(He,(a,c)=>{l.matches(new ue(a,c))||(s=s.updateImmediateChild(a,Z.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Vl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,l,a){return this.rangedFilter_.matches(new ue(n,r))||(r=Z.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,l,a):this.fullLimitUpdateChild_(e,n,r,l,a)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=Z.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=Z.EMPTY_NODE.withIndex(this.index_);let l;this.reverse_?l=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;l.hasNext()&&a<this.limit_;){const c=l.getNext();if(this.withinDirectionalStart(c))if(this.withinDirectionalEnd(c))s=s.updateImmediateChild(c.name,c.node),a++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(Z.EMPTY_NODE);let l;this.reverse_?l=s.getReverseIterator(this.index_):l=s.getIterator(this.index_);let a=0;for(;l.hasNext();){const c=l.getNext();a<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?a++:s=s.updateImmediateChild(c.name,Z.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,l){let a;if(this.reverse_){const m=this.index_.getCompare();a=(y,R)=>m(R,y)}else a=this.index_.getCompare();const c=e;F(c.numChildren()===this.limit_,"");const d=new ue(n,r),h=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),v=this.rangedFilter_.matches(d);if(c.hasChild(n)){const m=c.getImmediateChild(n);let y=s.getChildAfterChild(this.index_,h,this.reverse_);for(;y!=null&&(y.name===n||c.hasChild(y.name));)y=s.getChildAfterChild(this.index_,y,this.reverse_);const R=y==null?1:a(y,d);if(v&&!r.isEmpty()&&R>=0)return l!=null&&l.trackChildChange($l(n,r,m)),c.updateImmediateChild(n,r);{l!=null&&l.trackChildChange(Hl(n,m));const P=c.updateImmediateChild(n,Z.EMPTY_NODE);return y!=null&&this.rangedFilter_.matches(y)?(l!=null&&l.trackChildChange(no(y.name,y.node)),P.updateImmediateChild(y.name,y.node)):P}}else return r.isEmpty()?e:v&&a(h,d)>=0?(l!=null&&(l.trackChildChange(Hl(h.name,h.node)),l.trackChildChange(no(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(h.name,Z.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=He}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return F(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return F(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:to}hasEnd(){return this.endSet_}getIndexEndValue(){return F(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return F(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ji}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return F(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===He}copy(){const e=new Yg;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Y2(t){return t.loadsAllData()?new Kg(t.getIndex()):t.hasLimit()?new K2(t):new Vl(t)}function U0(t){const e={};if(t.isDefault())return e;let n;if(t.index_===He?n="$priority":t.index_===G2?n="$value":t.index_===$s?n="$key":(F(t.index_ instanceof $2,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Je(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Je(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Je(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Je(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Je(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function W0(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==He&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends dS{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=sa("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(F(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const l=e._path.toString();this.log_("Listen called for "+l+" "+e._queryIdentifier);const a=Ec.getListenId_(e,r),c={};this.listens_[a]=c;const d=U0(e._queryParams);this.restRequest_(l+".json",d,(h,v)=>{let m=v;if(h===404&&(m=null,h=null),h===null&&this.onDataUpdate_(l,m,!1,r),Zs(this.listens_,a)===c){let y;h?h===401?y="permission_denied":y="rest_error:"+h:y="ok",s(y,null)}})}unlisten(e,n){const r=Ec.getListenId_(e,n);delete this.listens_[r]}get(e){const n=U0(e._queryParams),r=e._path.toString(),s=new Xc;return this.restRequest_(r+".json",n,(l,a)=>{let c=a;l===404&&(c=null,l=null),l===null?(this.onDataUpdate_(r,c,!1,null),s.resolve(c)):s.reject(new Error(c))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,l])=>{s&&s.accessToken&&(n.auth=s.accessToken),l&&l.token&&(n.ac=l.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+co(n);this.log_("Sending REST request for "+a);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&c.readyState===4){this.log_("REST Response for "+a+" received. status:",c.status,"response:",c.responseText);let d=null;if(c.status>=200&&c.status<300){try{d=Wl(c.responseText)}catch{Ht("Failed to parse JSON response for "+a+": "+c.responseText)}r(null,d)}else c.status!==401&&c.status!==404&&Ht("Got unsuccessful REST response for "+a+" Status: "+c.status),r(c.status);r=null}},c.open("GET",a,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(){this.rootNode_=Z.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(){return{value:null,children:new Map}}function IS(t,e,n){if(de(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=ae(e);t.children.has(r)||t.children.set(r,Sc());const s=t.children.get(r);e=Ne(e),IS(s,e,n)}}function kp(t,e,n){t.value!==null?n(e,t.value):Q2(t,(r,s)=>{const l=new ke(e.toString()+"/"+r);kp(s,l,n)})}function Q2(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&$t(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0=10*1e3,J2=30*1e3,Z2=5*60*1e3;class eb{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new X2(e);const r=z0+(J2-z0)*Math.random();_l(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;$t(e,(s,l)=>{l>0&&Ir(this.statsToReport_,s)&&(n[s]=l,r=!0)}),r&&this.server_.reportStats(n),_l(this.reportStats_.bind(this),Math.floor(Math.random()*2*Z2))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var On;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(On||(On={}));function TS(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function qg(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Qg(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=On.ACK_USER_WRITE,this.source=TS()}operationForChild(e){if(de(this.path)){if(this.affectedTree.value!=null)return F(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ke(e));return new Cc(ve(),n,this.revert)}}else return F(ae(this.path)===e,"operationForChild called for unrelated child."),new Cc(Ne(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n){this.source=e,this.path=n,this.type=On.LISTEN_COMPLETE}operationForChild(e){return de(this.path)?new Gl(this.source,ve()):new Gl(this.source,Ne(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=On.OVERWRITE}operationForChild(e){return de(this.path)?new Ki(this.source,ve(),this.snap.getImmediateChild(e)):new Ki(this.source,Ne(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=On.MERGE}operationForChild(e){if(de(this.path)){const n=this.children.subtree(new ke(e));return n.isEmpty()?null:n.value?new Ki(this.source,ve(),n.value):new jl(this.source,ve(),n)}else return F(ae(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new jl(this.source,Ne(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(de(e))return this.isFullyInitialized()&&!this.filtered_;const n=ae(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function nb(t,e,n,r){const s=[],l=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&l.push(j2(a.childName,a.snapshotNode))}),Zo(t,s,"child_removed",e,r,n),Zo(t,s,"child_added",e,r,n),Zo(t,s,"child_moved",l,r,n),Zo(t,s,"child_changed",e,r,n),Zo(t,s,"value",e,r,n),s}function Zo(t,e,n,r,s,l){const a=r.filter(c=>c.type===n);a.sort((c,d)=>ib(t,c,d)),a.forEach(c=>{const d=rb(t,c,l);s.forEach(h=>{h.respondsTo(c.type)&&e.push(h.createEvent(d,t.query_))})})}function rb(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function ib(t,e,n){if(e.childName==null||n.childName==null)throw uo("Should only compare child_ events.");const r=new ue(e.childName,e.snapshotNode),s=new ue(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(t,e){return{eventCache:t,serverCache:e}}function ml(t,e,n,r){return ef(new ui(e,n,r),t.serverCache)}function kS(t,e,n,r){return ef(t.eventCache,new ui(e,n,r))}function Ic(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Yi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _h;const sb=()=>(_h||(_h=new Ut(VM)),_h);class Oe{constructor(e,n=sb()){this.value=e,this.children=n}static fromObject(e){let n=new Oe(null);return $t(e,(r,s)=>{n=n.set(new ke(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ve(),value:this.value};if(de(e))return null;{const r=ae(e),s=this.children.get(r);if(s!==null){const l=s.findRootMostMatchingPathAndValue(Ne(e),n);return l!=null?{path:Ze(new ke(r),l.path),value:l.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(de(e))return this;{const n=ae(e),r=this.children.get(n);return r!==null?r.subtree(Ne(e)):new Oe(null)}}set(e,n){if(de(e))return new Oe(n,this.children);{const r=ae(e),l=(this.children.get(r)||new Oe(null)).set(Ne(e),n),a=this.children.insert(r,l);return new Oe(this.value,a)}}remove(e){if(de(e))return this.children.isEmpty()?new Oe(null):new Oe(null,this.children);{const n=ae(e),r=this.children.get(n);if(r){const s=r.remove(Ne(e));let l;return s.isEmpty()?l=this.children.remove(n):l=this.children.insert(n,s),this.value===null&&l.isEmpty()?new Oe(null):new Oe(this.value,l)}else return this}}get(e){if(de(e))return this.value;{const n=ae(e),r=this.children.get(n);return r?r.get(Ne(e)):null}}setTree(e,n){if(de(e))return n;{const r=ae(e),l=(this.children.get(r)||new Oe(null)).setTree(Ne(e),n);let a;return l.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,l),new Oe(this.value,a)}}fold(e){return this.fold_(ve(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,l)=>{r[s]=l.fold_(Ze(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ve(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(de(e))return null;{const l=ae(e),a=this.children.get(l);return a?a.findOnPath_(Ne(e),Ze(n,l),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ve(),n)}foreachOnPath_(e,n,r){if(de(e))return this;{this.value&&r(n,this.value);const s=ae(e),l=this.children.get(s);return l?l.foreachOnPath_(Ne(e),Ze(n,s),r):new Oe(null)}}foreach(e){this.foreach_(ve(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(Ze(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.writeTree_=e}static empty(){return new Mn(new Oe(null))}}function vl(t,e,n){if(de(e))return new Mn(new Oe(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let l=r.value;const a=Rt(s,e);return l=l.updateChild(a,n),new Mn(t.writeTree_.set(s,l))}else{const s=new Oe(n),l=t.writeTree_.setTree(e,s);return new Mn(l)}}}function B0(t,e,n){let r=t;return $t(n,(s,l)=>{r=vl(r,Ze(e,s),l)}),r}function H0(t,e){if(de(e))return Mn.empty();{const n=t.writeTree_.setTree(e,new Oe(null));return new Mn(n)}}function Rp(t,e){return Zi(t,e)!=null}function Zi(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Rt(n.path,e)):null}function $0(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(He,(r,s)=>{e.push(new ue(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new ue(r,s.value))}),e}function ri(t,e){if(de(e))return t;{const n=Zi(t,e);return n!=null?new Mn(new Oe(n)):new Mn(t.writeTree_.subtree(e))}}function Np(t){return t.writeTree_.isEmpty()}function ro(t,e){return RS(ve(),t.writeTree_,e)}function RS(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,l)=>{s===".priority"?(F(l.value!==null,"Priority writes must always be leaf nodes"),r=l.value):n=RS(Ze(t,s),l,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Ze(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(t,e){return PS(e,t)}function ob(t,e,n,r,s){F(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=vl(t.visibleWrites,e,n)),t.lastWriteId=r}function lb(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function ab(t,e){const n=t.allWrites.findIndex(c=>c.writeId===e);F(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,l=!1,a=t.allWrites.length-1;for(;s&&a>=0;){const c=t.allWrites[a];c.visible&&(a>=n&&ub(c,r.path)?s=!1:Pn(r.path,c.path)&&(l=!0)),a--}if(s){if(l)return cb(t),!0;if(r.snap)t.visibleWrites=H0(t.visibleWrites,r.path);else{const c=r.children;$t(c,d=>{t.visibleWrites=H0(t.visibleWrites,Ze(r.path,d))})}return!0}else return!1}function ub(t,e){if(t.snap)return Pn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Pn(Ze(t.path,n),e))return!0;return!1}function cb(t){t.visibleWrites=NS(t.allWrites,fb,ve()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function fb(t){return t.visible}function NS(t,e,n){let r=Mn.empty();for(let s=0;s<t.length;++s){const l=t[s];if(e(l)){const a=l.path;let c;if(l.snap)Pn(n,a)?(c=Rt(n,a),r=vl(r,c,l.snap)):Pn(a,n)&&(c=Rt(a,n),r=vl(r,ve(),l.snap.getChild(c)));else if(l.children){if(Pn(n,a))c=Rt(n,a),r=B0(r,c,l.children);else if(Pn(a,n))if(c=Rt(a,n),de(c))r=B0(r,ve(),l.children);else{const d=Zs(l.children,ae(c));if(d){const h=d.getChild(Ne(c));r=vl(r,ve(),h)}}}else throw uo("WriteRecord should have .snap or .children")}}return r}function xS(t,e,n,r,s){if(!r&&!s){const l=Zi(t.visibleWrites,e);if(l!=null)return l;{const a=ri(t.visibleWrites,e);if(Np(a))return n;if(n==null&&!Rp(a,ve()))return null;{const c=n||Z.EMPTY_NODE;return ro(a,c)}}}else{const l=ri(t.visibleWrites,e);if(!s&&Np(l))return n;if(!s&&n==null&&!Rp(l,ve()))return null;{const a=function(h){return(h.visible||s)&&(!r||!~r.indexOf(h.writeId))&&(Pn(h.path,e)||Pn(e,h.path))},c=NS(t.allWrites,a,e),d=n||Z.EMPTY_NODE;return ro(c,d)}}}function db(t,e,n){let r=Z.EMPTY_NODE;const s=Zi(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(He,(l,a)=>{r=r.updateImmediateChild(l,a)}),r;if(n){const l=ri(t.visibleWrites,e);return n.forEachChild(He,(a,c)=>{const d=ro(ri(l,new ke(a)),c);r=r.updateImmediateChild(a,d)}),$0(l).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}else{const l=ri(t.visibleWrites,e);return $0(l).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}}function hb(t,e,n,r,s){F(r||s,"Either existingEventSnap or existingServerSnap must exist");const l=Ze(e,n);if(Rp(t.visibleWrites,l))return null;{const a=ri(t.visibleWrites,l);return Np(a)?s.getChild(n):ro(a,s.getChild(n))}}function pb(t,e,n,r){const s=Ze(e,n),l=Zi(t.visibleWrites,s);if(l!=null)return l;if(r.isCompleteForChild(n)){const a=ri(t.visibleWrites,s);return ro(a,r.getNode().getImmediateChild(n))}else return null}function gb(t,e){return Zi(t.visibleWrites,e)}function _b(t,e,n,r,s,l,a){let c;const d=ri(t.visibleWrites,e),h=Zi(d,ve());if(h!=null)c=h;else if(n!=null)c=ro(d,n);else return[];if(c=c.withIndex(a),!c.isEmpty()&&!c.isLeafNode()){const v=[],m=a.getCompare(),y=l?c.getReverseIteratorFrom(r,a):c.getIteratorFrom(r,a);let R=y.getNext();for(;R&&v.length<s;)m(R,r)!==0&&v.push(R),R=y.getNext();return v}else return[]}function mb(){return{visibleWrites:Mn.empty(),allWrites:[],lastWriteId:-1}}function Tc(t,e,n,r){return xS(t.writeTree,t.treePath,e,n,r)}function Xg(t,e){return db(t.writeTree,t.treePath,e)}function V0(t,e,n,r){return hb(t.writeTree,t.treePath,e,n,r)}function kc(t,e){return gb(t.writeTree,Ze(t.treePath,e))}function vb(t,e,n,r,s,l){return _b(t.writeTree,t.treePath,e,n,r,s,l)}function Jg(t,e,n){return pb(t.writeTree,t.treePath,e,n)}function AS(t,e){return PS(Ze(t.treePath,e),t.writeTree)}function PS(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;F(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),F(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const l=s.type;if(n==="child_added"&&l==="child_removed")this.changeMap.set(r,$l(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&l==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&l==="child_changed")this.changeMap.set(r,Hl(r,s.oldSnap));else if(n==="child_changed"&&l==="child_added")this.changeMap.set(r,no(r,e.snapshotNode));else if(n==="child_changed"&&l==="child_changed")this.changeMap.set(r,$l(r,e.snapshotNode,s.oldSnap));else throw uo("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const OS=new wb;class Zg{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ui(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Jg(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Yi(this.viewCache_),l=vb(this.writes_,s,n,1,r,e);return l.length===0?null:l[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(t){return{filter:t}}function Sb(t,e){F(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),F(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Cb(t,e,n,r,s){const l=new yb;let a,c;if(n.type===On.OVERWRITE){const h=n;h.source.fromUser?a=xp(t,e,h.path,h.snap,r,s,l):(F(h.source.fromServer,"Unknown source."),c=h.source.tagged||e.serverCache.isFiltered()&&!de(h.path),a=Rc(t,e,h.path,h.snap,r,s,c,l))}else if(n.type===On.MERGE){const h=n;h.source.fromUser?a=Tb(t,e,h.path,h.children,r,s,l):(F(h.source.fromServer,"Unknown source."),c=h.source.tagged||e.serverCache.isFiltered(),a=Ap(t,e,h.path,h.children,r,s,c,l))}else if(n.type===On.ACK_USER_WRITE){const h=n;h.revert?a=Nb(t,e,h.path,r,s,l):a=kb(t,e,h.path,h.affectedTree,r,s,l)}else if(n.type===On.LISTEN_COMPLETE)a=Rb(t,e,n.path,r,l);else throw uo("Unknown operation type: "+n.type);const d=l.getChanges();return Ib(e,a,d),{viewCache:a,changes:d}}function Ib(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),l=Ic(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(l)||!r.getNode().getPriority().equals(l.getPriority()))&&n.push(CS(Ic(e)))}}function LS(t,e,n,r,s,l){const a=e.eventCache;if(kc(r,n)!=null)return e;{let c,d;if(de(n))if(F(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const h=Yi(e),v=h instanceof Z?h:Z.EMPTY_NODE,m=Xg(r,v);c=t.filter.updateFullNode(e.eventCache.getNode(),m,l)}else{const h=Tc(r,Yi(e));c=t.filter.updateFullNode(e.eventCache.getNode(),h,l)}else{const h=ae(n);if(h===".priority"){F(ai(n)===1,"Can't have a priority with additional path components");const v=a.getNode();d=e.serverCache.getNode();const m=V0(r,n,v,d);m!=null?c=t.filter.updatePriority(v,m):c=a.getNode()}else{const v=Ne(n);let m;if(a.isCompleteForChild(h)){d=e.serverCache.getNode();const y=V0(r,n,a.getNode(),d);y!=null?m=a.getNode().getImmediateChild(h).updateChild(v,y):m=a.getNode().getImmediateChild(h)}else m=Jg(r,h,e.serverCache);m!=null?c=t.filter.updateChild(a.getNode(),h,m,v,s,l):c=a.getNode()}}return ml(e,c,a.isFullyInitialized()||de(n),t.filter.filtersNodes())}}function Rc(t,e,n,r,s,l,a,c){const d=e.serverCache;let h;const v=a?t.filter:t.filter.getIndexedFilter();if(de(n))h=v.updateFullNode(d.getNode(),r,null);else if(v.filtersNodes()&&!d.isFiltered()){const R=d.getNode().updateChild(n,r);h=v.updateFullNode(d.getNode(),R,null)}else{const R=ae(n);if(!d.isCompleteForPath(n)&&ai(n)>1)return e;const N=Ne(n),$=d.getNode().getImmediateChild(R).updateChild(N,r);R===".priority"?h=v.updatePriority(d.getNode(),$):h=v.updateChild(d.getNode(),R,$,N,OS,null)}const m=kS(e,h,d.isFullyInitialized()||de(n),v.filtersNodes()),y=new Zg(s,m,l);return LS(t,m,n,s,y,c)}function xp(t,e,n,r,s,l,a){const c=e.eventCache;let d,h;const v=new Zg(s,e,l);if(de(n))h=t.filter.updateFullNode(e.eventCache.getNode(),r,a),d=ml(e,h,!0,t.filter.filtersNodes());else{const m=ae(n);if(m===".priority")h=t.filter.updatePriority(e.eventCache.getNode(),r),d=ml(e,h,c.isFullyInitialized(),c.isFiltered());else{const y=Ne(n),R=c.getNode().getImmediateChild(m);let N;if(de(y))N=r;else{const P=v.getCompleteChild(m);P!=null?pS(y)===".priority"&&P.getChild(_S(y)).isEmpty()?N=P:N=P.updateChild(y,r):N=Z.EMPTY_NODE}if(R.equals(N))d=e;else{const P=t.filter.updateChild(c.getNode(),m,N,y,v,a);d=ml(e,P,c.isFullyInitialized(),t.filter.filtersNodes())}}}return d}function G0(t,e){return t.eventCache.isCompleteForChild(e)}function Tb(t,e,n,r,s,l,a){let c=e;return r.foreach((d,h)=>{const v=Ze(n,d);G0(e,ae(v))&&(c=xp(t,c,v,h,s,l,a))}),r.foreach((d,h)=>{const v=Ze(n,d);G0(e,ae(v))||(c=xp(t,c,v,h,s,l,a))}),c}function j0(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function Ap(t,e,n,r,s,l,a,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let d=e,h;de(n)?h=r:h=new Oe(null).setTree(n,r);const v=e.serverCache.getNode();return h.children.inorderTraversal((m,y)=>{if(v.hasChild(m)){const R=e.serverCache.getNode().getImmediateChild(m),N=j0(t,R,y);d=Rc(t,d,new ke(m),N,s,l,a,c)}}),h.children.inorderTraversal((m,y)=>{const R=!e.serverCache.isCompleteForChild(m)&&y.value===null;if(!v.hasChild(m)&&!R){const N=e.serverCache.getNode().getImmediateChild(m),P=j0(t,N,y);d=Rc(t,d,new ke(m),P,s,l,a,c)}}),d}function kb(t,e,n,r,s,l,a){if(kc(s,n)!=null)return e;const c=e.serverCache.isFiltered(),d=e.serverCache;if(r.value!=null){if(de(n)&&d.isFullyInitialized()||d.isCompleteForPath(n))return Rc(t,e,n,d.getNode().getChild(n),s,l,c,a);if(de(n)){let h=new Oe(null);return d.getNode().forEachChild($s,(v,m)=>{h=h.set(new ke(v),m)}),Ap(t,e,n,h,s,l,c,a)}else return e}else{let h=new Oe(null);return r.foreach((v,m)=>{const y=Ze(n,v);d.isCompleteForPath(y)&&(h=h.set(v,d.getNode().getChild(y)))}),Ap(t,e,n,h,s,l,c,a)}}function Rb(t,e,n,r,s){const l=e.serverCache,a=kS(e,l.getNode(),l.isFullyInitialized()||de(n),l.isFiltered());return LS(t,a,n,r,OS,s)}function Nb(t,e,n,r,s,l){let a;if(kc(r,n)!=null)return e;{const c=new Zg(r,e,s),d=e.eventCache.getNode();let h;if(de(n)||ae(n)===".priority"){let v;if(e.serverCache.isFullyInitialized())v=Tc(r,Yi(e));else{const m=e.serverCache.getNode();F(m instanceof Z,"serverChildren would be complete if leaf node"),v=Xg(r,m)}v=v,h=t.filter.updateFullNode(d,v,l)}else{const v=ae(n);let m=Jg(r,v,e.serverCache);m==null&&e.serverCache.isCompleteForChild(v)&&(m=d.getImmediateChild(v)),m!=null?h=t.filter.updateChild(d,v,m,Ne(n),c,l):e.eventCache.getNode().hasChild(v)?h=t.filter.updateChild(d,v,Z.EMPTY_NODE,Ne(n),c,l):h=d,h.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=Tc(r,Yi(e)),a.isLeafNode()&&(h=t.filter.updateFullNode(h,a,l)))}return a=e.serverCache.isFullyInitialized()||kc(r,ve())!=null,ml(e,h,a,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new Kg(r.getIndex()),l=Y2(r);this.processor_=Eb(l);const a=n.serverCache,c=n.eventCache,d=s.updateFullNode(Z.EMPTY_NODE,a.getNode(),null),h=l.updateFullNode(Z.EMPTY_NODE,c.getNode(),null),v=new ui(d,a.isFullyInitialized(),s.filtersNodes()),m=new ui(h,c.isFullyInitialized(),l.filtersNodes());this.viewCache_=ef(m,v),this.eventGenerator_=new tb(this.query_)}get query(){return this.query_}}function Ab(t){return t.viewCache_.serverCache.getNode()}function Pb(t){return Ic(t.viewCache_)}function Ob(t,e){const n=Yi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!de(e)&&!n.getImmediateChild(ae(e)).isEmpty())?n.getChild(e):null}function K0(t){return t.eventRegistrations_.length===0}function Lb(t,e){t.eventRegistrations_.push(e)}function Y0(t,e,n){const r=[];if(n){F(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(l=>{const a=l.createCancelEvent(n,s);a&&r.push(a)})}if(e){let s=[];for(let l=0;l<t.eventRegistrations_.length;++l){const a=t.eventRegistrations_[l];if(!a.matches(e))s.push(a);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(l+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function q0(t,e,n,r){e.type===On.MERGE&&e.source.queryId!==null&&(F(Yi(t.viewCache_),"We should always have a full cache before handling merges"),F(Ic(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,l=Cb(t.processor_,s,e,n,r);return Sb(t.processor_,l.viewCache),F(l.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=l.viewCache,DS(t,l.changes,l.viewCache.eventCache.getNode(),null)}function Db(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(He,(l,a)=>{r.push(no(l,a))}),n.isFullyInitialized()&&r.push(CS(n.getNode())),DS(t,r,n.getNode(),e)}function DS(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return nb(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nc;class MS{constructor(){this.views=new Map}}function Mb(t){F(!Nc,"__referenceConstructor has already been defined"),Nc=t}function bb(){return F(Nc,"Reference.ts has not been loaded"),Nc}function Fb(t){return t.views.size===0}function e_(t,e,n,r){const s=e.source.queryId;if(s!==null){const l=t.views.get(s);return F(l!=null,"SyncTree gave us an op for an invalid query."),q0(l,e,n,r)}else{let l=[];for(const a of t.views.values())l=l.concat(q0(a,e,n,r));return l}}function bS(t,e,n,r,s){const l=e._queryIdentifier,a=t.views.get(l);if(!a){let c=Tc(n,s?r:null),d=!1;c?d=!0:r instanceof Z?(c=Xg(n,r),d=!1):(c=Z.EMPTY_NODE,d=!1);const h=ef(new ui(c,d,!1),new ui(r,s,!1));return new xb(e,h)}return a}function Ub(t,e,n,r,s,l){const a=bS(t,e,r,s,l);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),Lb(a,n),Db(a,n)}function Wb(t,e,n,r){const s=e._queryIdentifier,l=[];let a=[];const c=ci(t);if(s==="default")for(const[d,h]of t.views.entries())a=a.concat(Y0(h,n,r)),K0(h)&&(t.views.delete(d),h.query._queryParams.loadsAllData()||l.push(h.query));else{const d=t.views.get(s);d&&(a=a.concat(Y0(d,n,r)),K0(d)&&(t.views.delete(s),d.query._queryParams.loadsAllData()||l.push(d.query)))}return c&&!ci(t)&&l.push(new(bb())(e._repo,e._path)),{removed:l,events:a}}function FS(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ii(t,e){let n=null;for(const r of t.views.values())n=n||Ob(r,e);return n}function US(t,e){if(e._queryParams.loadsAllData())return nf(t);{const r=e._queryIdentifier;return t.views.get(r)}}function WS(t,e){return US(t,e)!=null}function ci(t){return nf(t)!=null}function nf(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xc;function zb(t){F(!xc,"__referenceConstructor has already been defined"),xc=t}function Bb(){return F(xc,"Reference.ts has not been loaded"),xc}let Hb=1;class Q0{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Oe(null),this.pendingWriteTree_=mb(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function zS(t,e,n,r,s){return ob(t.pendingWriteTree_,e,n,r,s),s?aa(t,new Ki(TS(),e,n)):[]}function Di(t,e,n=!1){const r=lb(t.pendingWriteTree_,e);if(ab(t.pendingWriteTree_,e)){let l=new Oe(null);return r.snap!=null?l=l.set(ve(),!0):$t(r.children,a=>{l=l.set(new ke(a),!0)}),aa(t,new Cc(r.path,l,n))}else return[]}function la(t,e,n){return aa(t,new Ki(qg(),e,n))}function $b(t,e,n){const r=Oe.fromObject(n);return aa(t,new jl(qg(),e,r))}function Vb(t,e){return aa(t,new Gl(qg(),e))}function Gb(t,e,n){const r=n_(t,n);if(r){const s=r_(r),l=s.path,a=s.queryId,c=Rt(l,e),d=new Gl(Qg(a),c);return i_(t,l,d)}else return[]}function Ac(t,e,n,r,s=!1){const l=e._path,a=t.syncPointTree_.get(l);let c=[];if(a&&(e._queryIdentifier==="default"||WS(a,e))){const d=Wb(a,e,n,r);Fb(a)&&(t.syncPointTree_=t.syncPointTree_.remove(l));const h=d.removed;if(c=d.events,!s){const v=h.findIndex(y=>y._queryParams.loadsAllData())!==-1,m=t.syncPointTree_.findOnPath(l,(y,R)=>ci(R));if(v&&!m){const y=t.syncPointTree_.subtree(l);if(!y.isEmpty()){const R=Yb(y);for(let N=0;N<R.length;++N){const P=R[N],$=P.query,C=VS(t,P);t.listenProvider_.startListening(yl($),Kl(t,$),C.hashFn,C.onComplete)}}}!m&&h.length>0&&!r&&(v?t.listenProvider_.stopListening(yl(e),null):h.forEach(y=>{const R=t.queryToTagMap.get(rf(y));t.listenProvider_.stopListening(yl(y),R)}))}qb(t,h)}return c}function BS(t,e,n,r){const s=n_(t,r);if(s!=null){const l=r_(s),a=l.path,c=l.queryId,d=Rt(a,e),h=new Ki(Qg(c),d,n);return i_(t,a,h)}else return[]}function jb(t,e,n,r){const s=n_(t,r);if(s){const l=r_(s),a=l.path,c=l.queryId,d=Rt(a,e),h=Oe.fromObject(n),v=new jl(Qg(c),d,h);return i_(t,a,v)}else return[]}function Pp(t,e,n,r=!1){const s=e._path;let l=null,a=!1;t.syncPointTree_.foreachOnPath(s,(y,R)=>{const N=Rt(y,s);l=l||ii(R,N),a=a||ci(R)});let c=t.syncPointTree_.get(s);c?(a=a||ci(c),l=l||ii(c,ve())):(c=new MS,t.syncPointTree_=t.syncPointTree_.set(s,c));let d;l!=null?d=!0:(d=!1,l=Z.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((R,N)=>{const P=ii(N,ve());P&&(l=l.updateImmediateChild(R,P))}));const h=WS(c,e);if(!h&&!e._queryParams.loadsAllData()){const y=rf(e);F(!t.queryToTagMap.has(y),"View does not exist, but we have a tag");const R=Qb();t.queryToTagMap.set(y,R),t.tagToQueryMap.set(R,y)}const v=tf(t.pendingWriteTree_,s);let m=Ub(c,e,n,v,l,d);if(!h&&!a&&!r){const y=US(c,e);m=m.concat(Xb(t,e,y))}return m}function t_(t,e,n){const s=t.pendingWriteTree_,l=t.syncPointTree_.findOnPath(e,(a,c)=>{const d=Rt(a,e),h=ii(c,d);if(h)return h});return xS(s,e,l,n,!0)}function Kb(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(h,v)=>{const m=Rt(h,n);r=r||ii(v,m)});let s=t.syncPointTree_.get(n);s?r=r||ii(s,ve()):(s=new MS,t.syncPointTree_=t.syncPointTree_.set(n,s));const l=r!=null,a=l?new ui(r,!0,!1):null,c=tf(t.pendingWriteTree_,e._path),d=bS(s,e,c,l?a.getNode():Z.EMPTY_NODE,l);return Pb(d)}function aa(t,e){return HS(e,t.syncPointTree_,null,tf(t.pendingWriteTree_,ve()))}function HS(t,e,n,r){if(de(t.path))return $S(t,e,n,r);{const s=e.get(ve());n==null&&s!=null&&(n=ii(s,ve()));let l=[];const a=ae(t.path),c=t.operationForChild(a),d=e.children.get(a);if(d&&c){const h=n?n.getImmediateChild(a):null,v=AS(r,a);l=l.concat(HS(c,d,h,v))}return s&&(l=l.concat(e_(s,t,r,n))),l}}function $S(t,e,n,r){const s=e.get(ve());n==null&&s!=null&&(n=ii(s,ve()));let l=[];return e.children.inorderTraversal((a,c)=>{const d=n?n.getImmediateChild(a):null,h=AS(r,a),v=t.operationForChild(a);v&&(l=l.concat($S(v,c,d,h)))}),s&&(l=l.concat(e_(s,t,r,n))),l}function VS(t,e){const n=e.query,r=Kl(t,n);return{hashFn:()=>(Ab(e)||Z.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?Gb(t,n._path,r):Vb(t,n._path);{const l=KM(s,n);return Ac(t,n,null,l)}}}}function Kl(t,e){const n=rf(e);return t.queryToTagMap.get(n)}function rf(t){return t._path.toString()+"$"+t._queryIdentifier}function n_(t,e){return t.tagToQueryMap.get(e)}function r_(t){const e=t.indexOf("$");return F(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ke(t.substr(0,e))}}function i_(t,e,n){const r=t.syncPointTree_.get(e);F(r,"Missing sync point for query tag that we're tracking");const s=tf(t.pendingWriteTree_,e);return e_(r,n,s,null)}function Yb(t){return t.fold((e,n,r)=>{if(n&&ci(n))return[nf(n)];{let s=[];return n&&(s=FS(n)),$t(r,(l,a)=>{s=s.concat(a)}),s}})}function yl(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Bb())(t._repo,t._path):t}function qb(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=rf(r),l=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(l)}}}function Qb(){return Hb++}function Xb(t,e,n){const r=e._path,s=Kl(t,e),l=VS(t,n),a=t.listenProvider_.startListening(yl(e),s,l.hashFn,l.onComplete),c=t.syncPointTree_.subtree(r);if(s)F(!ci(c.value),"If we're adding a query, it shouldn't be shadowed");else{const d=c.fold((h,v,m)=>{if(!de(h)&&v&&ci(v))return[nf(v).query];{let y=[];return v&&(y=y.concat(FS(v).map(R=>R.query))),$t(m,(R,N)=>{y=y.concat(N)}),y}});for(let h=0;h<d.length;++h){const v=d[h];t.listenProvider_.stopListening(yl(v),Kl(t,v))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new s_(n)}node(){return this.node_}}class o_{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ze(this.path_,e);return new o_(this.syncTree_,n)}node(){return t_(this.syncTree_,this.path_)}}const Jb=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},X0=function(t,e,n){if(!t||typeof t!="object")return t;if(F(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Zb(t[".sv"],e,n);if(typeof t[".sv"]=="object")return eF(t[".sv"],e);F(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Zb=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:F(!1,"Unexpected server value: "+t)}},eF=function(t,e,n){t.hasOwnProperty("increment")||F(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&F(!1,"Unexpected increment value: "+r);const s=e.node();if(F(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const a=s.getValue();return typeof a!="number"?r:a+r},tF=function(t,e,n,r){return l_(e,new o_(n,t),r)},GS=function(t,e,n){return l_(t,new s_(e),n)};function l_(t,e,n){const r=t.getPriority().val(),s=X0(r,e.getImmediateChild(".priority"),n);let l;if(t.isLeafNode()){const a=t,c=X0(a.getValue(),e,n);return c!==a.getValue()||s!==a.getPriority().val()?new nt(c,st(s)):t}else{const a=t;return l=a,s!==a.getPriority().val()&&(l=l.updatePriority(new nt(s))),a.forEachChild(He,(c,d)=>{const h=l_(d,e.getImmediateChild(c),n);h!==d&&(l=l.updateImmediateChild(c,h))}),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function u_(t,e){let n=e instanceof ke?e:new ke(e),r=t,s=ae(n);for(;s!==null;){const l=Zs(r.node.children,s)||{children:{},childCount:0};r=new a_(s,r,l),n=Ne(n),s=ae(n)}return r}function po(t){return t.node.value}function jS(t,e){t.node.value=e,Op(t)}function KS(t){return t.node.childCount>0}function nF(t){return po(t)===void 0&&!KS(t)}function sf(t,e){$t(t.node.children,(n,r)=>{e(new a_(n,t,r))})}function YS(t,e,n,r){n&&!r&&e(t),sf(t,s=>{YS(s,e,!0,r)}),n&&r&&e(t)}function rF(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function ua(t){return new ke(t.parent===null?t.name:ua(t.parent)+"/"+t.name)}function Op(t){t.parent!==null&&iF(t.parent,t.name,t)}function iF(t,e,n){const r=nF(n),s=Ir(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,Op(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Op(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sF=/[\[\].#$\/\u0000-\u001F\u007F]/,oF=/[\[\].#$\u0000-\u001F\u007F]/,mh=10*1024*1024,qS=function(t){return typeof t=="string"&&t.length!==0&&!sF.test(t)},QS=function(t){return typeof t=="string"&&t.length!==0&&!oF.test(t)},lF=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),QS(t)},XS=function(t,e,n,r){r&&e===void 0||c_(bg(t,"value"),e,n)},c_=function(t,e,n){const r=n instanceof ke?new k2(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+xi(r));if(typeof e=="function")throw new Error(t+"contains a function "+xi(r)+" with contents = "+e.toString());if(K1(e))throw new Error(t+"contains "+e.toString()+" "+xi(r));if(typeof e=="string"&&e.length>mh/3&&Jc(e)>mh)throw new Error(t+"contains a string greater than "+mh+" utf8 bytes "+xi(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,l=!1;if($t(e,(a,c)=>{if(a===".value")s=!0;else if(a!==".priority"&&a!==".sv"&&(l=!0,!qS(a)))throw new Error(t+" contains an invalid key ("+a+") "+xi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);R2(r,a),c_(t,c,r),N2(r)}),s&&l)throw new Error(t+' contains ".value" child '+xi(r)+" in addition to actual children.")}},JS=function(t,e,n,r){if(!(r&&n===void 0)&&!QS(n))throw new Error(bg(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},aF=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),JS(t,e,n,r)},f_=function(t,e){if(ae(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},uF=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!qS(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!lF(n))throw new Error(bg(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function d_(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],l=s.getPath();n!==null&&!Vg(l,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:l}),n.events.push(s)}n&&t.eventLists_.push(n)}function ZS(t,e,n){d_(t,n),eC(t,r=>Vg(r,e))}function qn(t,e,n){d_(t,n),eC(t,r=>Pn(r,e)||Pn(e,r))}function eC(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const l=s.path;e(l)?(fF(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function fF(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Fi&&vt("event: "+n.toString()),ho(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF="repo_interrupt",hF=25;class pF{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new cF,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Sc(),this.transactionQueueTree_=new a_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function gF(t,e,n){if(t.stats_=Hg(t.repoInfo_),t.forceRestClient_||XM())t.server_=new Ec(t.repoInfo_,(r,s,l,a)=>{J0(t,r,s,l,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Z0(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Je(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new _r(t.repoInfo_,e,(r,s,l,a)=>{J0(t,r,s,l,a)},r=>{Z0(t,r)},r=>{_F(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=n2(t.repoInfo_,()=>new eb(t.stats_,t.server_)),t.infoData_=new q2,t.infoSyncTree_=new Q0({startListening:(r,s,l,a)=>{let c=[];const d=t.infoData_.getNode(r._path);return d.isEmpty()||(c=la(t.infoSyncTree_,r._path,d),setTimeout(()=>{a("ok")},0)),c},stopListening:()=>{}}),p_(t,"connected",!1),t.serverSyncTree_=new Q0({startListening:(r,s,l,a)=>(t.server_.listen(r,l,s,(c,d)=>{const h=a(c,d);qn(t.eventQueue_,r._path,h)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function tC(t){const n=t.infoData_.getNode(new ke(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function h_(t){return Jb({timestamp:tC(t)})}function J0(t,e,n,r,s){t.dataUpdateCount++;const l=new ke(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let a=[];if(s)if(r){const d=gc(n,h=>st(h));a=jb(t.serverSyncTree_,l,d,s)}else{const d=st(n);a=BS(t.serverSyncTree_,l,d,s)}else if(r){const d=gc(n,h=>st(h));a=$b(t.serverSyncTree_,l,d)}else{const d=st(n);a=la(t.serverSyncTree_,l,d)}let c=l;a.length>0&&(c=lf(t,l)),qn(t.eventQueue_,c,a)}function Z0(t,e){p_(t,"connected",e),e===!1&&yF(t)}function _F(t,e){$t(e,(n,r)=>{p_(t,n,r)})}function p_(t,e,n){const r=new ke("/.info/"+e),s=st(n);t.infoData_.updateSnapshot(r,s);const l=la(t.infoSyncTree_,r,s);qn(t.eventQueue_,r,l)}function nC(t){return t.nextWriteId_++}function mF(t,e,n){const r=Kb(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(s=>{const l=st(s).withIndex(e._queryParams.getIndex());Pp(t.serverSyncTree_,e,n,!0);let a;if(e._queryParams.loadsAllData())a=la(t.serverSyncTree_,e._path,l);else{const c=Kl(t.serverSyncTree_,e);a=BS(t.serverSyncTree_,e._path,l,c)}return qn(t.eventQueue_,e._path,a),Ac(t.serverSyncTree_,e,n,null,!0),l},s=>(of(t,"get for query "+Je(e)+" failed: "+s),Promise.reject(new Error(s))))}function vF(t,e,n,r,s){of(t,"set",{path:e.toString(),value:n,priority:r});const l=h_(t),a=st(n,r),c=t_(t.serverSyncTree_,e),d=GS(a,c,l),h=nC(t),v=zS(t.serverSyncTree_,e,d,h,!0);d_(t.eventQueue_,v),t.server_.put(e.toString(),a.val(!0),(y,R)=>{const N=y==="ok";N||Ht("set at "+e+" failed: "+y);const P=Di(t.serverSyncTree_,h,!N);qn(t.eventQueue_,e,P),SF(t,s,y,R)});const m=lC(t,e);lf(t,m),qn(t.eventQueue_,m,[])}function yF(t){of(t,"onDisconnectEvents");const e=h_(t),n=Sc();kp(t.onDisconnect_,ve(),(s,l)=>{const a=tF(s,l,t.serverSyncTree_,e);IS(n,s,a)});let r=[];kp(n,ve(),(s,l)=>{r=r.concat(la(t.serverSyncTree_,s,l));const a=lC(t,s);lf(t,a)}),t.onDisconnect_=Sc(),qn(t.eventQueue_,ve(),r)}function wF(t,e,n){let r;ae(e._path)===".info"?r=Pp(t.infoSyncTree_,e,n):r=Pp(t.serverSyncTree_,e,n),ZS(t.eventQueue_,e._path,r)}function Lp(t,e,n){let r;ae(e._path)===".info"?r=Ac(t.infoSyncTree_,e,n):r=Ac(t.serverSyncTree_,e,n),ZS(t.eventQueue_,e._path,r)}function EF(t){t.persistentConnection_&&t.persistentConnection_.interrupt(dF)}function of(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),vt(n,...e)}function SF(t,e,n,r){e&&ho(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let l=s;r&&(l+=": "+r);const a=new Error(l);a.code=s,e(a)}})}function rC(t,e,n){return t_(t.serverSyncTree_,e,n)||Z.EMPTY_NODE}function g_(t,e=t.transactionQueueTree_){if(e||af(t,e),po(e)){const n=sC(t,e);F(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&CF(t,ua(e),n)}else KS(e)&&sf(e,n=>{g_(t,n)})}function CF(t,e,n){const r=n.map(h=>h.currentWriteId),s=rC(t,e,r);let l=s;const a=s.hash();for(let h=0;h<n.length;h++){const v=n[h];F(v.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),v.status=1,v.retryCount++;const m=Rt(e,v.path);l=l.updateChild(m,v.currentOutputSnapshotRaw)}const c=l.val(!0),d=e;t.server_.put(d.toString(),c,h=>{of(t,"transaction put response",{path:d.toString(),status:h});let v=[];if(h==="ok"){const m=[];for(let y=0;y<n.length;y++)n[y].status=2,v=v.concat(Di(t.serverSyncTree_,n[y].currentWriteId)),n[y].onComplete&&m.push(()=>n[y].onComplete(null,!0,n[y].currentOutputSnapshotResolved)),n[y].unwatcher();af(t,u_(t.transactionQueueTree_,e)),g_(t,t.transactionQueueTree_),qn(t.eventQueue_,e,v);for(let y=0;y<m.length;y++)ho(m[y])}else{if(h==="datastale")for(let m=0;m<n.length;m++)n[m].status===3?n[m].status=4:n[m].status=0;else{Ht("transaction at "+d.toString()+" failed: "+h);for(let m=0;m<n.length;m++)n[m].status=4,n[m].abortReason=h}lf(t,e)}},a)}function lf(t,e){const n=iC(t,e),r=ua(n),s=sC(t,n);return IF(t,s,r),r}function IF(t,e,n){if(e.length===0)return;const r=[];let s=[];const a=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const d=e[c],h=Rt(n,d.path);let v=!1,m;if(F(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)v=!0,m=d.abortReason,s=s.concat(Di(t.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=hF)v=!0,m="maxretry",s=s.concat(Di(t.serverSyncTree_,d.currentWriteId,!0));else{const y=rC(t,d.path,a);d.currentInputSnapshot=y;const R=e[c].update(y.val());if(R!==void 0){c_("transaction failed: Data returned ",R,d.path);let N=st(R);typeof R=="object"&&R!=null&&Ir(R,".priority")||(N=N.updatePriority(y.getPriority()));const $=d.currentWriteId,C=h_(t),E=GS(N,y,C);d.currentOutputSnapshotRaw=N,d.currentOutputSnapshotResolved=E,d.currentWriteId=nC(t),a.splice(a.indexOf($),1),s=s.concat(zS(t.serverSyncTree_,d.path,E,d.currentWriteId,d.applyLocally)),s=s.concat(Di(t.serverSyncTree_,$,!0))}else v=!0,m="nodata",s=s.concat(Di(t.serverSyncTree_,d.currentWriteId,!0))}qn(t.eventQueue_,n,s),s=[],v&&(e[c].status=2,function(y){setTimeout(y,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(m==="nodata"?r.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):r.push(()=>e[c].onComplete(new Error(m),!1,null))))}af(t,t.transactionQueueTree_);for(let c=0;c<r.length;c++)ho(r[c]);g_(t,t.transactionQueueTree_)}function iC(t,e){let n,r=t.transactionQueueTree_;for(n=ae(e);n!==null&&po(r)===void 0;)r=u_(r,n),e=Ne(e),n=ae(e);return r}function sC(t,e){const n=[];return oC(t,e,n),n.sort((r,s)=>r.order-s.order),n}function oC(t,e,n){const r=po(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);sf(e,s=>{oC(t,s,n)})}function af(t,e){const n=po(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,jS(e,n.length>0?n:void 0)}sf(e,r=>{af(t,r)})}function lC(t,e){const n=ua(iC(t,e)),r=u_(t.transactionQueueTree_,e);return rF(r,s=>{vh(t,s)}),vh(t,r),YS(r,s=>{vh(t,s)}),n}function vh(t,e){const n=po(e);if(n){const r=[];let s=[],l=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(F(l===a-1,"All SENT items should be at beginning of queue."),l=a,n[a].status=3,n[a].abortReason="set"):(F(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),s=s.concat(Di(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));l===-1?jS(e,void 0):n.length=l+1,qn(t.eventQueue_,ua(e),s);for(let a=0;a<r.length;a++)ho(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function kF(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ht(`Invalid query segment '${n}' in query '${t}'`)}return e}const ew=function(t,e){const n=RF(t),r=n.namespace;n.domain==="firebase.com"&&Er(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Er("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||HM();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new sS(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new ke(n.pathString)}},RF=function(t){let e="",n="",r="",s="",l="",a=!0,c="https",d=443;if(typeof t=="string"){let h=t.indexOf("//");h>=0&&(c=t.substring(0,h-1),t=t.substring(h+2));let v=t.indexOf("/");v===-1&&(v=t.length);let m=t.indexOf("?");m===-1&&(m=t.length),e=t.substring(0,Math.min(v,m)),v<m&&(s=TF(t.substring(v,m)));const y=kF(t.substring(Math.min(t.length,m)));h=e.indexOf(":"),h>=0?(a=c==="https"||c==="wss",d=parseInt(e.substring(h+1),10)):h=e.length;const R=e.slice(0,h);if(R.toLowerCase()==="localhost")n="localhost";else if(R.split(".").length<=2)n=R;else{const N=e.indexOf(".");r=e.substring(0,N).toLowerCase(),n=e.substring(N+1),l=r}"ns"in y&&(l=y.ns)}return{host:e,port:d,domain:n,subdomain:r,secure:a,scheme:c,pathString:s,namespace:l}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",NF=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let s;const l=new Array(8);for(s=7;s>=0;s--)l[s]=tw.charAt(n%64),n=Math.floor(n/64);F(n===0,"Cannot push at time == 0");let a=l.join("");if(r){for(s=11;s>=0&&e[s]===63;s--)e[s]=0;e[s]++}else for(s=0;s<12;s++)e[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)a+=tw.charAt(e[s]);return F(a.length===20,"nextPushId: Length should be 20."),a}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Je(this.snapshot.exportVal())}}class uC{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return F(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return de(this._path)?null:pS(this._path)}get ref(){return new Qn(this._repo,this._path)}get _queryIdentifier(){const e=W0(this._queryParams),n=zg(e);return n==="{}"?"default":n}get _queryObject(){return W0(this._queryParams)}isEqual(e){if(e=dt(e),!(e instanceof m_))return!1;const n=this._repo===e._repo,r=Vg(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+T2(this._path)}}class Qn extends m_{constructor(e,n){super(e,n,new Yg,!1)}get parent(){const e=_S(this._path);return e===null?null:new Qn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class io{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ke(e),r=so(this.ref,e);return new io(this._node.getChild(n),r,He)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new io(s,so(this.ref,r),He)))}hasChild(e){const n=new ke(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function cC(t,e){return t=dt(t),t._checkNotDeleted("ref"),e!==void 0?so(t._root,e):t._root}function so(t,e){return t=dt(t),ae(t._path)===null?aF("child","path",e,!1):JS("child","path",e,!1),new Qn(t._repo,Ze(t._path,e))}function xF(t,e){t=dt(t),f_("push",t._path),XS("push",e,t._path,!0);const n=tC(t._repo),r=NF(n),s=so(t,r),l=so(t,r);let a;return e!=null?a=uf(l,e).then(()=>l):a=Promise.resolve(l),s.then=a.then.bind(a),s.catch=a.then.bind(a,void 0),s}function AF(t){return f_("remove",t._path),uf(t,null)}function uf(t,e){t=dt(t),f_("set",t._path),XS("set",e,t._path,!1);const n=new Xc;return vF(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function PF(t){t=dt(t);const e=new __(()=>{}),n=new ca(e);return mF(t._repo,t,n).then(r=>new io(r,new Qn(t._repo,t._path),t._queryParams.getIndex()))}class ca{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new aC("value",this,new io(e.snapshotNode,new Qn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new uC(this,e,n):null}matches(e){return e instanceof ca?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class cf{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new uC(this,e,n):null}createEvent(e,n){F(e.childName!=null,"Child events should have a childName.");const r=so(new Qn(n._repo,n._path),e.childName),s=n._queryParams.getIndex();return new aC(e.type,this,new io(e.snapshotNode,r,s),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof cf?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function OF(t,e,n,r,s){let l;if(typeof r=="object"&&(l=void 0,s=r),typeof r=="function"&&(l=r),s&&s.onlyOnce){const d=n,h=(v,m)=>{Lp(t._repo,t,c),d(v,m)};h.userCallback=n.userCallback,h.context=n.context,n=h}const a=new __(n,l||void 0),c=e==="value"?new ca(a):new cf(e,a);return wF(t._repo,t,c),()=>Lp(t._repo,t,c)}function LF(t,e,n,r){return OF(t,"value",e,n,r)}function DF(t,e,n){let r=null;const s=n?new __(n):null;e==="value"?r=new ca(s):e&&(r=new cf(e,s)),Lp(t._repo,t,r)}Mb(Qn);zb(Qn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MF="FIREBASE_DATABASE_EMULATOR_HOST",Dp={};let bF=!1;function FF(t,e,n,r){t.repoInfo_=new sS(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function UF(t,e,n,r,s){let l=r||t.options.databaseURL;l===void 0&&(t.options.projectId||Er("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),vt("Using default host for project ",t.options.projectId),l=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=ew(l,s),c=a.repoInfo,d,h;typeof process<"u"&&process.env&&(h=process.env[MF]),h?(d=!0,l=`http://${h}?ns=${c.namespace}`,a=ew(l,s),c=a.repoInfo):d=!a.repoInfo.secure;const v=s&&d?new Hs(Hs.OWNER):new ZM(t.name,t.options,e);uF("Invalid Firebase Database URL",a),de(a.path)||Er("Database URL must point to the root of a Firebase Database (not including a child path).");const m=zF(c,t,v,new JM(t.name,n));return new BF(m,t)}function WF(t,e){const n=Dp[e];(!n||n[t.key]!==t)&&Er(`Database ${e}(${t.repoInfo_}) has already been deleted.`),EF(t),delete n[t.key]}function zF(t,e,n,r){let s=Dp[e.name];s||(s={},Dp[e.name]=s);let l=s[t.toURLString()];return l&&Er("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new pF(t,bF,n,r),s[t.toURLString()]=l,l}class BF{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(gF(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Qn(this._repo,ve())),this._rootInternal}_delete(){return this._rootInternal!==null&&(WF(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Er("Cannot call "+e+" on a deleted database.")}}function HF(t=B1(),e){const n=Wg(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=hD("database");r&&$F(n,...r)}return n}function $F(t,e,n,r={}){t=dt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Er("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let l;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Er('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new Hs(Hs.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:gD(r.mockUserToken,t.app.options.projectId);l=new Hs(a)}FF(s,e,n,l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VF(t){FM(ra),eo(new Vi("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),l=e.getProvider("app-check-internal");return UF(r,s,l,n)},"PUBLIC").setMultipleInstances(!0)),ni(S0,C0,t),ni(S0,C0,"esm2017")}_r.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};_r.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};VF();function v_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function fC(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GF=fC,dC=new na("auth","Firebase",fC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=new Fg("@firebase/auth");function Wu(t,...e){nw.logLevel<=Te.ERROR&&nw.error(`Auth (${ra}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(t,...e){throw y_(t,...e)}function Kn(t,...e){return y_(t,...e)}function jF(t,e,n){const r=Object.assign(Object.assign({},GF()),{[e]:n});return new na("auth","Firebase",r).create(e,{appName:t.name})}function y_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return dC.create(t,...e)}function Q(t,e,...n){if(!t)throw y_(e,...n)}function hr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Wu(e),new Error(e)}function Sr(t,e){t||hr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw=new Map;function pr(t){Sr(t instanceof Function,"Expected a class definition");let e=rw.get(t);return e?(Sr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,rw.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KF(t,e){const n=Wg(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),l=n.getOptions();if(_c(l,e??{}))return s;Fn(s,"already-initialized")}return n.initialize({options:e})}function YF(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(pr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function qF(){return iw()==="http:"||iw()==="https:"}function iw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qF()||_D()||"connection"in navigator)?navigator.onLine:!0}function XF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n){this.shortDelay=e,this.longDelay=n,Sr(n>e,"Short delay should be less than long delay!"),this.isMobile=Mg()||M1()}get(){return QF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(t,e){Sr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZF=new fa(3e4,6e4);function go(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function _o(t,e,n,r,s={}){return pC(t,s,async()=>{let l={},a={};r&&(e==="GET"?a=r:l={body:JSON.stringify(r)});const c=co(Object.assign({key:t.config.apiKey},a)).slice(1),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode),hC.fetch()(gC(t,t.config.apiHost,n,c),Object.assign({method:e,headers:d,referrerPolicy:"no-referrer"},l))})}async function pC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},JF),e);try{const s=new eU(t),l=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await l.json();if("needConfirmation"in a)throw ku(t,"account-exists-with-different-credential",a);if(l.ok&&!("errorMessage"in a))return a;{const c=l.ok?a.errorMessage:a.error.message,[d,h]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw ku(t,"credential-already-in-use",a);if(d==="EMAIL_EXISTS")throw ku(t,"email-already-in-use",a);if(d==="USER_DISABLED")throw ku(t,"user-disabled",a);const v=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw jF(t,v,h);Fn(t,v)}}catch(s){if(s instanceof pi)throw s;Fn(t,"network-request-failed",{message:String(s)})}}async function da(t,e,n,r,s={}){const l=await _o(t,e,n,r,s);return"mfaPendingCredential"in l&&Fn(t,"multi-factor-auth-required",{_serverResponse:l}),l}function gC(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?w_(t.config,s):`${t.config.apiScheme}://${s}`}class eU{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Kn(this.auth,"network-request-failed")),ZF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ku(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Kn(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tU(t,e){return _o(t,"POST","/v1/accounts:delete",e)}async function nU(t,e){return _o(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rU(t,e=!1){const n=dt(t),r=await n.getIdToken(e),s=E_(r);Q(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const l=typeof s.firebase=="object"?s.firebase:void 0,a=l==null?void 0:l.sign_in_provider;return{claims:s,token:r,authTime:wl(yh(s.auth_time)),issuedAtTime:wl(yh(s.iat)),expirationTime:wl(yh(s.exp)),signInProvider:a||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function yh(t){return Number(t)*1e3}function E_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Wu("JWT malformed, contained fewer than 3 sections"),null;try{const s=pc(n);return s?JSON.parse(s):(Wu("Failed to decode base64 JWT payload"),null)}catch(s){return Wu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function iU(t){const e=E_(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof pi&&sU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function sU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wl(this.lastLoginAt),this.creationTime=wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pc(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Yl(t,nU(n,{idToken:r}));Q(s==null?void 0:s.users.length,n,"internal-error");const l=s.users[0];t._notifyReloadListener(l);const a=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?uU(l.providerUserInfo):[],c=aU(t.providerData,a),d=t.isAnonymous,h=!(t.email&&l.passwordHash)&&!(c!=null&&c.length),v=d?h:!1,m={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new _C(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(t,m)}async function lU(t){const e=dt(t);await Pc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aU(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function uU(t){return t.map(e=>{var{providerId:n}=e,r=v_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cU(t,e){const n=await pC(t,{},async()=>{const r=co({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:l}=t.config,a=gC(t,s,"/v1/token",`key=${l}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",hC.fetch()(a,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iU(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Q(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:l}=await cU(e,n);this.updateTokensAndExpiration(r,s,Number(l))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:l}=n,a=new ql;return r&&(Q(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(Q(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),l&&(Q(typeof l=="number","internal-error",{appName:e}),a.expirationTime=l),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ql,this.toJSON())}_performRefresh(){return hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ui{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,l=v_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new _C(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Yl(this,this.stsTokenManager.getToken(this.auth,e));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rU(this,e)}reload(){return lU(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ui(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Pc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Yl(this,tU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,l,a,c,d,h,v;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(s=n.email)!==null&&s!==void 0?s:void 0,R=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,N=(a=n.photoURL)!==null&&a!==void 0?a:void 0,P=(c=n.tenantId)!==null&&c!==void 0?c:void 0,$=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,C=(h=n.createdAt)!==null&&h!==void 0?h:void 0,E=(v=n.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:I,emailVerified:D,isAnonymous:U,providerData:H,stsTokenManager:B}=n;Q(I&&B,e,"internal-error");const j=ql.fromJSON(this.name,B);Q(typeof I=="string",e,"internal-error"),Mr(m,e.name),Mr(y,e.name),Q(typeof D=="boolean",e,"internal-error"),Q(typeof U=="boolean",e,"internal-error"),Mr(R,e.name),Mr(N,e.name),Mr(P,e.name),Mr($,e.name),Mr(C,e.name),Mr(E,e.name);const ye=new Ui({uid:I,auth:e,email:y,emailVerified:D,displayName:m,isAnonymous:U,photoURL:N,phoneNumber:R,tenantId:P,stsTokenManager:j,createdAt:C,lastLoginAt:E});return H&&Array.isArray(H)&&(ye.providerData=H.map(ie=>Object.assign({},ie))),$&&(ye._redirectEventId=$),ye}static async _fromIdTokenResponse(e,n,r=!1){const s=new ql;s.updateFromServerResponse(n);const l=new Ui({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Pc(l),l}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}mC.type="NONE";const sw=mC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(t,e,n){return`firebase:${t}:${e}:${n}`}class Vs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:l}=this.auth;this.fullUserKey=zu(this.userKey,s.apiKey,l),this.fullPersistenceKey=zu("persistence",s.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ui._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Vs(pr(sw),e,r);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let l=s[0]||pr(sw);const a=zu(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const v=await h._get(a);if(v){const m=Ui._fromJSON(e,v);h!==l&&(c=m),l=h;break}}catch{}const d=s.filter(h=>h._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new Vs(l,e,r):(l=d[0],c&&await l._set(a,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==l)try{await h._remove(a)}catch{}})),new Vs(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(SC(e))return"Blackberry";if(CC(e))return"Webos";if(S_(e))return"Safari";if((e.includes("chrome/")||yC(e))&&!e.includes("edge/"))return"Chrome";if(EC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function vC(t=wt()){return/firefox\//i.test(t)}function S_(t=wt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yC(t=wt()){return/crios\//i.test(t)}function wC(t=wt()){return/iemobile/i.test(t)}function EC(t=wt()){return/android/i.test(t)}function SC(t=wt()){return/blackberry/i.test(t)}function CC(t=wt()){return/webos/i.test(t)}function ff(t=wt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function fU(t=wt()){var e;return ff(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function dU(){return mD()&&document.documentMode===10}function IC(t=wt()){return ff(t)||EC(t)||CC(t)||SC(t)||/windows phone/i.test(t)||wC(t)}function hU(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(t,e=[]){let n;switch(t){case"Browser":n=ow(wt());break;case"Worker":n=`${ow(wt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ra}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=l=>new Promise((a,c)=>{try{const d=e(l);a(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lw(this),this.idTokenSubscription=new lw(this),this.beforeStateQueue=new pU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dC,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=pr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Vs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s==null?void 0:s._redirectEventId,d=await this.tryRedirectSignIn(e);(!a||a===c)&&(d!=null&&d.user)&&(s=d.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Pc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=XF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?dt(e):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(pr(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new na("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&pr(e)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=await Vs.create(this,[pr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n),a=this._isInitialized?Promise.resolve():this._initializationPromise;return Q(a,this,"internal-error"),a.then(()=>l(this.currentUser)),typeof n=="function"?e.addObserver(n,r,s):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function ha(t){return dt(t)}class lw{constructor(e){this.auth=e,this.observer=null,this.addObserver=kD(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function _U(t,e,n){const r=ha(t);Q(r._canInitEmulator,r,"emulator-config-failed"),Q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),l=kC(e),{host:a,port:c}=mU(e),d=c===null?"":`:${c}`;r.config.emulator={url:`${l}//${a}${d}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:c,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||vU()}function kC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function mU(t){const e=kC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const l=s[1];return{host:l,port:aw(r.substr(l.length+1))}}else{const[l,a]=r.split(":");return{host:l,port:aw(a)}}}function aw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function vU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hr("not implemented")}_getIdTokenResponse(e){return hr("not implemented")}_linkToIdToken(e,n){return hr("not implemented")}_getReauthenticationResolver(e){return hr("not implemented")}}async function yU(t,e){return _o(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wU(t,e){return da(t,"POST","/v1/accounts:signInWithPassword",go(t,e))}async function EU(t,e){return _o(t,"POST","/v1/accounts:sendOobCode",go(t,e))}async function SU(t,e){return EU(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CU(t,e){return da(t,"POST","/v1/accounts:signInWithEmailLink",go(t,e))}async function IU(t,e){return da(t,"POST","/v1/accounts:signInWithEmailLink",go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql extends C_{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Ql(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ql(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return wU(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return CU(e,{email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return yU(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return IU(e,{idToken:n,email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gs(t,e){return da(t,"POST","/v1/accounts:signInWithIdp",go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU="http://localhost";class qi extends C_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Fn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,l=v_(n,["providerId","signInMethod"]);if(!r||!s)return null;const a=new qi(r,s);return a.idToken=l.idToken||void 0,a.accessToken=l.accessToken||void 0,a.secret=l.secret,a.nonce=l.nonce,a.pendingToken=l.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Gs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Gs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Gs(e,n)}buildRequest(){const e={requestUri:TU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=co(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function RU(t){const e=sl(ol(t)).link,n=e?sl(ol(e)).deep_link_id:null,r=sl(ol(t)).deep_link_id;return(r?sl(ol(r)).link:null)||r||n||e||t}class I_{constructor(e){var n,r,s,l,a,c;const d=sl(ol(e)),h=(n=d.apiKey)!==null&&n!==void 0?n:null,v=(r=d.oobCode)!==null&&r!==void 0?r:null,m=kU((s=d.mode)!==null&&s!==void 0?s:null);Q(h&&v&&m,"argument-error"),this.apiKey=h,this.operation=m,this.code=v,this.continueUrl=(l=d.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(a=d.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=RU(e);try{return new I_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.providerId=mo.PROVIDER_ID}static credential(e,n){return Ql._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=I_.parseLink(n);return Q(r,"argument-error"),Ql._fromEmailAndCode(e,r.code,r.tenantId)}}mo.PROVIDER_ID="password";mo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";mo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa extends RC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends pa{constructor(){super("facebook.com")}static credential(e){return qi._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zr.credential(e.oauthAccessToken)}catch{return null}}}zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";zr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends pa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qi._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Br.credential(n,r)}catch{return null}}}Br.GOOGLE_SIGN_IN_METHOD="google.com";Br.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends pa{constructor(){super("github.com")}static credential(e){return qi._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hr.credential(e.oauthAccessToken)}catch{return null}}}Hr.GITHUB_SIGN_IN_METHOD="github.com";Hr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends pa{constructor(){super("twitter.com")}static credential(e,n){return qi._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return $r.credential(n,r)}catch{return null}}}$r.TWITTER_SIGN_IN_METHOD="twitter.com";$r.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NU(t,e){return da(t,"POST","/v1/accounts:signUp",go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const l=await Ui._fromIdTokenResponse(e,r,s),a=uw(r);return new Qi({user:l,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=uw(r);return new Qi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function uw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends pi{constructor(e,n,r,s){var l;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Oc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Oc(e,n,r,s)}}function NC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Oc._fromErrorAndOperation(t,l,e,r):l})}async function xU(t,e,n=!1){const r=await Yl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Qi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AU(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const l=await Yl(t,NC(r,s,e,t),n);Q(l.idToken,r,"internal-error");const a=E_(l.idToken);Q(a,r,"internal-error");const{sub:c}=a;return Q(t.uid===c,r,"user-mismatch"),Qi._forOperation(t,s,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Fn(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xC(t,e,n=!1){const r="signIn",s=await NC(t,r,e),l=await Qi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(l.user),l}async function PU(t,e){return xC(ha(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OU(t,e,n){var r;Q(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),Q(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Q(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Q(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LU(t,e,n){const r=dt(t),s={requestType:"PASSWORD_RESET",email:e};n&&OU(r,s,n),await SU(r,s)}async function DU(t,e,n){const r=ha(t),s=await NU(r,{returnSecureToken:!0,email:e,password:n}),l=await Qi._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(l.user),l}function MU(t,e,n){return PU(dt(t),mo.credential(e,n))}function bU(t,e,n,r){return dt(t).onIdTokenChanged(e,n,r)}function FU(t,e,n){return dt(t).beforeAuthStateChanged(e,n)}function UU(t,e,n,r){return dt(t).onAuthStateChanged(e,n,r)}function WU(t){return dt(t).signOut()}const Lc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lc,"1"),this.storage.removeItem(Lc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zU(){const t=wt();return S_(t)||ff(t)}const BU=1e3,HU=10;class PC extends AC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=zU()&&hU(),this.fallbackToPolling=IC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,c,d)=>{this.notifyListeners(a,d)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},l=this.storage.getItem(r);dU()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,HU):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},BU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}PC.type="LOCAL";const $U=PC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC extends AC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}OC.type="SESSION";const LC=OC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new df(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:l}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(a).map(async h=>h(n.origin,l)),d=await VU(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}df.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,a;return new Promise((c,d)=>{const h=T_("",20);s.port1.start();const v=setTimeout(()=>{d(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(m){const y=m;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),c(y.data.response);break;default:clearTimeout(v),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(){return window}function jU(t){Yn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(){return typeof Yn().WorkerGlobalScope<"u"&&typeof Yn().importScripts=="function"}async function KU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function qU(){return DC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC="firebaseLocalStorageDb",QU=1,Dc="firebaseLocalStorage",bC="fbase_key";class ga{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hf(t,e){return t.transaction([Dc],e?"readwrite":"readonly").objectStore(Dc)}function XU(){const t=indexedDB.deleteDatabase(MC);return new ga(t).toPromise()}function bp(){const t=indexedDB.open(MC,QU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Dc,{keyPath:bC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Dc)?e(r):(r.close(),await XU(),e(await bp()))})})}async function cw(t,e,n){const r=hf(t,!0).put({[bC]:e,value:n});return new ga(r).toPromise()}async function JU(t,e){const n=hf(t,!1).get(e),r=await new ga(n).toPromise();return r===void 0?null:r.value}function fw(t,e){const n=hf(t,!0).delete(e);return new ga(n).toPromise()}const ZU=800,e3=3;class FC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>e3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=df._getInstance(qU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await KU(),!this.activeServiceWorker)return;this.sender=new GU(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bp();return await cw(e,Lc,"1"),await fw(e,Lc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>cw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>JU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>fw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const l=hf(s,!1).getAll();return new ga(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:l}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(l)&&(this.notifyListeners(s,l),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FC.type="LOCAL";const t3=FC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function r3(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const l=Kn("internal-error");l.customData=s,n(l)},r.type="text/javascript",r.charset="UTF-8",n3().appendChild(r)})}function i3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new fa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(t,e){return e?pr(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_ extends C_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Gs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Gs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function o3(t){return xC(t.auth,new k_(t),t.bypassAuthState)}function l3(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),AU(n,new k_(t),t.bypassAuthState)}async function a3(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),xU(n,new k_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,n,r,s,l=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:l,error:a,type:c}=e;if(a){this.reject(a);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return o3;case"linkViaPopup":case"linkViaRedirect":return a3;case"reauthViaPopup":case"reauthViaRedirect":return l3;default:Fn(this.auth,"internal-error")}}resolve(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3=new fa(2e3,1e4);class Ds extends UC{constructor(e,n,r,s,l){super(e,n,s,l),this.provider=r,this.authWindow=null,this.pollId=null,Ds.currentPopupAction&&Ds.currentPopupAction.cancel(),Ds.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Q(e,this.auth,"internal-error"),e}async onExecution(){Sr(this.filter.length===1,"Popup operations only handle one event");const e=T_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Kn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ds.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,u3.get())};e()}}Ds.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3="pendingRedirect",Bu=new Map;class f3 extends UC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Bu.get(this.auth._key());if(!e){try{const r=await d3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Bu.set(this.auth._key(),e)}return this.bypassAuthState||Bu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function d3(t,e){const n=g3(e),r=p3(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function h3(t,e){Bu.set(t._key(),e)}function p3(t){return pr(t._redirectPersistence)}function g3(t){return zu(c3,t.config.apiKey,t.name)}async function _3(t,e,n=!1){const r=ha(t),s=s3(r,e),a=await new f3(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3=10*60*1e3;class v3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!y3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!WC(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Kn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=m3&&this.cachedEventUids.clear(),this.cachedEventUids.has(dw(e))}saveEventToCache(e){this.cachedEventUids.add(dw(e)),this.lastProcessedEventTime=Date.now()}}function dw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function WC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function y3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w3(t,e={}){return _o(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,S3=/^https?/;async function C3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await w3(t);for(const n of e)try{if(I3(n))return}catch{}Fn(t,"unauthorized-domain")}function I3(t){const e=Mp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!S3.test(n))return!1;if(E3.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3=new fa(3e4,6e4);function hw(){const t=Yn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function k3(t){return new Promise((e,n)=>{var r,s,l;function a(){hw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hw(),n(Kn(t,"network-request-failed"))},timeout:T3.get()})}if(!((s=(r=Yn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((l=Yn().gapi)===null||l===void 0)&&l.load)a();else{const c=i3("iframefcb");return Yn()[c]=()=>{gapi.load?a():n(Kn(t,"network-request-failed"))},r3(`https://apis.google.com/js/api.js?onload=${c}`).catch(d=>n(d))}}).catch(e=>{throw Hu=null,e})}let Hu=null;function R3(t){return Hu=Hu||k3(t),Hu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3=new fa(5e3,15e3),x3="__/auth/iframe",A3="emulator/auth/iframe",P3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},O3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function L3(t){const e=t.config;Q(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?w_(e,A3):`https://${t.config.authDomain}/${x3}`,r={apiKey:e.apiKey,appName:t.name,v:ra},s=O3.get(t.config.apiHost);s&&(r.eid=s);const l=t._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${co(r).slice(1)}`}async function D3(t){const e=await R3(t),n=Yn().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:L3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:P3,dontclear:!0},r=>new Promise(async(s,l)=>{await r.restyle({setHideOnLeave:!1});const a=Kn(t,"network-request-failed"),c=Yn().setTimeout(()=>{l(a)},N3.get());function d(){Yn().clearTimeout(c),s(r)}r.ping(d).then(d,()=>{l(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},b3=500,F3=600,U3="_blank",W3="http://localhost";class pw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function z3(t,e,n,r=b3,s=F3){const l=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d=Object.assign(Object.assign({},M3),{width:r.toString(),height:s.toString(),top:l,left:a}),h=wt().toLowerCase();n&&(c=yC(h)?U3:n),vC(h)&&(e=e||W3,d.scrollbars="yes");const v=Object.entries(d).reduce((y,[R,N])=>`${y}${R}=${N},`,"");if(fU(h)&&c!=="_self")return B3(e||"",c),new pw(null);const m=window.open(e||"",c,v);Q(m,t,"popup-blocked");try{m.focus()}catch{}return new pw(m)}function B3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3="__/auth/handler",$3="emulator/auth/handler";function gw(t,e,n,r,s,l){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ra,eventId:s};if(e instanceof RC){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",_p(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(l||{}))a[d]=h}if(e instanceof pa){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const c=a;for(const d of Object.keys(c))c[d]===void 0&&delete c[d];return`${V3(t)}?${co(c).slice(1)}`}function V3({config:t}){return t.emulator?w_(t,$3):`https://${t.authDomain}/${H3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh="webStorageSupport";class G3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LC,this._completeRedirectFn=_3,this._overrideRedirectResult=h3}async _openPopup(e,n,r,s){var l;Sr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const a=gw(e,n,r,Mp(),s);return z3(e,a,T_())}async _openRedirect(e,n,r,s){return await this._originValidation(e),jU(gw(e,n,r,Mp(),s)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:l}=this.eventManagers[n];return s?Promise.resolve(s):(Sr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await D3(e),r=new v3(e);return n.register("authEvent",s=>(Q(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wh,{type:wh},s=>{var l;const a=(l=s==null?void 0:s[0])===null||l===void 0?void 0:l[wh];a!==void 0&&n(!!a),Fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=C3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return IC()||S_()||ff()}}const j3=G3;var _w="@firebase/auth",mw="0.22.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function q3(t){eo(new Vi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),{apiKey:l,authDomain:a}=r.options;return((c,d)=>{Q(l&&!l.includes(":"),"invalid-api-key",{appName:c.name}),Q(!(a!=null&&a.includes(":")),"argument-error",{appName:c.name});const h={apiKey:l,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TC(t)},v=new gU(c,d,h);return YF(v,n),v})(r,s)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),eo(new Vi("auth-internal",e=>{const n=ha(e.getProvider("auth").getImmediate());return(r=>new K3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ni(_w,mw,Y3(t)),ni(_w,mw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3=5*60,X3=D1("authIdTokenMaxAge")||Q3;let vw=null;const J3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>X3)return;const s=n==null?void 0:n.token;vw!==s&&(vw=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function el(t=B1()){const e=Wg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=KF(t,{popupRedirectResolver:j3,persistence:[t3,$U,LC]}),r=D1("authTokenSyncURL");if(r){const l=J3(r);FU(n,l,()=>l(n.currentUser)),bU(n,a=>l(a))}const s=L1("auth");return s&&_U(n,`http://${s}`),n}q3("Browser");const Z3={apiKey:"AIzaSyBBC2JcpCGrh47Urufoj2pQDXJOr8CU2_Q",authDomain:"halloween-suggestions.firebaseapp.com",projectId:"halloween-suggestions",storageBucket:"halloween-suggestions.appspot.com",messagingSenderId:"708959466491",appId:"1:708959466491:web:f8f4e6984390ac9e7bd15e"},e4=z1(Z3),zC=HF(e4),t4=cC(zC,"data/movies"),vo={getMoviesRef:()=>t4,getMovieRef:t=>cC(zC,`data/movies/${t}`),login:({email:t,pass:e})=>{const n=el();return MU(n,t,e)},logout:()=>{const t=el();return WU(t).then(()=>console.log("You have signed out")).catch(e=>console.log("Error signing out: ",e))},registerUser:({email:t,pass:e})=>{const n=el();return DU(n,t,e).then(()=>alert(`Created new user ${t}, logging in now.`)).catch(r=>console.errorr("Error registering user: ",r))},updatePassword:t=>{const e=el();return LU(e,t).then(()=>alert(`Password Update Email Sent to ${t}`)).catch(n=>console.error("Error updating password: ",n))},getLoginObserver:t=>{const e=el();return UU(e,n=>{n=n||{},t(n)})}};var si={},n4={get exports(){return si},set exports(t){si=t}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,e){(function(){var n,r="4.17.21",s=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",c="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",h=500,v="__lodash_placeholder__",m=1,y=2,R=4,N=1,P=2,$=1,C=2,E=4,I=8,D=16,U=32,H=64,B=128,j=256,ye=512,ie=30,Et="...",Vt=800,je=16,gi=1,es=2,_i=3,yn=1/0,z=9007199254740991,te=17976931348623157e292,ne=0/0,me=4294967295,Ke=me-1,ts=me>>>1,Xn=[["ary",B],["bind",$],["bindKey",C],["curry",I],["curryRight",D],["flip",ye],["partial",U],["partialRight",H],["rearg",j]],Un="[object Arguments]",rn="[object Array]",ns="[object AsyncFunction]",yo="[object Boolean]",wo="[object Date]",jC="[object DOMException]",_a="[object Error]",ma="[object Function]",N_="[object GeneratorFunction]",wn="[object Map]",Eo="[object Number]",KC="[object Null]",Jn="[object Object]",x_="[object Promise]",YC="[object Proxy]",So="[object RegExp]",En="[object Set]",Co="[object String]",va="[object Symbol]",qC="[object Undefined]",Io="[object WeakMap]",QC="[object WeakSet]",To="[object ArrayBuffer]",rs="[object DataView]",pf="[object Float32Array]",gf="[object Float64Array]",_f="[object Int8Array]",mf="[object Int16Array]",vf="[object Int32Array]",yf="[object Uint8Array]",wf="[object Uint8ClampedArray]",Ef="[object Uint16Array]",Sf="[object Uint32Array]",XC=/\b__p \+= '';/g,JC=/\b(__p \+=) '' \+/g,ZC=/(__e\(.*?\)|\b__t\)) \+\n'';/g,A_=/&(?:amp|lt|gt|quot|#39);/g,P_=/[&<>"']/g,eI=RegExp(A_.source),tI=RegExp(P_.source),nI=/<%-([\s\S]+?)%>/g,rI=/<%([\s\S]+?)%>/g,O_=/<%=([\s\S]+?)%>/g,iI=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sI=/^\w*$/,oI=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Cf=/[\\^$.*+?()[\]{}|]/g,lI=RegExp(Cf.source),If=/^\s+/,aI=/\s/,uI=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,cI=/\{\n\/\* \[wrapped with (.+)\] \*/,fI=/,? & /,dI=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,hI=/[()=,{}\[\]\/\s]/,pI=/\\(\\)?/g,gI=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,L_=/\w*$/,_I=/^[-+]0x[0-9a-f]+$/i,mI=/^0b[01]+$/i,vI=/^\[object .+?Constructor\]$/,yI=/^0o[0-7]+$/i,wI=/^(?:0|[1-9]\d*)$/,EI=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ya=/($^)/,SI=/['\n\r\u2028\u2029\\]/g,wa="\\ud800-\\udfff",CI="\\u0300-\\u036f",II="\\ufe20-\\ufe2f",TI="\\u20d0-\\u20ff",D_=CI+II+TI,M_="\\u2700-\\u27bf",b_="a-z\\xdf-\\xf6\\xf8-\\xff",kI="\\xac\\xb1\\xd7\\xf7",RI="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",NI="\\u2000-\\u206f",xI=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",F_="A-Z\\xc0-\\xd6\\xd8-\\xde",U_="\\ufe0e\\ufe0f",W_=kI+RI+NI+xI,Tf="['’]",AI="["+wa+"]",z_="["+W_+"]",Ea="["+D_+"]",B_="\\d+",PI="["+M_+"]",H_="["+b_+"]",$_="[^"+wa+W_+B_+M_+b_+F_+"]",kf="\\ud83c[\\udffb-\\udfff]",OI="(?:"+Ea+"|"+kf+")",V_="[^"+wa+"]",Rf="(?:\\ud83c[\\udde6-\\uddff]){2}",Nf="[\\ud800-\\udbff][\\udc00-\\udfff]",is="["+F_+"]",G_="\\u200d",j_="(?:"+H_+"|"+$_+")",LI="(?:"+is+"|"+$_+")",K_="(?:"+Tf+"(?:d|ll|m|re|s|t|ve))?",Y_="(?:"+Tf+"(?:D|LL|M|RE|S|T|VE))?",q_=OI+"?",Q_="["+U_+"]?",DI="(?:"+G_+"(?:"+[V_,Rf,Nf].join("|")+")"+Q_+q_+")*",MI="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",bI="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",X_=Q_+q_+DI,FI="(?:"+[PI,Rf,Nf].join("|")+")"+X_,UI="(?:"+[V_+Ea+"?",Ea,Rf,Nf,AI].join("|")+")",WI=RegExp(Tf,"g"),zI=RegExp(Ea,"g"),xf=RegExp(kf+"(?="+kf+")|"+UI+X_,"g"),BI=RegExp([is+"?"+H_+"+"+K_+"(?="+[z_,is,"$"].join("|")+")",LI+"+"+Y_+"(?="+[z_,is+j_,"$"].join("|")+")",is+"?"+j_+"+"+K_,is+"+"+Y_,bI,MI,B_,FI].join("|"),"g"),HI=RegExp("["+G_+wa+D_+U_+"]"),$I=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,VI=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],GI=-1,Ae={};Ae[pf]=Ae[gf]=Ae[_f]=Ae[mf]=Ae[vf]=Ae[yf]=Ae[wf]=Ae[Ef]=Ae[Sf]=!0,Ae[Un]=Ae[rn]=Ae[To]=Ae[yo]=Ae[rs]=Ae[wo]=Ae[_a]=Ae[ma]=Ae[wn]=Ae[Eo]=Ae[Jn]=Ae[So]=Ae[En]=Ae[Co]=Ae[Io]=!1;var Re={};Re[Un]=Re[rn]=Re[To]=Re[rs]=Re[yo]=Re[wo]=Re[pf]=Re[gf]=Re[_f]=Re[mf]=Re[vf]=Re[wn]=Re[Eo]=Re[Jn]=Re[So]=Re[En]=Re[Co]=Re[va]=Re[yf]=Re[wf]=Re[Ef]=Re[Sf]=!0,Re[_a]=Re[ma]=Re[Io]=!1;var jI={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},KI={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},YI={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},qI={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},QI=parseFloat,XI=parseInt,J_=typeof Bo=="object"&&Bo&&Bo.Object===Object&&Bo,JI=typeof self=="object"&&self&&self.Object===Object&&self,lt=J_||JI||Function("return this")(),Af=e&&!e.nodeType&&e,mi=Af&&!0&&t&&!t.nodeType&&t,Z_=mi&&mi.exports===Af,Pf=Z_&&J_.process,sn=function(){try{var T=mi&&mi.require&&mi.require("util").types;return T||Pf&&Pf.binding&&Pf.binding("util")}catch{}}(),em=sn&&sn.isArrayBuffer,tm=sn&&sn.isDate,nm=sn&&sn.isMap,rm=sn&&sn.isRegExp,im=sn&&sn.isSet,sm=sn&&sn.isTypedArray;function Gt(T,A,x){switch(x.length){case 0:return T.call(A);case 1:return T.call(A,x[0]);case 2:return T.call(A,x[0],x[1]);case 3:return T.call(A,x[0],x[1],x[2])}return T.apply(A,x)}function ZI(T,A,x,V){for(var ee=-1,we=T==null?0:T.length;++ee<we;){var qe=T[ee];A(V,qe,x(qe),T)}return V}function on(T,A){for(var x=-1,V=T==null?0:T.length;++x<V&&A(T[x],x,T)!==!1;);return T}function eT(T,A){for(var x=T==null?0:T.length;x--&&A(T[x],x,T)!==!1;);return T}function om(T,A){for(var x=-1,V=T==null?0:T.length;++x<V;)if(!A(T[x],x,T))return!1;return!0}function Tr(T,A){for(var x=-1,V=T==null?0:T.length,ee=0,we=[];++x<V;){var qe=T[x];A(qe,x,T)&&(we[ee++]=qe)}return we}function Sa(T,A){var x=T==null?0:T.length;return!!x&&ss(T,A,0)>-1}function Of(T,A,x){for(var V=-1,ee=T==null?0:T.length;++V<ee;)if(x(A,T[V]))return!0;return!1}function De(T,A){for(var x=-1,V=T==null?0:T.length,ee=Array(V);++x<V;)ee[x]=A(T[x],x,T);return ee}function kr(T,A){for(var x=-1,V=A.length,ee=T.length;++x<V;)T[ee+x]=A[x];return T}function Lf(T,A,x,V){var ee=-1,we=T==null?0:T.length;for(V&&we&&(x=T[++ee]);++ee<we;)x=A(x,T[ee],ee,T);return x}function tT(T,A,x,V){var ee=T==null?0:T.length;for(V&&ee&&(x=T[--ee]);ee--;)x=A(x,T[ee],ee,T);return x}function Df(T,A){for(var x=-1,V=T==null?0:T.length;++x<V;)if(A(T[x],x,T))return!0;return!1}var nT=Mf("length");function rT(T){return T.split("")}function iT(T){return T.match(dI)||[]}function lm(T,A,x){var V;return x(T,function(ee,we,qe){if(A(ee,we,qe))return V=we,!1}),V}function Ca(T,A,x,V){for(var ee=T.length,we=x+(V?1:-1);V?we--:++we<ee;)if(A(T[we],we,T))return we;return-1}function ss(T,A,x){return A===A?_T(T,A,x):Ca(T,am,x)}function sT(T,A,x,V){for(var ee=x-1,we=T.length;++ee<we;)if(V(T[ee],A))return ee;return-1}function am(T){return T!==T}function um(T,A){var x=T==null?0:T.length;return x?Ff(T,A)/x:ne}function Mf(T){return function(A){return A==null?n:A[T]}}function bf(T){return function(A){return T==null?n:T[A]}}function cm(T,A,x,V,ee){return ee(T,function(we,qe,Ie){x=V?(V=!1,we):A(x,we,qe,Ie)}),x}function oT(T,A){var x=T.length;for(T.sort(A);x--;)T[x]=T[x].value;return T}function Ff(T,A){for(var x,V=-1,ee=T.length;++V<ee;){var we=A(T[V]);we!==n&&(x=x===n?we:x+we)}return x}function Uf(T,A){for(var x=-1,V=Array(T);++x<T;)V[x]=A(x);return V}function lT(T,A){return De(A,function(x){return[x,T[x]]})}function fm(T){return T&&T.slice(0,gm(T)+1).replace(If,"")}function jt(T){return function(A){return T(A)}}function Wf(T,A){return De(A,function(x){return T[x]})}function ko(T,A){return T.has(A)}function dm(T,A){for(var x=-1,V=T.length;++x<V&&ss(A,T[x],0)>-1;);return x}function hm(T,A){for(var x=T.length;x--&&ss(A,T[x],0)>-1;);return x}function aT(T,A){for(var x=T.length,V=0;x--;)T[x]===A&&++V;return V}var uT=bf(jI),cT=bf(KI);function fT(T){return"\\"+qI[T]}function dT(T,A){return T==null?n:T[A]}function os(T){return HI.test(T)}function hT(T){return $I.test(T)}function pT(T){for(var A,x=[];!(A=T.next()).done;)x.push(A.value);return x}function zf(T){var A=-1,x=Array(T.size);return T.forEach(function(V,ee){x[++A]=[ee,V]}),x}function pm(T,A){return function(x){return T(A(x))}}function Rr(T,A){for(var x=-1,V=T.length,ee=0,we=[];++x<V;){var qe=T[x];(qe===A||qe===v)&&(T[x]=v,we[ee++]=x)}return we}function Ia(T){var A=-1,x=Array(T.size);return T.forEach(function(V){x[++A]=V}),x}function gT(T){var A=-1,x=Array(T.size);return T.forEach(function(V){x[++A]=[V,V]}),x}function _T(T,A,x){for(var V=x-1,ee=T.length;++V<ee;)if(T[V]===A)return V;return-1}function mT(T,A,x){for(var V=x+1;V--;)if(T[V]===A)return V;return V}function ls(T){return os(T)?yT(T):nT(T)}function Sn(T){return os(T)?wT(T):rT(T)}function gm(T){for(var A=T.length;A--&&aI.test(T.charAt(A)););return A}var vT=bf(YI);function yT(T){for(var A=xf.lastIndex=0;xf.test(T);)++A;return A}function wT(T){return T.match(xf)||[]}function ET(T){return T.match(BI)||[]}var ST=function T(A){A=A==null?lt:as.defaults(lt.Object(),A,as.pick(lt,VI));var x=A.Array,V=A.Date,ee=A.Error,we=A.Function,qe=A.Math,Ie=A.Object,Bf=A.RegExp,CT=A.String,ln=A.TypeError,Ta=x.prototype,IT=we.prototype,us=Ie.prototype,ka=A["__core-js_shared__"],Ra=IT.toString,Se=us.hasOwnProperty,TT=0,_m=function(){var i=/[^.]+$/.exec(ka&&ka.keys&&ka.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),Na=us.toString,kT=Ra.call(Ie),RT=lt._,NT=Bf("^"+Ra.call(Se).replace(Cf,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xa=Z_?A.Buffer:n,Nr=A.Symbol,Aa=A.Uint8Array,mm=xa?xa.allocUnsafe:n,Pa=pm(Ie.getPrototypeOf,Ie),vm=Ie.create,ym=us.propertyIsEnumerable,Oa=Ta.splice,wm=Nr?Nr.isConcatSpreadable:n,Ro=Nr?Nr.iterator:n,vi=Nr?Nr.toStringTag:n,La=function(){try{var i=Ci(Ie,"defineProperty");return i({},"",{}),i}catch{}}(),xT=A.clearTimeout!==lt.clearTimeout&&A.clearTimeout,AT=V&&V.now!==lt.Date.now&&V.now,PT=A.setTimeout!==lt.setTimeout&&A.setTimeout,Da=qe.ceil,Ma=qe.floor,Hf=Ie.getOwnPropertySymbols,OT=xa?xa.isBuffer:n,Em=A.isFinite,LT=Ta.join,DT=pm(Ie.keys,Ie),Qe=qe.max,ht=qe.min,MT=V.now,bT=A.parseInt,Sm=qe.random,FT=Ta.reverse,$f=Ci(A,"DataView"),No=Ci(A,"Map"),Vf=Ci(A,"Promise"),cs=Ci(A,"Set"),xo=Ci(A,"WeakMap"),Ao=Ci(Ie,"create"),ba=xo&&new xo,fs={},UT=Ii($f),WT=Ii(No),zT=Ii(Vf),BT=Ii(cs),HT=Ii(xo),Fa=Nr?Nr.prototype:n,Po=Fa?Fa.valueOf:n,Cm=Fa?Fa.toString:n;function g(i){if(ze(i)&&!re(i)&&!(i instanceof he)){if(i instanceof an)return i;if(Se.call(i,"__wrapped__"))return Iv(i)}return new an(i)}var ds=function(){function i(){}return function(o){if(!be(o))return{};if(vm)return vm(o);i.prototype=o;var u=new i;return i.prototype=n,u}}();function Ua(){}function an(i,o){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=n}g.templateSettings={escape:nI,evaluate:rI,interpolate:O_,variable:"",imports:{_:g}},g.prototype=Ua.prototype,g.prototype.constructor=g,an.prototype=ds(Ua.prototype),an.prototype.constructor=an;function he(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=me,this.__views__=[]}function $T(){var i=new he(this.__wrapped__);return i.__actions__=Pt(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=Pt(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=Pt(this.__views__),i}function VT(){if(this.__filtered__){var i=new he(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function GT(){var i=this.__wrapped__.value(),o=this.__dir__,u=re(i),f=o<0,p=u?i.length:0,_=rR(0,p,this.__views__),w=_.start,S=_.end,k=S-w,O=f?S:w-1,L=this.__iteratees__,M=L.length,W=0,K=ht(k,this.__takeCount__);if(!u||!f&&p==k&&K==k)return Km(i,this.__actions__);var X=[];e:for(;k--&&W<K;){O+=o;for(var oe=-1,J=i[O];++oe<M;){var ce=L[oe],ge=ce.iteratee,qt=ce.type,It=ge(J);if(qt==es)J=It;else if(!It){if(qt==gi)continue e;break e}}X[W++]=J}return X}he.prototype=ds(Ua.prototype),he.prototype.constructor=he;function yi(i){var o=-1,u=i==null?0:i.length;for(this.clear();++o<u;){var f=i[o];this.set(f[0],f[1])}}function jT(){this.__data__=Ao?Ao(null):{},this.size=0}function KT(i){var o=this.has(i)&&delete this.__data__[i];return this.size-=o?1:0,o}function YT(i){var o=this.__data__;if(Ao){var u=o[i];return u===d?n:u}return Se.call(o,i)?o[i]:n}function qT(i){var o=this.__data__;return Ao?o[i]!==n:Se.call(o,i)}function QT(i,o){var u=this.__data__;return this.size+=this.has(i)?0:1,u[i]=Ao&&o===n?d:o,this}yi.prototype.clear=jT,yi.prototype.delete=KT,yi.prototype.get=YT,yi.prototype.has=qT,yi.prototype.set=QT;function Zn(i){var o=-1,u=i==null?0:i.length;for(this.clear();++o<u;){var f=i[o];this.set(f[0],f[1])}}function XT(){this.__data__=[],this.size=0}function JT(i){var o=this.__data__,u=Wa(o,i);if(u<0)return!1;var f=o.length-1;return u==f?o.pop():Oa.call(o,u,1),--this.size,!0}function ZT(i){var o=this.__data__,u=Wa(o,i);return u<0?n:o[u][1]}function ek(i){return Wa(this.__data__,i)>-1}function tk(i,o){var u=this.__data__,f=Wa(u,i);return f<0?(++this.size,u.push([i,o])):u[f][1]=o,this}Zn.prototype.clear=XT,Zn.prototype.delete=JT,Zn.prototype.get=ZT,Zn.prototype.has=ek,Zn.prototype.set=tk;function er(i){var o=-1,u=i==null?0:i.length;for(this.clear();++o<u;){var f=i[o];this.set(f[0],f[1])}}function nk(){this.size=0,this.__data__={hash:new yi,map:new(No||Zn),string:new yi}}function rk(i){var o=Xa(this,i).delete(i);return this.size-=o?1:0,o}function ik(i){return Xa(this,i).get(i)}function sk(i){return Xa(this,i).has(i)}function ok(i,o){var u=Xa(this,i),f=u.size;return u.set(i,o),this.size+=u.size==f?0:1,this}er.prototype.clear=nk,er.prototype.delete=rk,er.prototype.get=ik,er.prototype.has=sk,er.prototype.set=ok;function wi(i){var o=-1,u=i==null?0:i.length;for(this.__data__=new er;++o<u;)this.add(i[o])}function lk(i){return this.__data__.set(i,d),this}function ak(i){return this.__data__.has(i)}wi.prototype.add=wi.prototype.push=lk,wi.prototype.has=ak;function Cn(i){var o=this.__data__=new Zn(i);this.size=o.size}function uk(){this.__data__=new Zn,this.size=0}function ck(i){var o=this.__data__,u=o.delete(i);return this.size=o.size,u}function fk(i){return this.__data__.get(i)}function dk(i){return this.__data__.has(i)}function hk(i,o){var u=this.__data__;if(u instanceof Zn){var f=u.__data__;if(!No||f.length<s-1)return f.push([i,o]),this.size=++u.size,this;u=this.__data__=new er(f)}return u.set(i,o),this.size=u.size,this}Cn.prototype.clear=uk,Cn.prototype.delete=ck,Cn.prototype.get=fk,Cn.prototype.has=dk,Cn.prototype.set=hk;function Im(i,o){var u=re(i),f=!u&&Ti(i),p=!u&&!f&&Lr(i),_=!u&&!f&&!p&&_s(i),w=u||f||p||_,S=w?Uf(i.length,CT):[],k=S.length;for(var O in i)(o||Se.call(i,O))&&!(w&&(O=="length"||p&&(O=="offset"||O=="parent")||_&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||ir(O,k)))&&S.push(O);return S}function Tm(i){var o=i.length;return o?i[td(0,o-1)]:n}function pk(i,o){return Ja(Pt(i),Ei(o,0,i.length))}function gk(i){return Ja(Pt(i))}function Gf(i,o,u){(u!==n&&!In(i[o],u)||u===n&&!(o in i))&&tr(i,o,u)}function Oo(i,o,u){var f=i[o];(!(Se.call(i,o)&&In(f,u))||u===n&&!(o in i))&&tr(i,o,u)}function Wa(i,o){for(var u=i.length;u--;)if(In(i[u][0],o))return u;return-1}function _k(i,o,u,f){return xr(i,function(p,_,w){o(f,p,u(p),w)}),f}function km(i,o){return i&&zn(o,tt(o),i)}function mk(i,o){return i&&zn(o,Lt(o),i)}function tr(i,o,u){o=="__proto__"&&La?La(i,o,{configurable:!0,enumerable:!0,value:u,writable:!0}):i[o]=u}function jf(i,o){for(var u=-1,f=o.length,p=x(f),_=i==null;++u<f;)p[u]=_?n:kd(i,o[u]);return p}function Ei(i,o,u){return i===i&&(u!==n&&(i=i<=u?i:u),o!==n&&(i=i>=o?i:o)),i}function un(i,o,u,f,p,_){var w,S=o&m,k=o&y,O=o&R;if(u&&(w=p?u(i,f,p,_):u(i)),w!==n)return w;if(!be(i))return i;var L=re(i);if(L){if(w=sR(i),!S)return Pt(i,w)}else{var M=pt(i),W=M==ma||M==N_;if(Lr(i))return Qm(i,S);if(M==Jn||M==Un||W&&!p){if(w=k||W?{}:gv(i),!S)return k?Yk(i,mk(w,i)):Kk(i,km(w,i))}else{if(!Re[M])return p?i:{};w=oR(i,M,S)}}_||(_=new Cn);var K=_.get(i);if(K)return K;_.set(i,w),Vv(i)?i.forEach(function(J){w.add(un(J,o,u,J,i,_))}):Hv(i)&&i.forEach(function(J,ce){w.set(ce,un(J,o,u,ce,i,_))});var X=O?k?dd:fd:k?Lt:tt,oe=L?n:X(i);return on(oe||i,function(J,ce){oe&&(ce=J,J=i[ce]),Oo(w,ce,un(J,o,u,ce,i,_))}),w}function vk(i){var o=tt(i);return function(u){return Rm(u,i,o)}}function Rm(i,o,u){var f=u.length;if(i==null)return!f;for(i=Ie(i);f--;){var p=u[f],_=o[p],w=i[p];if(w===n&&!(p in i)||!_(w))return!1}return!0}function Nm(i,o,u){if(typeof i!="function")throw new ln(a);return Wo(function(){i.apply(n,u)},o)}function Lo(i,o,u,f){var p=-1,_=Sa,w=!0,S=i.length,k=[],O=o.length;if(!S)return k;u&&(o=De(o,jt(u))),f?(_=Of,w=!1):o.length>=s&&(_=ko,w=!1,o=new wi(o));e:for(;++p<S;){var L=i[p],M=u==null?L:u(L);if(L=f||L!==0?L:0,w&&M===M){for(var W=O;W--;)if(o[W]===M)continue e;k.push(L)}else _(o,M,f)||k.push(L)}return k}var xr=tv(Wn),xm=tv(Yf,!0);function yk(i,o){var u=!0;return xr(i,function(f,p,_){return u=!!o(f,p,_),u}),u}function za(i,o,u){for(var f=-1,p=i.length;++f<p;){var _=i[f],w=o(_);if(w!=null&&(S===n?w===w&&!Yt(w):u(w,S)))var S=w,k=_}return k}function wk(i,o,u,f){var p=i.length;for(u=se(u),u<0&&(u=-u>p?0:p+u),f=f===n||f>p?p:se(f),f<0&&(f+=p),f=u>f?0:jv(f);u<f;)i[u++]=o;return i}function Am(i,o){var u=[];return xr(i,function(f,p,_){o(f,p,_)&&u.push(f)}),u}function at(i,o,u,f,p){var _=-1,w=i.length;for(u||(u=aR),p||(p=[]);++_<w;){var S=i[_];o>0&&u(S)?o>1?at(S,o-1,u,f,p):kr(p,S):f||(p[p.length]=S)}return p}var Kf=nv(),Pm=nv(!0);function Wn(i,o){return i&&Kf(i,o,tt)}function Yf(i,o){return i&&Pm(i,o,tt)}function Ba(i,o){return Tr(o,function(u){return sr(i[u])})}function Si(i,o){o=Pr(o,i);for(var u=0,f=o.length;i!=null&&u<f;)i=i[Bn(o[u++])];return u&&u==f?i:n}function Om(i,o,u){var f=o(i);return re(i)?f:kr(f,u(i))}function St(i){return i==null?i===n?qC:KC:vi&&vi in Ie(i)?nR(i):gR(i)}function qf(i,o){return i>o}function Ek(i,o){return i!=null&&Se.call(i,o)}function Sk(i,o){return i!=null&&o in Ie(i)}function Ck(i,o,u){return i>=ht(o,u)&&i<Qe(o,u)}function Qf(i,o,u){for(var f=u?Of:Sa,p=i[0].length,_=i.length,w=_,S=x(_),k=1/0,O=[];w--;){var L=i[w];w&&o&&(L=De(L,jt(o))),k=ht(L.length,k),S[w]=!u&&(o||p>=120&&L.length>=120)?new wi(w&&L):n}L=i[0];var M=-1,W=S[0];e:for(;++M<p&&O.length<k;){var K=L[M],X=o?o(K):K;if(K=u||K!==0?K:0,!(W?ko(W,X):f(O,X,u))){for(w=_;--w;){var oe=S[w];if(!(oe?ko(oe,X):f(i[w],X,u)))continue e}W&&W.push(X),O.push(K)}}return O}function Ik(i,o,u,f){return Wn(i,function(p,_,w){o(f,u(p),_,w)}),f}function Do(i,o,u){o=Pr(o,i),i=yv(i,o);var f=i==null?i:i[Bn(fn(o))];return f==null?n:Gt(f,i,u)}function Lm(i){return ze(i)&&St(i)==Un}function Tk(i){return ze(i)&&St(i)==To}function kk(i){return ze(i)&&St(i)==wo}function Mo(i,o,u,f,p){return i===o?!0:i==null||o==null||!ze(i)&&!ze(o)?i!==i&&o!==o:Rk(i,o,u,f,Mo,p)}function Rk(i,o,u,f,p,_){var w=re(i),S=re(o),k=w?rn:pt(i),O=S?rn:pt(o);k=k==Un?Jn:k,O=O==Un?Jn:O;var L=k==Jn,M=O==Jn,W=k==O;if(W&&Lr(i)){if(!Lr(o))return!1;w=!0,L=!1}if(W&&!L)return _||(_=new Cn),w||_s(i)?dv(i,o,u,f,p,_):eR(i,o,k,u,f,p,_);if(!(u&N)){var K=L&&Se.call(i,"__wrapped__"),X=M&&Se.call(o,"__wrapped__");if(K||X){var oe=K?i.value():i,J=X?o.value():o;return _||(_=new Cn),p(oe,J,u,f,_)}}return W?(_||(_=new Cn),tR(i,o,u,f,p,_)):!1}function Nk(i){return ze(i)&&pt(i)==wn}function Xf(i,o,u,f){var p=u.length,_=p,w=!f;if(i==null)return!_;for(i=Ie(i);p--;){var S=u[p];if(w&&S[2]?S[1]!==i[S[0]]:!(S[0]in i))return!1}for(;++p<_;){S=u[p];var k=S[0],O=i[k],L=S[1];if(w&&S[2]){if(O===n&&!(k in i))return!1}else{var M=new Cn;if(f)var W=f(O,L,k,i,o,M);if(!(W===n?Mo(L,O,N|P,f,M):W))return!1}}return!0}function Dm(i){if(!be(i)||cR(i))return!1;var o=sr(i)?NT:vI;return o.test(Ii(i))}function xk(i){return ze(i)&&St(i)==So}function Ak(i){return ze(i)&&pt(i)==En}function Pk(i){return ze(i)&&iu(i.length)&&!!Ae[St(i)]}function Mm(i){return typeof i=="function"?i:i==null?Dt:typeof i=="object"?re(i)?Um(i[0],i[1]):Fm(i):ry(i)}function Jf(i){if(!Uo(i))return DT(i);var o=[];for(var u in Ie(i))Se.call(i,u)&&u!="constructor"&&o.push(u);return o}function Ok(i){if(!be(i))return pR(i);var o=Uo(i),u=[];for(var f in i)f=="constructor"&&(o||!Se.call(i,f))||u.push(f);return u}function Zf(i,o){return i<o}function bm(i,o){var u=-1,f=Ot(i)?x(i.length):[];return xr(i,function(p,_,w){f[++u]=o(p,_,w)}),f}function Fm(i){var o=pd(i);return o.length==1&&o[0][2]?mv(o[0][0],o[0][1]):function(u){return u===i||Xf(u,i,o)}}function Um(i,o){return _d(i)&&_v(o)?mv(Bn(i),o):function(u){var f=kd(u,i);return f===n&&f===o?Rd(u,i):Mo(o,f,N|P)}}function Ha(i,o,u,f,p){i!==o&&Kf(o,function(_,w){if(p||(p=new Cn),be(_))Lk(i,o,w,u,Ha,f,p);else{var S=f?f(vd(i,w),_,w+"",i,o,p):n;S===n&&(S=_),Gf(i,w,S)}},Lt)}function Lk(i,o,u,f,p,_,w){var S=vd(i,u),k=vd(o,u),O=w.get(k);if(O){Gf(i,u,O);return}var L=_?_(S,k,u+"",i,o,w):n,M=L===n;if(M){var W=re(k),K=!W&&Lr(k),X=!W&&!K&&_s(k);L=k,W||K||X?re(S)?L=S:$e(S)?L=Pt(S):K?(M=!1,L=Qm(k,!0)):X?(M=!1,L=Xm(k,!0)):L=[]:zo(k)||Ti(k)?(L=S,Ti(S)?L=Kv(S):(!be(S)||sr(S))&&(L=gv(k))):M=!1}M&&(w.set(k,L),p(L,k,f,_,w),w.delete(k)),Gf(i,u,L)}function Wm(i,o){var u=i.length;if(u)return o+=o<0?u:0,ir(o,u)?i[o]:n}function zm(i,o,u){o.length?o=De(o,function(_){return re(_)?function(w){return Si(w,_.length===1?_[0]:_)}:_}):o=[Dt];var f=-1;o=De(o,jt(Y()));var p=bm(i,function(_,w,S){var k=De(o,function(O){return O(_)});return{criteria:k,index:++f,value:_}});return oT(p,function(_,w){return jk(_,w,u)})}function Dk(i,o){return Bm(i,o,function(u,f){return Rd(i,f)})}function Bm(i,o,u){for(var f=-1,p=o.length,_={};++f<p;){var w=o[f],S=Si(i,w);u(S,w)&&bo(_,Pr(w,i),S)}return _}function Mk(i){return function(o){return Si(o,i)}}function ed(i,o,u,f){var p=f?sT:ss,_=-1,w=o.length,S=i;for(i===o&&(o=Pt(o)),u&&(S=De(i,jt(u)));++_<w;)for(var k=0,O=o[_],L=u?u(O):O;(k=p(S,L,k,f))>-1;)S!==i&&Oa.call(S,k,1),Oa.call(i,k,1);return i}function Hm(i,o){for(var u=i?o.length:0,f=u-1;u--;){var p=o[u];if(u==f||p!==_){var _=p;ir(p)?Oa.call(i,p,1):id(i,p)}}return i}function td(i,o){return i+Ma(Sm()*(o-i+1))}function bk(i,o,u,f){for(var p=-1,_=Qe(Da((o-i)/(u||1)),0),w=x(_);_--;)w[f?_:++p]=i,i+=u;return w}function nd(i,o){var u="";if(!i||o<1||o>z)return u;do o%2&&(u+=i),o=Ma(o/2),o&&(i+=i);while(o);return u}function le(i,o){return yd(vv(i,o,Dt),i+"")}function Fk(i){return Tm(ms(i))}function Uk(i,o){var u=ms(i);return Ja(u,Ei(o,0,u.length))}function bo(i,o,u,f){if(!be(i))return i;o=Pr(o,i);for(var p=-1,_=o.length,w=_-1,S=i;S!=null&&++p<_;){var k=Bn(o[p]),O=u;if(k==="__proto__"||k==="constructor"||k==="prototype")return i;if(p!=w){var L=S[k];O=f?f(L,k,S):n,O===n&&(O=be(L)?L:ir(o[p+1])?[]:{})}Oo(S,k,O),S=S[k]}return i}var $m=ba?function(i,o){return ba.set(i,o),i}:Dt,Wk=La?function(i,o){return La(i,"toString",{configurable:!0,enumerable:!1,value:xd(o),writable:!0})}:Dt;function zk(i){return Ja(ms(i))}function cn(i,o,u){var f=-1,p=i.length;o<0&&(o=-o>p?0:p+o),u=u>p?p:u,u<0&&(u+=p),p=o>u?0:u-o>>>0,o>>>=0;for(var _=x(p);++f<p;)_[f]=i[f+o];return _}function Bk(i,o){var u;return xr(i,function(f,p,_){return u=o(f,p,_),!u}),!!u}function $a(i,o,u){var f=0,p=i==null?f:i.length;if(typeof o=="number"&&o===o&&p<=ts){for(;f<p;){var _=f+p>>>1,w=i[_];w!==null&&!Yt(w)&&(u?w<=o:w<o)?f=_+1:p=_}return p}return rd(i,o,Dt,u)}function rd(i,o,u,f){var p=0,_=i==null?0:i.length;if(_===0)return 0;o=u(o);for(var w=o!==o,S=o===null,k=Yt(o),O=o===n;p<_;){var L=Ma((p+_)/2),M=u(i[L]),W=M!==n,K=M===null,X=M===M,oe=Yt(M);if(w)var J=f||X;else O?J=X&&(f||W):S?J=X&&W&&(f||!K):k?J=X&&W&&!K&&(f||!oe):K||oe?J=!1:J=f?M<=o:M<o;J?p=L+1:_=L}return ht(_,Ke)}function Vm(i,o){for(var u=-1,f=i.length,p=0,_=[];++u<f;){var w=i[u],S=o?o(w):w;if(!u||!In(S,k)){var k=S;_[p++]=w===0?0:w}}return _}function Gm(i){return typeof i=="number"?i:Yt(i)?ne:+i}function Kt(i){if(typeof i=="string")return i;if(re(i))return De(i,Kt)+"";if(Yt(i))return Cm?Cm.call(i):"";var o=i+"";return o=="0"&&1/i==-yn?"-0":o}function Ar(i,o,u){var f=-1,p=Sa,_=i.length,w=!0,S=[],k=S;if(u)w=!1,p=Of;else if(_>=s){var O=o?null:Jk(i);if(O)return Ia(O);w=!1,p=ko,k=new wi}else k=o?[]:S;e:for(;++f<_;){var L=i[f],M=o?o(L):L;if(L=u||L!==0?L:0,w&&M===M){for(var W=k.length;W--;)if(k[W]===M)continue e;o&&k.push(M),S.push(L)}else p(k,M,u)||(k!==S&&k.push(M),S.push(L))}return S}function id(i,o){return o=Pr(o,i),i=yv(i,o),i==null||delete i[Bn(fn(o))]}function jm(i,o,u,f){return bo(i,o,u(Si(i,o)),f)}function Va(i,o,u,f){for(var p=i.length,_=f?p:-1;(f?_--:++_<p)&&o(i[_],_,i););return u?cn(i,f?0:_,f?_+1:p):cn(i,f?_+1:0,f?p:_)}function Km(i,o){var u=i;return u instanceof he&&(u=u.value()),Lf(o,function(f,p){return p.func.apply(p.thisArg,kr([f],p.args))},u)}function sd(i,o,u){var f=i.length;if(f<2)return f?Ar(i[0]):[];for(var p=-1,_=x(f);++p<f;)for(var w=i[p],S=-1;++S<f;)S!=p&&(_[p]=Lo(_[p]||w,i[S],o,u));return Ar(at(_,1),o,u)}function Ym(i,o,u){for(var f=-1,p=i.length,_=o.length,w={};++f<p;){var S=f<_?o[f]:n;u(w,i[f],S)}return w}function od(i){return $e(i)?i:[]}function ld(i){return typeof i=="function"?i:Dt}function Pr(i,o){return re(i)?i:_d(i,o)?[i]:Cv(Ee(i))}var Hk=le;function Or(i,o,u){var f=i.length;return u=u===n?f:u,!o&&u>=f?i:cn(i,o,u)}var qm=xT||function(i){return lt.clearTimeout(i)};function Qm(i,o){if(o)return i.slice();var u=i.length,f=mm?mm(u):new i.constructor(u);return i.copy(f),f}function ad(i){var o=new i.constructor(i.byteLength);return new Aa(o).set(new Aa(i)),o}function $k(i,o){var u=o?ad(i.buffer):i.buffer;return new i.constructor(u,i.byteOffset,i.byteLength)}function Vk(i){var o=new i.constructor(i.source,L_.exec(i));return o.lastIndex=i.lastIndex,o}function Gk(i){return Po?Ie(Po.call(i)):{}}function Xm(i,o){var u=o?ad(i.buffer):i.buffer;return new i.constructor(u,i.byteOffset,i.length)}function Jm(i,o){if(i!==o){var u=i!==n,f=i===null,p=i===i,_=Yt(i),w=o!==n,S=o===null,k=o===o,O=Yt(o);if(!S&&!O&&!_&&i>o||_&&w&&k&&!S&&!O||f&&w&&k||!u&&k||!p)return 1;if(!f&&!_&&!O&&i<o||O&&u&&p&&!f&&!_||S&&u&&p||!w&&p||!k)return-1}return 0}function jk(i,o,u){for(var f=-1,p=i.criteria,_=o.criteria,w=p.length,S=u.length;++f<w;){var k=Jm(p[f],_[f]);if(k){if(f>=S)return k;var O=u[f];return k*(O=="desc"?-1:1)}}return i.index-o.index}function Zm(i,o,u,f){for(var p=-1,_=i.length,w=u.length,S=-1,k=o.length,O=Qe(_-w,0),L=x(k+O),M=!f;++S<k;)L[S]=o[S];for(;++p<w;)(M||p<_)&&(L[u[p]]=i[p]);for(;O--;)L[S++]=i[p++];return L}function ev(i,o,u,f){for(var p=-1,_=i.length,w=-1,S=u.length,k=-1,O=o.length,L=Qe(_-S,0),M=x(L+O),W=!f;++p<L;)M[p]=i[p];for(var K=p;++k<O;)M[K+k]=o[k];for(;++w<S;)(W||p<_)&&(M[K+u[w]]=i[p++]);return M}function Pt(i,o){var u=-1,f=i.length;for(o||(o=x(f));++u<f;)o[u]=i[u];return o}function zn(i,o,u,f){var p=!u;u||(u={});for(var _=-1,w=o.length;++_<w;){var S=o[_],k=f?f(u[S],i[S],S,u,i):n;k===n&&(k=i[S]),p?tr(u,S,k):Oo(u,S,k)}return u}function Kk(i,o){return zn(i,gd(i),o)}function Yk(i,o){return zn(i,hv(i),o)}function Ga(i,o){return function(u,f){var p=re(u)?ZI:_k,_=o?o():{};return p(u,i,Y(f,2),_)}}function hs(i){return le(function(o,u){var f=-1,p=u.length,_=p>1?u[p-1]:n,w=p>2?u[2]:n;for(_=i.length>3&&typeof _=="function"?(p--,_):n,w&&Ct(u[0],u[1],w)&&(_=p<3?n:_,p=1),o=Ie(o);++f<p;){var S=u[f];S&&i(o,S,f,_)}return o})}function tv(i,o){return function(u,f){if(u==null)return u;if(!Ot(u))return i(u,f);for(var p=u.length,_=o?p:-1,w=Ie(u);(o?_--:++_<p)&&f(w[_],_,w)!==!1;);return u}}function nv(i){return function(o,u,f){for(var p=-1,_=Ie(o),w=f(o),S=w.length;S--;){var k=w[i?S:++p];if(u(_[k],k,_)===!1)break}return o}}function qk(i,o,u){var f=o&$,p=Fo(i);function _(){var w=this&&this!==lt&&this instanceof _?p:i;return w.apply(f?u:this,arguments)}return _}function rv(i){return function(o){o=Ee(o);var u=os(o)?Sn(o):n,f=u?u[0]:o.charAt(0),p=u?Or(u,1).join(""):o.slice(1);return f[i]()+p}}function ps(i){return function(o){return Lf(ty(ey(o).replace(WI,"")),i,"")}}function Fo(i){return function(){var o=arguments;switch(o.length){case 0:return new i;case 1:return new i(o[0]);case 2:return new i(o[0],o[1]);case 3:return new i(o[0],o[1],o[2]);case 4:return new i(o[0],o[1],o[2],o[3]);case 5:return new i(o[0],o[1],o[2],o[3],o[4]);case 6:return new i(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new i(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var u=ds(i.prototype),f=i.apply(u,o);return be(f)?f:u}}function Qk(i,o,u){var f=Fo(i);function p(){for(var _=arguments.length,w=x(_),S=_,k=gs(p);S--;)w[S]=arguments[S];var O=_<3&&w[0]!==k&&w[_-1]!==k?[]:Rr(w,k);if(_-=O.length,_<u)return av(i,o,ja,p.placeholder,n,w,O,n,n,u-_);var L=this&&this!==lt&&this instanceof p?f:i;return Gt(L,this,w)}return p}function iv(i){return function(o,u,f){var p=Ie(o);if(!Ot(o)){var _=Y(u,3);o=tt(o),u=function(S){return _(p[S],S,p)}}var w=i(o,u,f);return w>-1?p[_?o[w]:w]:n}}function sv(i){return rr(function(o){var u=o.length,f=u,p=an.prototype.thru;for(i&&o.reverse();f--;){var _=o[f];if(typeof _!="function")throw new ln(a);if(p&&!w&&Qa(_)=="wrapper")var w=new an([],!0)}for(f=w?f:u;++f<u;){_=o[f];var S=Qa(_),k=S=="wrapper"?hd(_):n;k&&md(k[0])&&k[1]==(B|I|U|j)&&!k[4].length&&k[9]==1?w=w[Qa(k[0])].apply(w,k[3]):w=_.length==1&&md(_)?w[S]():w.thru(_)}return function(){var O=arguments,L=O[0];if(w&&O.length==1&&re(L))return w.plant(L).value();for(var M=0,W=u?o[M].apply(this,O):L;++M<u;)W=o[M].call(this,W);return W}})}function ja(i,o,u,f,p,_,w,S,k,O){var L=o&B,M=o&$,W=o&C,K=o&(I|D),X=o&ye,oe=W?n:Fo(i);function J(){for(var ce=arguments.length,ge=x(ce),qt=ce;qt--;)ge[qt]=arguments[qt];if(K)var It=gs(J),Qt=aT(ge,It);if(f&&(ge=Zm(ge,f,p,K)),_&&(ge=ev(ge,_,w,K)),ce-=Qt,K&&ce<O){var Ve=Rr(ge,It);return av(i,o,ja,J.placeholder,u,ge,Ve,S,k,O-ce)}var Tn=M?u:this,lr=W?Tn[i]:i;return ce=ge.length,S?ge=_R(ge,S):X&&ce>1&&ge.reverse(),L&&k<ce&&(ge.length=k),this&&this!==lt&&this instanceof J&&(lr=oe||Fo(lr)),lr.apply(Tn,ge)}return J}function ov(i,o){return function(u,f){return Ik(u,i,o(f),{})}}function Ka(i,o){return function(u,f){var p;if(u===n&&f===n)return o;if(u!==n&&(p=u),f!==n){if(p===n)return f;typeof u=="string"||typeof f=="string"?(u=Kt(u),f=Kt(f)):(u=Gm(u),f=Gm(f)),p=i(u,f)}return p}}function ud(i){return rr(function(o){return o=De(o,jt(Y())),le(function(u){var f=this;return i(o,function(p){return Gt(p,f,u)})})})}function Ya(i,o){o=o===n?" ":Kt(o);var u=o.length;if(u<2)return u?nd(o,i):o;var f=nd(o,Da(i/ls(o)));return os(o)?Or(Sn(f),0,i).join(""):f.slice(0,i)}function Xk(i,o,u,f){var p=o&$,_=Fo(i);function w(){for(var S=-1,k=arguments.length,O=-1,L=f.length,M=x(L+k),W=this&&this!==lt&&this instanceof w?_:i;++O<L;)M[O]=f[O];for(;k--;)M[O++]=arguments[++S];return Gt(W,p?u:this,M)}return w}function lv(i){return function(o,u,f){return f&&typeof f!="number"&&Ct(o,u,f)&&(u=f=n),o=or(o),u===n?(u=o,o=0):u=or(u),f=f===n?o<u?1:-1:or(f),bk(o,u,f,i)}}function qa(i){return function(o,u){return typeof o=="string"&&typeof u=="string"||(o=dn(o),u=dn(u)),i(o,u)}}function av(i,o,u,f,p,_,w,S,k,O){var L=o&I,M=L?w:n,W=L?n:w,K=L?_:n,X=L?n:_;o|=L?U:H,o&=~(L?H:U),o&E||(o&=~($|C));var oe=[i,o,p,K,M,X,W,S,k,O],J=u.apply(n,oe);return md(i)&&wv(J,oe),J.placeholder=f,Ev(J,i,o)}function cd(i){var o=qe[i];return function(u,f){if(u=dn(u),f=f==null?0:ht(se(f),292),f&&Em(u)){var p=(Ee(u)+"e").split("e"),_=o(p[0]+"e"+(+p[1]+f));return p=(Ee(_)+"e").split("e"),+(p[0]+"e"+(+p[1]-f))}return o(u)}}var Jk=cs&&1/Ia(new cs([,-0]))[1]==yn?function(i){return new cs(i)}:Od;function uv(i){return function(o){var u=pt(o);return u==wn?zf(o):u==En?gT(o):lT(o,i(o))}}function nr(i,o,u,f,p,_,w,S){var k=o&C;if(!k&&typeof i!="function")throw new ln(a);var O=f?f.length:0;if(O||(o&=~(U|H),f=p=n),w=w===n?w:Qe(se(w),0),S=S===n?S:se(S),O-=p?p.length:0,o&H){var L=f,M=p;f=p=n}var W=k?n:hd(i),K=[i,o,u,f,p,L,M,_,w,S];if(W&&hR(K,W),i=K[0],o=K[1],u=K[2],f=K[3],p=K[4],S=K[9]=K[9]===n?k?0:i.length:Qe(K[9]-O,0),!S&&o&(I|D)&&(o&=~(I|D)),!o||o==$)var X=qk(i,o,u);else o==I||o==D?X=Qk(i,o,S):(o==U||o==($|U))&&!p.length?X=Xk(i,o,u,f):X=ja.apply(n,K);var oe=W?$m:wv;return Ev(oe(X,K),i,o)}function cv(i,o,u,f){return i===n||In(i,us[u])&&!Se.call(f,u)?o:i}function fv(i,o,u,f,p,_){return be(i)&&be(o)&&(_.set(o,i),Ha(i,o,n,fv,_),_.delete(o)),i}function Zk(i){return zo(i)?n:i}function dv(i,o,u,f,p,_){var w=u&N,S=i.length,k=o.length;if(S!=k&&!(w&&k>S))return!1;var O=_.get(i),L=_.get(o);if(O&&L)return O==o&&L==i;var M=-1,W=!0,K=u&P?new wi:n;for(_.set(i,o),_.set(o,i);++M<S;){var X=i[M],oe=o[M];if(f)var J=w?f(oe,X,M,o,i,_):f(X,oe,M,i,o,_);if(J!==n){if(J)continue;W=!1;break}if(K){if(!Df(o,function(ce,ge){if(!ko(K,ge)&&(X===ce||p(X,ce,u,f,_)))return K.push(ge)})){W=!1;break}}else if(!(X===oe||p(X,oe,u,f,_))){W=!1;break}}return _.delete(i),_.delete(o),W}function eR(i,o,u,f,p,_,w){switch(u){case rs:if(i.byteLength!=o.byteLength||i.byteOffset!=o.byteOffset)return!1;i=i.buffer,o=o.buffer;case To:return!(i.byteLength!=o.byteLength||!_(new Aa(i),new Aa(o)));case yo:case wo:case Eo:return In(+i,+o);case _a:return i.name==o.name&&i.message==o.message;case So:case Co:return i==o+"";case wn:var S=zf;case En:var k=f&N;if(S||(S=Ia),i.size!=o.size&&!k)return!1;var O=w.get(i);if(O)return O==o;f|=P,w.set(i,o);var L=dv(S(i),S(o),f,p,_,w);return w.delete(i),L;case va:if(Po)return Po.call(i)==Po.call(o)}return!1}function tR(i,o,u,f,p,_){var w=u&N,S=fd(i),k=S.length,O=fd(o),L=O.length;if(k!=L&&!w)return!1;for(var M=k;M--;){var W=S[M];if(!(w?W in o:Se.call(o,W)))return!1}var K=_.get(i),X=_.get(o);if(K&&X)return K==o&&X==i;var oe=!0;_.set(i,o),_.set(o,i);for(var J=w;++M<k;){W=S[M];var ce=i[W],ge=o[W];if(f)var qt=w?f(ge,ce,W,o,i,_):f(ce,ge,W,i,o,_);if(!(qt===n?ce===ge||p(ce,ge,u,f,_):qt)){oe=!1;break}J||(J=W=="constructor")}if(oe&&!J){var It=i.constructor,Qt=o.constructor;It!=Qt&&"constructor"in i&&"constructor"in o&&!(typeof It=="function"&&It instanceof It&&typeof Qt=="function"&&Qt instanceof Qt)&&(oe=!1)}return _.delete(i),_.delete(o),oe}function rr(i){return yd(vv(i,n,Rv),i+"")}function fd(i){return Om(i,tt,gd)}function dd(i){return Om(i,Lt,hv)}var hd=ba?function(i){return ba.get(i)}:Od;function Qa(i){for(var o=i.name+"",u=fs[o],f=Se.call(fs,o)?u.length:0;f--;){var p=u[f],_=p.func;if(_==null||_==i)return p.name}return o}function gs(i){var o=Se.call(g,"placeholder")?g:i;return o.placeholder}function Y(){var i=g.iteratee||Ad;return i=i===Ad?Mm:i,arguments.length?i(arguments[0],arguments[1]):i}function Xa(i,o){var u=i.__data__;return uR(o)?u[typeof o=="string"?"string":"hash"]:u.map}function pd(i){for(var o=tt(i),u=o.length;u--;){var f=o[u],p=i[f];o[u]=[f,p,_v(p)]}return o}function Ci(i,o){var u=dT(i,o);return Dm(u)?u:n}function nR(i){var o=Se.call(i,vi),u=i[vi];try{i[vi]=n;var f=!0}catch{}var p=Na.call(i);return f&&(o?i[vi]=u:delete i[vi]),p}var gd=Hf?function(i){return i==null?[]:(i=Ie(i),Tr(Hf(i),function(o){return ym.call(i,o)}))}:Ld,hv=Hf?function(i){for(var o=[];i;)kr(o,gd(i)),i=Pa(i);return o}:Ld,pt=St;($f&&pt(new $f(new ArrayBuffer(1)))!=rs||No&&pt(new No)!=wn||Vf&&pt(Vf.resolve())!=x_||cs&&pt(new cs)!=En||xo&&pt(new xo)!=Io)&&(pt=function(i){var o=St(i),u=o==Jn?i.constructor:n,f=u?Ii(u):"";if(f)switch(f){case UT:return rs;case WT:return wn;case zT:return x_;case BT:return En;case HT:return Io}return o});function rR(i,o,u){for(var f=-1,p=u.length;++f<p;){var _=u[f],w=_.size;switch(_.type){case"drop":i+=w;break;case"dropRight":o-=w;break;case"take":o=ht(o,i+w);break;case"takeRight":i=Qe(i,o-w);break}}return{start:i,end:o}}function iR(i){var o=i.match(cI);return o?o[1].split(fI):[]}function pv(i,o,u){o=Pr(o,i);for(var f=-1,p=o.length,_=!1;++f<p;){var w=Bn(o[f]);if(!(_=i!=null&&u(i,w)))break;i=i[w]}return _||++f!=p?_:(p=i==null?0:i.length,!!p&&iu(p)&&ir(w,p)&&(re(i)||Ti(i)))}function sR(i){var o=i.length,u=new i.constructor(o);return o&&typeof i[0]=="string"&&Se.call(i,"index")&&(u.index=i.index,u.input=i.input),u}function gv(i){return typeof i.constructor=="function"&&!Uo(i)?ds(Pa(i)):{}}function oR(i,o,u){var f=i.constructor;switch(o){case To:return ad(i);case yo:case wo:return new f(+i);case rs:return $k(i,u);case pf:case gf:case _f:case mf:case vf:case yf:case wf:case Ef:case Sf:return Xm(i,u);case wn:return new f;case Eo:case Co:return new f(i);case So:return Vk(i);case En:return new f;case va:return Gk(i)}}function lR(i,o){var u=o.length;if(!u)return i;var f=u-1;return o[f]=(u>1?"& ":"")+o[f],o=o.join(u>2?", ":" "),i.replace(uI,`{
/* [wrapped with `+o+`] */
`)}function aR(i){return re(i)||Ti(i)||!!(wm&&i&&i[wm])}function ir(i,o){var u=typeof i;return o=o??z,!!o&&(u=="number"||u!="symbol"&&wI.test(i))&&i>-1&&i%1==0&&i<o}function Ct(i,o,u){if(!be(u))return!1;var f=typeof o;return(f=="number"?Ot(u)&&ir(o,u.length):f=="string"&&o in u)?In(u[o],i):!1}function _d(i,o){if(re(i))return!1;var u=typeof i;return u=="number"||u=="symbol"||u=="boolean"||i==null||Yt(i)?!0:sI.test(i)||!iI.test(i)||o!=null&&i in Ie(o)}function uR(i){var o=typeof i;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?i!=="__proto__":i===null}function md(i){var o=Qa(i),u=g[o];if(typeof u!="function"||!(o in he.prototype))return!1;if(i===u)return!0;var f=hd(u);return!!f&&i===f[0]}function cR(i){return!!_m&&_m in i}var fR=ka?sr:Dd;function Uo(i){var o=i&&i.constructor,u=typeof o=="function"&&o.prototype||us;return i===u}function _v(i){return i===i&&!be(i)}function mv(i,o){return function(u){return u==null?!1:u[i]===o&&(o!==n||i in Ie(u))}}function dR(i){var o=nu(i,function(f){return u.size===h&&u.clear(),f}),u=o.cache;return o}function hR(i,o){var u=i[1],f=o[1],p=u|f,_=p<($|C|B),w=f==B&&u==I||f==B&&u==j&&i[7].length<=o[8]||f==(B|j)&&o[7].length<=o[8]&&u==I;if(!(_||w))return i;f&$&&(i[2]=o[2],p|=u&$?0:E);var S=o[3];if(S){var k=i[3];i[3]=k?Zm(k,S,o[4]):S,i[4]=k?Rr(i[3],v):o[4]}return S=o[5],S&&(k=i[5],i[5]=k?ev(k,S,o[6]):S,i[6]=k?Rr(i[5],v):o[6]),S=o[7],S&&(i[7]=S),f&B&&(i[8]=i[8]==null?o[8]:ht(i[8],o[8])),i[9]==null&&(i[9]=o[9]),i[0]=o[0],i[1]=p,i}function pR(i){var o=[];if(i!=null)for(var u in Ie(i))o.push(u);return o}function gR(i){return Na.call(i)}function vv(i,o,u){return o=Qe(o===n?i.length-1:o,0),function(){for(var f=arguments,p=-1,_=Qe(f.length-o,0),w=x(_);++p<_;)w[p]=f[o+p];p=-1;for(var S=x(o+1);++p<o;)S[p]=f[p];return S[o]=u(w),Gt(i,this,S)}}function yv(i,o){return o.length<2?i:Si(i,cn(o,0,-1))}function _R(i,o){for(var u=i.length,f=ht(o.length,u),p=Pt(i);f--;){var _=o[f];i[f]=ir(_,u)?p[_]:n}return i}function vd(i,o){if(!(o==="constructor"&&typeof i[o]=="function")&&o!="__proto__")return i[o]}var wv=Sv($m),Wo=PT||function(i,o){return lt.setTimeout(i,o)},yd=Sv(Wk);function Ev(i,o,u){var f=o+"";return yd(i,lR(f,mR(iR(f),u)))}function Sv(i){var o=0,u=0;return function(){var f=MT(),p=je-(f-u);if(u=f,p>0){if(++o>=Vt)return arguments[0]}else o=0;return i.apply(n,arguments)}}function Ja(i,o){var u=-1,f=i.length,p=f-1;for(o=o===n?f:o;++u<o;){var _=td(u,p),w=i[_];i[_]=i[u],i[u]=w}return i.length=o,i}var Cv=dR(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(oI,function(u,f,p,_){o.push(p?_.replace(pI,"$1"):f||u)}),o});function Bn(i){if(typeof i=="string"||Yt(i))return i;var o=i+"";return o=="0"&&1/i==-yn?"-0":o}function Ii(i){if(i!=null){try{return Ra.call(i)}catch{}try{return i+""}catch{}}return""}function mR(i,o){return on(Xn,function(u){var f="_."+u[0];o&u[1]&&!Sa(i,f)&&i.push(f)}),i.sort()}function Iv(i){if(i instanceof he)return i.clone();var o=new an(i.__wrapped__,i.__chain__);return o.__actions__=Pt(i.__actions__),o.__index__=i.__index__,o.__values__=i.__values__,o}function vR(i,o,u){(u?Ct(i,o,u):o===n)?o=1:o=Qe(se(o),0);var f=i==null?0:i.length;if(!f||o<1)return[];for(var p=0,_=0,w=x(Da(f/o));p<f;)w[_++]=cn(i,p,p+=o);return w}function yR(i){for(var o=-1,u=i==null?0:i.length,f=0,p=[];++o<u;){var _=i[o];_&&(p[f++]=_)}return p}function wR(){var i=arguments.length;if(!i)return[];for(var o=x(i-1),u=arguments[0],f=i;f--;)o[f-1]=arguments[f];return kr(re(u)?Pt(u):[u],at(o,1))}var ER=le(function(i,o){return $e(i)?Lo(i,at(o,1,$e,!0)):[]}),SR=le(function(i,o){var u=fn(o);return $e(u)&&(u=n),$e(i)?Lo(i,at(o,1,$e,!0),Y(u,2)):[]}),CR=le(function(i,o){var u=fn(o);return $e(u)&&(u=n),$e(i)?Lo(i,at(o,1,$e,!0),n,u):[]});function IR(i,o,u){var f=i==null?0:i.length;return f?(o=u||o===n?1:se(o),cn(i,o<0?0:o,f)):[]}function TR(i,o,u){var f=i==null?0:i.length;return f?(o=u||o===n?1:se(o),o=f-o,cn(i,0,o<0?0:o)):[]}function kR(i,o){return i&&i.length?Va(i,Y(o,3),!0,!0):[]}function RR(i,o){return i&&i.length?Va(i,Y(o,3),!0):[]}function NR(i,o,u,f){var p=i==null?0:i.length;return p?(u&&typeof u!="number"&&Ct(i,o,u)&&(u=0,f=p),wk(i,o,u,f)):[]}function Tv(i,o,u){var f=i==null?0:i.length;if(!f)return-1;var p=u==null?0:se(u);return p<0&&(p=Qe(f+p,0)),Ca(i,Y(o,3),p)}function kv(i,o,u){var f=i==null?0:i.length;if(!f)return-1;var p=f-1;return u!==n&&(p=se(u),p=u<0?Qe(f+p,0):ht(p,f-1)),Ca(i,Y(o,3),p,!0)}function Rv(i){var o=i==null?0:i.length;return o?at(i,1):[]}function xR(i){var o=i==null?0:i.length;return o?at(i,yn):[]}function AR(i,o){var u=i==null?0:i.length;return u?(o=o===n?1:se(o),at(i,o)):[]}function PR(i){for(var o=-1,u=i==null?0:i.length,f={};++o<u;){var p=i[o];f[p[0]]=p[1]}return f}function Nv(i){return i&&i.length?i[0]:n}function OR(i,o,u){var f=i==null?0:i.length;if(!f)return-1;var p=u==null?0:se(u);return p<0&&(p=Qe(f+p,0)),ss(i,o,p)}function LR(i){var o=i==null?0:i.length;return o?cn(i,0,-1):[]}var DR=le(function(i){var o=De(i,od);return o.length&&o[0]===i[0]?Qf(o):[]}),MR=le(function(i){var o=fn(i),u=De(i,od);return o===fn(u)?o=n:u.pop(),u.length&&u[0]===i[0]?Qf(u,Y(o,2)):[]}),bR=le(function(i){var o=fn(i),u=De(i,od);return o=typeof o=="function"?o:n,o&&u.pop(),u.length&&u[0]===i[0]?Qf(u,n,o):[]});function FR(i,o){return i==null?"":LT.call(i,o)}function fn(i){var o=i==null?0:i.length;return o?i[o-1]:n}function UR(i,o,u){var f=i==null?0:i.length;if(!f)return-1;var p=f;return u!==n&&(p=se(u),p=p<0?Qe(f+p,0):ht(p,f-1)),o===o?mT(i,o,p):Ca(i,am,p,!0)}function WR(i,o){return i&&i.length?Wm(i,se(o)):n}var zR=le(xv);function xv(i,o){return i&&i.length&&o&&o.length?ed(i,o):i}function BR(i,o,u){return i&&i.length&&o&&o.length?ed(i,o,Y(u,2)):i}function HR(i,o,u){return i&&i.length&&o&&o.length?ed(i,o,n,u):i}var $R=rr(function(i,o){var u=i==null?0:i.length,f=jf(i,o);return Hm(i,De(o,function(p){return ir(p,u)?+p:p}).sort(Jm)),f});function VR(i,o){var u=[];if(!(i&&i.length))return u;var f=-1,p=[],_=i.length;for(o=Y(o,3);++f<_;){var w=i[f];o(w,f,i)&&(u.push(w),p.push(f))}return Hm(i,p),u}function wd(i){return i==null?i:FT.call(i)}function GR(i,o,u){var f=i==null?0:i.length;return f?(u&&typeof u!="number"&&Ct(i,o,u)?(o=0,u=f):(o=o==null?0:se(o),u=u===n?f:se(u)),cn(i,o,u)):[]}function jR(i,o){return $a(i,o)}function KR(i,o,u){return rd(i,o,Y(u,2))}function YR(i,o){var u=i==null?0:i.length;if(u){var f=$a(i,o);if(f<u&&In(i[f],o))return f}return-1}function qR(i,o){return $a(i,o,!0)}function QR(i,o,u){return rd(i,o,Y(u,2),!0)}function XR(i,o){var u=i==null?0:i.length;if(u){var f=$a(i,o,!0)-1;if(In(i[f],o))return f}return-1}function JR(i){return i&&i.length?Vm(i):[]}function ZR(i,o){return i&&i.length?Vm(i,Y(o,2)):[]}function eN(i){var o=i==null?0:i.length;return o?cn(i,1,o):[]}function tN(i,o,u){return i&&i.length?(o=u||o===n?1:se(o),cn(i,0,o<0?0:o)):[]}function nN(i,o,u){var f=i==null?0:i.length;return f?(o=u||o===n?1:se(o),o=f-o,cn(i,o<0?0:o,f)):[]}function rN(i,o){return i&&i.length?Va(i,Y(o,3),!1,!0):[]}function iN(i,o){return i&&i.length?Va(i,Y(o,3)):[]}var sN=le(function(i){return Ar(at(i,1,$e,!0))}),oN=le(function(i){var o=fn(i);return $e(o)&&(o=n),Ar(at(i,1,$e,!0),Y(o,2))}),lN=le(function(i){var o=fn(i);return o=typeof o=="function"?o:n,Ar(at(i,1,$e,!0),n,o)});function aN(i){return i&&i.length?Ar(i):[]}function uN(i,o){return i&&i.length?Ar(i,Y(o,2)):[]}function cN(i,o){return o=typeof o=="function"?o:n,i&&i.length?Ar(i,n,o):[]}function Ed(i){if(!(i&&i.length))return[];var o=0;return i=Tr(i,function(u){if($e(u))return o=Qe(u.length,o),!0}),Uf(o,function(u){return De(i,Mf(u))})}function Av(i,o){if(!(i&&i.length))return[];var u=Ed(i);return o==null?u:De(u,function(f){return Gt(o,n,f)})}var fN=le(function(i,o){return $e(i)?Lo(i,o):[]}),dN=le(function(i){return sd(Tr(i,$e))}),hN=le(function(i){var o=fn(i);return $e(o)&&(o=n),sd(Tr(i,$e),Y(o,2))}),pN=le(function(i){var o=fn(i);return o=typeof o=="function"?o:n,sd(Tr(i,$e),n,o)}),gN=le(Ed);function _N(i,o){return Ym(i||[],o||[],Oo)}function mN(i,o){return Ym(i||[],o||[],bo)}var vN=le(function(i){var o=i.length,u=o>1?i[o-1]:n;return u=typeof u=="function"?(i.pop(),u):n,Av(i,u)});function Pv(i){var o=g(i);return o.__chain__=!0,o}function yN(i,o){return o(i),i}function Za(i,o){return o(i)}var wN=rr(function(i){var o=i.length,u=o?i[0]:0,f=this.__wrapped__,p=function(_){return jf(_,i)};return o>1||this.__actions__.length||!(f instanceof he)||!ir(u)?this.thru(p):(f=f.slice(u,+u+(o?1:0)),f.__actions__.push({func:Za,args:[p],thisArg:n}),new an(f,this.__chain__).thru(function(_){return o&&!_.length&&_.push(n),_}))});function EN(){return Pv(this)}function SN(){return new an(this.value(),this.__chain__)}function CN(){this.__values__===n&&(this.__values__=Gv(this.value()));var i=this.__index__>=this.__values__.length,o=i?n:this.__values__[this.__index__++];return{done:i,value:o}}function IN(){return this}function TN(i){for(var o,u=this;u instanceof Ua;){var f=Iv(u);f.__index__=0,f.__values__=n,o?p.__wrapped__=f:o=f;var p=f;u=u.__wrapped__}return p.__wrapped__=i,o}function kN(){var i=this.__wrapped__;if(i instanceof he){var o=i;return this.__actions__.length&&(o=new he(this)),o=o.reverse(),o.__actions__.push({func:Za,args:[wd],thisArg:n}),new an(o,this.__chain__)}return this.thru(wd)}function RN(){return Km(this.__wrapped__,this.__actions__)}var NN=Ga(function(i,o,u){Se.call(i,u)?++i[u]:tr(i,u,1)});function xN(i,o,u){var f=re(i)?om:yk;return u&&Ct(i,o,u)&&(o=n),f(i,Y(o,3))}function AN(i,o){var u=re(i)?Tr:Am;return u(i,Y(o,3))}var PN=iv(Tv),ON=iv(kv);function LN(i,o){return at(eu(i,o),1)}function DN(i,o){return at(eu(i,o),yn)}function MN(i,o,u){return u=u===n?1:se(u),at(eu(i,o),u)}function Ov(i,o){var u=re(i)?on:xr;return u(i,Y(o,3))}function Lv(i,o){var u=re(i)?eT:xm;return u(i,Y(o,3))}var bN=Ga(function(i,o,u){Se.call(i,u)?i[u].push(o):tr(i,u,[o])});function FN(i,o,u,f){i=Ot(i)?i:ms(i),u=u&&!f?se(u):0;var p=i.length;return u<0&&(u=Qe(p+u,0)),su(i)?u<=p&&i.indexOf(o,u)>-1:!!p&&ss(i,o,u)>-1}var UN=le(function(i,o,u){var f=-1,p=typeof o=="function",_=Ot(i)?x(i.length):[];return xr(i,function(w){_[++f]=p?Gt(o,w,u):Do(w,o,u)}),_}),WN=Ga(function(i,o,u){tr(i,u,o)});function eu(i,o){var u=re(i)?De:bm;return u(i,Y(o,3))}function zN(i,o,u,f){return i==null?[]:(re(o)||(o=o==null?[]:[o]),u=f?n:u,re(u)||(u=u==null?[]:[u]),zm(i,o,u))}var BN=Ga(function(i,o,u){i[u?0:1].push(o)},function(){return[[],[]]});function HN(i,o,u){var f=re(i)?Lf:cm,p=arguments.length<3;return f(i,Y(o,4),u,p,xr)}function $N(i,o,u){var f=re(i)?tT:cm,p=arguments.length<3;return f(i,Y(o,4),u,p,xm)}function VN(i,o){var u=re(i)?Tr:Am;return u(i,ru(Y(o,3)))}function GN(i){var o=re(i)?Tm:Fk;return o(i)}function jN(i,o,u){(u?Ct(i,o,u):o===n)?o=1:o=se(o);var f=re(i)?pk:Uk;return f(i,o)}function KN(i){var o=re(i)?gk:zk;return o(i)}function YN(i){if(i==null)return 0;if(Ot(i))return su(i)?ls(i):i.length;var o=pt(i);return o==wn||o==En?i.size:Jf(i).length}function qN(i,o,u){var f=re(i)?Df:Bk;return u&&Ct(i,o,u)&&(o=n),f(i,Y(o,3))}var QN=le(function(i,o){if(i==null)return[];var u=o.length;return u>1&&Ct(i,o[0],o[1])?o=[]:u>2&&Ct(o[0],o[1],o[2])&&(o=[o[0]]),zm(i,at(o,1),[])}),tu=AT||function(){return lt.Date.now()};function XN(i,o){if(typeof o!="function")throw new ln(a);return i=se(i),function(){if(--i<1)return o.apply(this,arguments)}}function Dv(i,o,u){return o=u?n:o,o=i&&o==null?i.length:o,nr(i,B,n,n,n,n,o)}function Mv(i,o){var u;if(typeof o!="function")throw new ln(a);return i=se(i),function(){return--i>0&&(u=o.apply(this,arguments)),i<=1&&(o=n),u}}var Sd=le(function(i,o,u){var f=$;if(u.length){var p=Rr(u,gs(Sd));f|=U}return nr(i,f,o,u,p)}),bv=le(function(i,o,u){var f=$|C;if(u.length){var p=Rr(u,gs(bv));f|=U}return nr(o,f,i,u,p)});function Fv(i,o,u){o=u?n:o;var f=nr(i,I,n,n,n,n,n,o);return f.placeholder=Fv.placeholder,f}function Uv(i,o,u){o=u?n:o;var f=nr(i,D,n,n,n,n,n,o);return f.placeholder=Uv.placeholder,f}function Wv(i,o,u){var f,p,_,w,S,k,O=0,L=!1,M=!1,W=!0;if(typeof i!="function")throw new ln(a);o=dn(o)||0,be(u)&&(L=!!u.leading,M="maxWait"in u,_=M?Qe(dn(u.maxWait)||0,o):_,W="trailing"in u?!!u.trailing:W);function K(Ve){var Tn=f,lr=p;return f=p=n,O=Ve,w=i.apply(lr,Tn),w}function X(Ve){return O=Ve,S=Wo(ce,o),L?K(Ve):w}function oe(Ve){var Tn=Ve-k,lr=Ve-O,iy=o-Tn;return M?ht(iy,_-lr):iy}function J(Ve){var Tn=Ve-k,lr=Ve-O;return k===n||Tn>=o||Tn<0||M&&lr>=_}function ce(){var Ve=tu();if(J(Ve))return ge(Ve);S=Wo(ce,oe(Ve))}function ge(Ve){return S=n,W&&f?K(Ve):(f=p=n,w)}function qt(){S!==n&&qm(S),O=0,f=k=p=S=n}function It(){return S===n?w:ge(tu())}function Qt(){var Ve=tu(),Tn=J(Ve);if(f=arguments,p=this,k=Ve,Tn){if(S===n)return X(k);if(M)return qm(S),S=Wo(ce,o),K(k)}return S===n&&(S=Wo(ce,o)),w}return Qt.cancel=qt,Qt.flush=It,Qt}var JN=le(function(i,o){return Nm(i,1,o)}),ZN=le(function(i,o,u){return Nm(i,dn(o)||0,u)});function ex(i){return nr(i,ye)}function nu(i,o){if(typeof i!="function"||o!=null&&typeof o!="function")throw new ln(a);var u=function(){var f=arguments,p=o?o.apply(this,f):f[0],_=u.cache;if(_.has(p))return _.get(p);var w=i.apply(this,f);return u.cache=_.set(p,w)||_,w};return u.cache=new(nu.Cache||er),u}nu.Cache=er;function ru(i){if(typeof i!="function")throw new ln(a);return function(){var o=arguments;switch(o.length){case 0:return!i.call(this);case 1:return!i.call(this,o[0]);case 2:return!i.call(this,o[0],o[1]);case 3:return!i.call(this,o[0],o[1],o[2])}return!i.apply(this,o)}}function tx(i){return Mv(2,i)}var nx=Hk(function(i,o){o=o.length==1&&re(o[0])?De(o[0],jt(Y())):De(at(o,1),jt(Y()));var u=o.length;return le(function(f){for(var p=-1,_=ht(f.length,u);++p<_;)f[p]=o[p].call(this,f[p]);return Gt(i,this,f)})}),Cd=le(function(i,o){var u=Rr(o,gs(Cd));return nr(i,U,n,o,u)}),zv=le(function(i,o){var u=Rr(o,gs(zv));return nr(i,H,n,o,u)}),rx=rr(function(i,o){return nr(i,j,n,n,n,o)});function ix(i,o){if(typeof i!="function")throw new ln(a);return o=o===n?o:se(o),le(i,o)}function sx(i,o){if(typeof i!="function")throw new ln(a);return o=o==null?0:Qe(se(o),0),le(function(u){var f=u[o],p=Or(u,0,o);return f&&kr(p,f),Gt(i,this,p)})}function ox(i,o,u){var f=!0,p=!0;if(typeof i!="function")throw new ln(a);return be(u)&&(f="leading"in u?!!u.leading:f,p="trailing"in u?!!u.trailing:p),Wv(i,o,{leading:f,maxWait:o,trailing:p})}function lx(i){return Dv(i,1)}function ax(i,o){return Cd(ld(o),i)}function ux(){if(!arguments.length)return[];var i=arguments[0];return re(i)?i:[i]}function cx(i){return un(i,R)}function fx(i,o){return o=typeof o=="function"?o:n,un(i,R,o)}function dx(i){return un(i,m|R)}function hx(i,o){return o=typeof o=="function"?o:n,un(i,m|R,o)}function px(i,o){return o==null||Rm(i,o,tt(o))}function In(i,o){return i===o||i!==i&&o!==o}var gx=qa(qf),_x=qa(function(i,o){return i>=o}),Ti=Lm(function(){return arguments}())?Lm:function(i){return ze(i)&&Se.call(i,"callee")&&!ym.call(i,"callee")},re=x.isArray,mx=em?jt(em):Tk;function Ot(i){return i!=null&&iu(i.length)&&!sr(i)}function $e(i){return ze(i)&&Ot(i)}function vx(i){return i===!0||i===!1||ze(i)&&St(i)==yo}var Lr=OT||Dd,yx=tm?jt(tm):kk;function wx(i){return ze(i)&&i.nodeType===1&&!zo(i)}function Ex(i){if(i==null)return!0;if(Ot(i)&&(re(i)||typeof i=="string"||typeof i.splice=="function"||Lr(i)||_s(i)||Ti(i)))return!i.length;var o=pt(i);if(o==wn||o==En)return!i.size;if(Uo(i))return!Jf(i).length;for(var u in i)if(Se.call(i,u))return!1;return!0}function Sx(i,o){return Mo(i,o)}function Cx(i,o,u){u=typeof u=="function"?u:n;var f=u?u(i,o):n;return f===n?Mo(i,o,n,u):!!f}function Id(i){if(!ze(i))return!1;var o=St(i);return o==_a||o==jC||typeof i.message=="string"&&typeof i.name=="string"&&!zo(i)}function Ix(i){return typeof i=="number"&&Em(i)}function sr(i){if(!be(i))return!1;var o=St(i);return o==ma||o==N_||o==ns||o==YC}function Bv(i){return typeof i=="number"&&i==se(i)}function iu(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=z}function be(i){var o=typeof i;return i!=null&&(o=="object"||o=="function")}function ze(i){return i!=null&&typeof i=="object"}var Hv=nm?jt(nm):Nk;function Tx(i,o){return i===o||Xf(i,o,pd(o))}function kx(i,o,u){return u=typeof u=="function"?u:n,Xf(i,o,pd(o),u)}function Rx(i){return $v(i)&&i!=+i}function Nx(i){if(fR(i))throw new ee(l);return Dm(i)}function xx(i){return i===null}function Ax(i){return i==null}function $v(i){return typeof i=="number"||ze(i)&&St(i)==Eo}function zo(i){if(!ze(i)||St(i)!=Jn)return!1;var o=Pa(i);if(o===null)return!0;var u=Se.call(o,"constructor")&&o.constructor;return typeof u=="function"&&u instanceof u&&Ra.call(u)==kT}var Td=rm?jt(rm):xk;function Px(i){return Bv(i)&&i>=-z&&i<=z}var Vv=im?jt(im):Ak;function su(i){return typeof i=="string"||!re(i)&&ze(i)&&St(i)==Co}function Yt(i){return typeof i=="symbol"||ze(i)&&St(i)==va}var _s=sm?jt(sm):Pk;function Ox(i){return i===n}function Lx(i){return ze(i)&&pt(i)==Io}function Dx(i){return ze(i)&&St(i)==QC}var Mx=qa(Zf),bx=qa(function(i,o){return i<=o});function Gv(i){if(!i)return[];if(Ot(i))return su(i)?Sn(i):Pt(i);if(Ro&&i[Ro])return pT(i[Ro]());var o=pt(i),u=o==wn?zf:o==En?Ia:ms;return u(i)}function or(i){if(!i)return i===0?i:0;if(i=dn(i),i===yn||i===-yn){var o=i<0?-1:1;return o*te}return i===i?i:0}function se(i){var o=or(i),u=o%1;return o===o?u?o-u:o:0}function jv(i){return i?Ei(se(i),0,me):0}function dn(i){if(typeof i=="number")return i;if(Yt(i))return ne;if(be(i)){var o=typeof i.valueOf=="function"?i.valueOf():i;i=be(o)?o+"":o}if(typeof i!="string")return i===0?i:+i;i=fm(i);var u=mI.test(i);return u||yI.test(i)?XI(i.slice(2),u?2:8):_I.test(i)?ne:+i}function Kv(i){return zn(i,Lt(i))}function Fx(i){return i?Ei(se(i),-z,z):i===0?i:0}function Ee(i){return i==null?"":Kt(i)}var Ux=hs(function(i,o){if(Uo(o)||Ot(o)){zn(o,tt(o),i);return}for(var u in o)Se.call(o,u)&&Oo(i,u,o[u])}),Yv=hs(function(i,o){zn(o,Lt(o),i)}),ou=hs(function(i,o,u,f){zn(o,Lt(o),i,f)}),Wx=hs(function(i,o,u,f){zn(o,tt(o),i,f)}),zx=rr(jf);function Bx(i,o){var u=ds(i);return o==null?u:km(u,o)}var Hx=le(function(i,o){i=Ie(i);var u=-1,f=o.length,p=f>2?o[2]:n;for(p&&Ct(o[0],o[1],p)&&(f=1);++u<f;)for(var _=o[u],w=Lt(_),S=-1,k=w.length;++S<k;){var O=w[S],L=i[O];(L===n||In(L,us[O])&&!Se.call(i,O))&&(i[O]=_[O])}return i}),$x=le(function(i){return i.push(n,fv),Gt(qv,n,i)});function Vx(i,o){return lm(i,Y(o,3),Wn)}function Gx(i,o){return lm(i,Y(o,3),Yf)}function jx(i,o){return i==null?i:Kf(i,Y(o,3),Lt)}function Kx(i,o){return i==null?i:Pm(i,Y(o,3),Lt)}function Yx(i,o){return i&&Wn(i,Y(o,3))}function qx(i,o){return i&&Yf(i,Y(o,3))}function Qx(i){return i==null?[]:Ba(i,tt(i))}function Xx(i){return i==null?[]:Ba(i,Lt(i))}function kd(i,o,u){var f=i==null?n:Si(i,o);return f===n?u:f}function Jx(i,o){return i!=null&&pv(i,o,Ek)}function Rd(i,o){return i!=null&&pv(i,o,Sk)}var Zx=ov(function(i,o,u){o!=null&&typeof o.toString!="function"&&(o=Na.call(o)),i[o]=u},xd(Dt)),eA=ov(function(i,o,u){o!=null&&typeof o.toString!="function"&&(o=Na.call(o)),Se.call(i,o)?i[o].push(u):i[o]=[u]},Y),tA=le(Do);function tt(i){return Ot(i)?Im(i):Jf(i)}function Lt(i){return Ot(i)?Im(i,!0):Ok(i)}function nA(i,o){var u={};return o=Y(o,3),Wn(i,function(f,p,_){tr(u,o(f,p,_),f)}),u}function rA(i,o){var u={};return o=Y(o,3),Wn(i,function(f,p,_){tr(u,p,o(f,p,_))}),u}var iA=hs(function(i,o,u){Ha(i,o,u)}),qv=hs(function(i,o,u,f){Ha(i,o,u,f)}),sA=rr(function(i,o){var u={};if(i==null)return u;var f=!1;o=De(o,function(_){return _=Pr(_,i),f||(f=_.length>1),_}),zn(i,dd(i),u),f&&(u=un(u,m|y|R,Zk));for(var p=o.length;p--;)id(u,o[p]);return u});function oA(i,o){return Qv(i,ru(Y(o)))}var lA=rr(function(i,o){return i==null?{}:Dk(i,o)});function Qv(i,o){if(i==null)return{};var u=De(dd(i),function(f){return[f]});return o=Y(o),Bm(i,u,function(f,p){return o(f,p[0])})}function aA(i,o,u){o=Pr(o,i);var f=-1,p=o.length;for(p||(p=1,i=n);++f<p;){var _=i==null?n:i[Bn(o[f])];_===n&&(f=p,_=u),i=sr(_)?_.call(i):_}return i}function uA(i,o,u){return i==null?i:bo(i,o,u)}function cA(i,o,u,f){return f=typeof f=="function"?f:n,i==null?i:bo(i,o,u,f)}var Xv=uv(tt),Jv=uv(Lt);function fA(i,o,u){var f=re(i),p=f||Lr(i)||_s(i);if(o=Y(o,4),u==null){var _=i&&i.constructor;p?u=f?new _:[]:be(i)?u=sr(_)?ds(Pa(i)):{}:u={}}return(p?on:Wn)(i,function(w,S,k){return o(u,w,S,k)}),u}function dA(i,o){return i==null?!0:id(i,o)}function hA(i,o,u){return i==null?i:jm(i,o,ld(u))}function pA(i,o,u,f){return f=typeof f=="function"?f:n,i==null?i:jm(i,o,ld(u),f)}function ms(i){return i==null?[]:Wf(i,tt(i))}function gA(i){return i==null?[]:Wf(i,Lt(i))}function _A(i,o,u){return u===n&&(u=o,o=n),u!==n&&(u=dn(u),u=u===u?u:0),o!==n&&(o=dn(o),o=o===o?o:0),Ei(dn(i),o,u)}function mA(i,o,u){return o=or(o),u===n?(u=o,o=0):u=or(u),i=dn(i),Ck(i,o,u)}function vA(i,o,u){if(u&&typeof u!="boolean"&&Ct(i,o,u)&&(o=u=n),u===n&&(typeof o=="boolean"?(u=o,o=n):typeof i=="boolean"&&(u=i,i=n)),i===n&&o===n?(i=0,o=1):(i=or(i),o===n?(o=i,i=0):o=or(o)),i>o){var f=i;i=o,o=f}if(u||i%1||o%1){var p=Sm();return ht(i+p*(o-i+QI("1e-"+((p+"").length-1))),o)}return td(i,o)}var yA=ps(function(i,o,u){return o=o.toLowerCase(),i+(u?Zv(o):o)});function Zv(i){return Nd(Ee(i).toLowerCase())}function ey(i){return i=Ee(i),i&&i.replace(EI,uT).replace(zI,"")}function wA(i,o,u){i=Ee(i),o=Kt(o);var f=i.length;u=u===n?f:Ei(se(u),0,f);var p=u;return u-=o.length,u>=0&&i.slice(u,p)==o}function EA(i){return i=Ee(i),i&&tI.test(i)?i.replace(P_,cT):i}function SA(i){return i=Ee(i),i&&lI.test(i)?i.replace(Cf,"\\$&"):i}var CA=ps(function(i,o,u){return i+(u?"-":"")+o.toLowerCase()}),IA=ps(function(i,o,u){return i+(u?" ":"")+o.toLowerCase()}),TA=rv("toLowerCase");function kA(i,o,u){i=Ee(i),o=se(o);var f=o?ls(i):0;if(!o||f>=o)return i;var p=(o-f)/2;return Ya(Ma(p),u)+i+Ya(Da(p),u)}function RA(i,o,u){i=Ee(i),o=se(o);var f=o?ls(i):0;return o&&f<o?i+Ya(o-f,u):i}function NA(i,o,u){i=Ee(i),o=se(o);var f=o?ls(i):0;return o&&f<o?Ya(o-f,u)+i:i}function xA(i,o,u){return u||o==null?o=0:o&&(o=+o),bT(Ee(i).replace(If,""),o||0)}function AA(i,o,u){return(u?Ct(i,o,u):o===n)?o=1:o=se(o),nd(Ee(i),o)}function PA(){var i=arguments,o=Ee(i[0]);return i.length<3?o:o.replace(i[1],i[2])}var OA=ps(function(i,o,u){return i+(u?"_":"")+o.toLowerCase()});function LA(i,o,u){return u&&typeof u!="number"&&Ct(i,o,u)&&(o=u=n),u=u===n?me:u>>>0,u?(i=Ee(i),i&&(typeof o=="string"||o!=null&&!Td(o))&&(o=Kt(o),!o&&os(i))?Or(Sn(i),0,u):i.split(o,u)):[]}var DA=ps(function(i,o,u){return i+(u?" ":"")+Nd(o)});function MA(i,o,u){return i=Ee(i),u=u==null?0:Ei(se(u),0,i.length),o=Kt(o),i.slice(u,u+o.length)==o}function bA(i,o,u){var f=g.templateSettings;u&&Ct(i,o,u)&&(o=n),i=Ee(i),o=ou({},o,f,cv);var p=ou({},o.imports,f.imports,cv),_=tt(p),w=Wf(p,_),S,k,O=0,L=o.interpolate||ya,M="__p += '",W=Bf((o.escape||ya).source+"|"+L.source+"|"+(L===O_?gI:ya).source+"|"+(o.evaluate||ya).source+"|$","g"),K="//# sourceURL="+(Se.call(o,"sourceURL")?(o.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++GI+"]")+`
`;i.replace(W,function(J,ce,ge,qt,It,Qt){return ge||(ge=qt),M+=i.slice(O,Qt).replace(SI,fT),ce&&(S=!0,M+=`' +
__e(`+ce+`) +
'`),It&&(k=!0,M+=`';
`+It+`;
__p += '`),ge&&(M+=`' +
((__t = (`+ge+`)) == null ? '' : __t) +
'`),O=Qt+J.length,J}),M+=`';
`;var X=Se.call(o,"variable")&&o.variable;if(!X)M=`with (obj) {
`+M+`
}
`;else if(hI.test(X))throw new ee(c);M=(k?M.replace(XC,""):M).replace(JC,"$1").replace(ZC,"$1;"),M="function("+(X||"obj")+`) {
`+(X?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(S?", __e = _.escape":"")+(k?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+M+`return __p
}`;var oe=ny(function(){return we(_,K+"return "+M).apply(n,w)});if(oe.source=M,Id(oe))throw oe;return oe}function FA(i){return Ee(i).toLowerCase()}function UA(i){return Ee(i).toUpperCase()}function WA(i,o,u){if(i=Ee(i),i&&(u||o===n))return fm(i);if(!i||!(o=Kt(o)))return i;var f=Sn(i),p=Sn(o),_=dm(f,p),w=hm(f,p)+1;return Or(f,_,w).join("")}function zA(i,o,u){if(i=Ee(i),i&&(u||o===n))return i.slice(0,gm(i)+1);if(!i||!(o=Kt(o)))return i;var f=Sn(i),p=hm(f,Sn(o))+1;return Or(f,0,p).join("")}function BA(i,o,u){if(i=Ee(i),i&&(u||o===n))return i.replace(If,"");if(!i||!(o=Kt(o)))return i;var f=Sn(i),p=dm(f,Sn(o));return Or(f,p).join("")}function HA(i,o){var u=ie,f=Et;if(be(o)){var p="separator"in o?o.separator:p;u="length"in o?se(o.length):u,f="omission"in o?Kt(o.omission):f}i=Ee(i);var _=i.length;if(os(i)){var w=Sn(i);_=w.length}if(u>=_)return i;var S=u-ls(f);if(S<1)return f;var k=w?Or(w,0,S).join(""):i.slice(0,S);if(p===n)return k+f;if(w&&(S+=k.length-S),Td(p)){if(i.slice(S).search(p)){var O,L=k;for(p.global||(p=Bf(p.source,Ee(L_.exec(p))+"g")),p.lastIndex=0;O=p.exec(L);)var M=O.index;k=k.slice(0,M===n?S:M)}}else if(i.indexOf(Kt(p),S)!=S){var W=k.lastIndexOf(p);W>-1&&(k=k.slice(0,W))}return k+f}function $A(i){return i=Ee(i),i&&eI.test(i)?i.replace(A_,vT):i}var VA=ps(function(i,o,u){return i+(u?" ":"")+o.toUpperCase()}),Nd=rv("toUpperCase");function ty(i,o,u){return i=Ee(i),o=u?n:o,o===n?hT(i)?ET(i):iT(i):i.match(o)||[]}var ny=le(function(i,o){try{return Gt(i,n,o)}catch(u){return Id(u)?u:new ee(u)}}),GA=rr(function(i,o){return on(o,function(u){u=Bn(u),tr(i,u,Sd(i[u],i))}),i});function jA(i){var o=i==null?0:i.length,u=Y();return i=o?De(i,function(f){if(typeof f[1]!="function")throw new ln(a);return[u(f[0]),f[1]]}):[],le(function(f){for(var p=-1;++p<o;){var _=i[p];if(Gt(_[0],this,f))return Gt(_[1],this,f)}})}function KA(i){return vk(un(i,m))}function xd(i){return function(){return i}}function YA(i,o){return i==null||i!==i?o:i}var qA=sv(),QA=sv(!0);function Dt(i){return i}function Ad(i){return Mm(typeof i=="function"?i:un(i,m))}function XA(i){return Fm(un(i,m))}function JA(i,o){return Um(i,un(o,m))}var ZA=le(function(i,o){return function(u){return Do(u,i,o)}}),eP=le(function(i,o){return function(u){return Do(i,u,o)}});function Pd(i,o,u){var f=tt(o),p=Ba(o,f);u==null&&!(be(o)&&(p.length||!f.length))&&(u=o,o=i,i=this,p=Ba(o,tt(o)));var _=!(be(u)&&"chain"in u)||!!u.chain,w=sr(i);return on(p,function(S){var k=o[S];i[S]=k,w&&(i.prototype[S]=function(){var O=this.__chain__;if(_||O){var L=i(this.__wrapped__),M=L.__actions__=Pt(this.__actions__);return M.push({func:k,args:arguments,thisArg:i}),L.__chain__=O,L}return k.apply(i,kr([this.value()],arguments))})}),i}function tP(){return lt._===this&&(lt._=RT),this}function Od(){}function nP(i){return i=se(i),le(function(o){return Wm(o,i)})}var rP=ud(De),iP=ud(om),sP=ud(Df);function ry(i){return _d(i)?Mf(Bn(i)):Mk(i)}function oP(i){return function(o){return i==null?n:Si(i,o)}}var lP=lv(),aP=lv(!0);function Ld(){return[]}function Dd(){return!1}function uP(){return{}}function cP(){return""}function fP(){return!0}function dP(i,o){if(i=se(i),i<1||i>z)return[];var u=me,f=ht(i,me);o=Y(o),i-=me;for(var p=Uf(f,o);++u<i;)o(u);return p}function hP(i){return re(i)?De(i,Bn):Yt(i)?[i]:Pt(Cv(Ee(i)))}function pP(i){var o=++TT;return Ee(i)+o}var gP=Ka(function(i,o){return i+o},0),_P=cd("ceil"),mP=Ka(function(i,o){return i/o},1),vP=cd("floor");function yP(i){return i&&i.length?za(i,Dt,qf):n}function wP(i,o){return i&&i.length?za(i,Y(o,2),qf):n}function EP(i){return um(i,Dt)}function SP(i,o){return um(i,Y(o,2))}function CP(i){return i&&i.length?za(i,Dt,Zf):n}function IP(i,o){return i&&i.length?za(i,Y(o,2),Zf):n}var TP=Ka(function(i,o){return i*o},1),kP=cd("round"),RP=Ka(function(i,o){return i-o},0);function NP(i){return i&&i.length?Ff(i,Dt):0}function xP(i,o){return i&&i.length?Ff(i,Y(o,2)):0}return g.after=XN,g.ary=Dv,g.assign=Ux,g.assignIn=Yv,g.assignInWith=ou,g.assignWith=Wx,g.at=zx,g.before=Mv,g.bind=Sd,g.bindAll=GA,g.bindKey=bv,g.castArray=ux,g.chain=Pv,g.chunk=vR,g.compact=yR,g.concat=wR,g.cond=jA,g.conforms=KA,g.constant=xd,g.countBy=NN,g.create=Bx,g.curry=Fv,g.curryRight=Uv,g.debounce=Wv,g.defaults=Hx,g.defaultsDeep=$x,g.defer=JN,g.delay=ZN,g.difference=ER,g.differenceBy=SR,g.differenceWith=CR,g.drop=IR,g.dropRight=TR,g.dropRightWhile=kR,g.dropWhile=RR,g.fill=NR,g.filter=AN,g.flatMap=LN,g.flatMapDeep=DN,g.flatMapDepth=MN,g.flatten=Rv,g.flattenDeep=xR,g.flattenDepth=AR,g.flip=ex,g.flow=qA,g.flowRight=QA,g.fromPairs=PR,g.functions=Qx,g.functionsIn=Xx,g.groupBy=bN,g.initial=LR,g.intersection=DR,g.intersectionBy=MR,g.intersectionWith=bR,g.invert=Zx,g.invertBy=eA,g.invokeMap=UN,g.iteratee=Ad,g.keyBy=WN,g.keys=tt,g.keysIn=Lt,g.map=eu,g.mapKeys=nA,g.mapValues=rA,g.matches=XA,g.matchesProperty=JA,g.memoize=nu,g.merge=iA,g.mergeWith=qv,g.method=ZA,g.methodOf=eP,g.mixin=Pd,g.negate=ru,g.nthArg=nP,g.omit=sA,g.omitBy=oA,g.once=tx,g.orderBy=zN,g.over=rP,g.overArgs=nx,g.overEvery=iP,g.overSome=sP,g.partial=Cd,g.partialRight=zv,g.partition=BN,g.pick=lA,g.pickBy=Qv,g.property=ry,g.propertyOf=oP,g.pull=zR,g.pullAll=xv,g.pullAllBy=BR,g.pullAllWith=HR,g.pullAt=$R,g.range=lP,g.rangeRight=aP,g.rearg=rx,g.reject=VN,g.remove=VR,g.rest=ix,g.reverse=wd,g.sampleSize=jN,g.set=uA,g.setWith=cA,g.shuffle=KN,g.slice=GR,g.sortBy=QN,g.sortedUniq=JR,g.sortedUniqBy=ZR,g.split=LA,g.spread=sx,g.tail=eN,g.take=tN,g.takeRight=nN,g.takeRightWhile=rN,g.takeWhile=iN,g.tap=yN,g.throttle=ox,g.thru=Za,g.toArray=Gv,g.toPairs=Xv,g.toPairsIn=Jv,g.toPath=hP,g.toPlainObject=Kv,g.transform=fA,g.unary=lx,g.union=sN,g.unionBy=oN,g.unionWith=lN,g.uniq=aN,g.uniqBy=uN,g.uniqWith=cN,g.unset=dA,g.unzip=Ed,g.unzipWith=Av,g.update=hA,g.updateWith=pA,g.values=ms,g.valuesIn=gA,g.without=fN,g.words=ty,g.wrap=ax,g.xor=dN,g.xorBy=hN,g.xorWith=pN,g.zip=gN,g.zipObject=_N,g.zipObjectDeep=mN,g.zipWith=vN,g.entries=Xv,g.entriesIn=Jv,g.extend=Yv,g.extendWith=ou,Pd(g,g),g.add=gP,g.attempt=ny,g.camelCase=yA,g.capitalize=Zv,g.ceil=_P,g.clamp=_A,g.clone=cx,g.cloneDeep=dx,g.cloneDeepWith=hx,g.cloneWith=fx,g.conformsTo=px,g.deburr=ey,g.defaultTo=YA,g.divide=mP,g.endsWith=wA,g.eq=In,g.escape=EA,g.escapeRegExp=SA,g.every=xN,g.find=PN,g.findIndex=Tv,g.findKey=Vx,g.findLast=ON,g.findLastIndex=kv,g.findLastKey=Gx,g.floor=vP,g.forEach=Ov,g.forEachRight=Lv,g.forIn=jx,g.forInRight=Kx,g.forOwn=Yx,g.forOwnRight=qx,g.get=kd,g.gt=gx,g.gte=_x,g.has=Jx,g.hasIn=Rd,g.head=Nv,g.identity=Dt,g.includes=FN,g.indexOf=OR,g.inRange=mA,g.invoke=tA,g.isArguments=Ti,g.isArray=re,g.isArrayBuffer=mx,g.isArrayLike=Ot,g.isArrayLikeObject=$e,g.isBoolean=vx,g.isBuffer=Lr,g.isDate=yx,g.isElement=wx,g.isEmpty=Ex,g.isEqual=Sx,g.isEqualWith=Cx,g.isError=Id,g.isFinite=Ix,g.isFunction=sr,g.isInteger=Bv,g.isLength=iu,g.isMap=Hv,g.isMatch=Tx,g.isMatchWith=kx,g.isNaN=Rx,g.isNative=Nx,g.isNil=Ax,g.isNull=xx,g.isNumber=$v,g.isObject=be,g.isObjectLike=ze,g.isPlainObject=zo,g.isRegExp=Td,g.isSafeInteger=Px,g.isSet=Vv,g.isString=su,g.isSymbol=Yt,g.isTypedArray=_s,g.isUndefined=Ox,g.isWeakMap=Lx,g.isWeakSet=Dx,g.join=FR,g.kebabCase=CA,g.last=fn,g.lastIndexOf=UR,g.lowerCase=IA,g.lowerFirst=TA,g.lt=Mx,g.lte=bx,g.max=yP,g.maxBy=wP,g.mean=EP,g.meanBy=SP,g.min=CP,g.minBy=IP,g.stubArray=Ld,g.stubFalse=Dd,g.stubObject=uP,g.stubString=cP,g.stubTrue=fP,g.multiply=TP,g.nth=WR,g.noConflict=tP,g.noop=Od,g.now=tu,g.pad=kA,g.padEnd=RA,g.padStart=NA,g.parseInt=xA,g.random=vA,g.reduce=HN,g.reduceRight=$N,g.repeat=AA,g.replace=PA,g.result=aA,g.round=kP,g.runInContext=T,g.sample=GN,g.size=YN,g.snakeCase=OA,g.some=qN,g.sortedIndex=jR,g.sortedIndexBy=KR,g.sortedIndexOf=YR,g.sortedLastIndex=qR,g.sortedLastIndexBy=QR,g.sortedLastIndexOf=XR,g.startCase=DA,g.startsWith=MA,g.subtract=RP,g.sum=NP,g.sumBy=xP,g.template=bA,g.times=dP,g.toFinite=or,g.toInteger=se,g.toLength=jv,g.toLower=FA,g.toNumber=dn,g.toSafeInteger=Fx,g.toString=Ee,g.toUpper=UA,g.trim=WA,g.trimEnd=zA,g.trimStart=BA,g.truncate=HA,g.unescape=$A,g.uniqueId=pP,g.upperCase=VA,g.upperFirst=Nd,g.each=Ov,g.eachRight=Lv,g.first=Nv,Pd(g,function(){var i={};return Wn(g,function(o,u){Se.call(g.prototype,u)||(i[u]=o)}),i}(),{chain:!1}),g.VERSION=r,on(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){g[i].placeholder=g}),on(["drop","take"],function(i,o){he.prototype[i]=function(u){u=u===n?1:Qe(se(u),0);var f=this.__filtered__&&!o?new he(this):this.clone();return f.__filtered__?f.__takeCount__=ht(u,f.__takeCount__):f.__views__.push({size:ht(u,me),type:i+(f.__dir__<0?"Right":"")}),f},he.prototype[i+"Right"]=function(u){return this.reverse()[i](u).reverse()}}),on(["filter","map","takeWhile"],function(i,o){var u=o+1,f=u==gi||u==_i;he.prototype[i]=function(p){var _=this.clone();return _.__iteratees__.push({iteratee:Y(p,3),type:u}),_.__filtered__=_.__filtered__||f,_}}),on(["head","last"],function(i,o){var u="take"+(o?"Right":"");he.prototype[i]=function(){return this[u](1).value()[0]}}),on(["initial","tail"],function(i,o){var u="drop"+(o?"":"Right");he.prototype[i]=function(){return this.__filtered__?new he(this):this[u](1)}}),he.prototype.compact=function(){return this.filter(Dt)},he.prototype.find=function(i){return this.filter(i).head()},he.prototype.findLast=function(i){return this.reverse().find(i)},he.prototype.invokeMap=le(function(i,o){return typeof i=="function"?new he(this):this.map(function(u){return Do(u,i,o)})}),he.prototype.reject=function(i){return this.filter(ru(Y(i)))},he.prototype.slice=function(i,o){i=se(i);var u=this;return u.__filtered__&&(i>0||o<0)?new he(u):(i<0?u=u.takeRight(-i):i&&(u=u.drop(i)),o!==n&&(o=se(o),u=o<0?u.dropRight(-o):u.take(o-i)),u)},he.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},he.prototype.toArray=function(){return this.take(me)},Wn(he.prototype,function(i,o){var u=/^(?:filter|find|map|reject)|While$/.test(o),f=/^(?:head|last)$/.test(o),p=g[f?"take"+(o=="last"?"Right":""):o],_=f||/^find/.test(o);p&&(g.prototype[o]=function(){var w=this.__wrapped__,S=f?[1]:arguments,k=w instanceof he,O=S[0],L=k||re(w),M=function(ce){var ge=p.apply(g,kr([ce],S));return f&&W?ge[0]:ge};L&&u&&typeof O=="function"&&O.length!=1&&(k=L=!1);var W=this.__chain__,K=!!this.__actions__.length,X=_&&!W,oe=k&&!K;if(!_&&L){w=oe?w:new he(this);var J=i.apply(w,S);return J.__actions__.push({func:Za,args:[M],thisArg:n}),new an(J,W)}return X&&oe?i.apply(this,S):(J=this.thru(M),X?f?J.value()[0]:J.value():J)})}),on(["pop","push","shift","sort","splice","unshift"],function(i){var o=Ta[i],u=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",f=/^(?:pop|shift)$/.test(i);g.prototype[i]=function(){var p=arguments;if(f&&!this.__chain__){var _=this.value();return o.apply(re(_)?_:[],p)}return this[u](function(w){return o.apply(re(w)?w:[],p)})}}),Wn(he.prototype,function(i,o){var u=g[o];if(u){var f=u.name+"";Se.call(fs,f)||(fs[f]=[]),fs[f].push({name:o,func:u})}}),fs[ja(n,C).name]=[{name:"wrapper",func:n}],he.prototype.clone=$T,he.prototype.reverse=VT,he.prototype.value=GT,g.prototype.at=wN,g.prototype.chain=EN,g.prototype.commit=SN,g.prototype.next=CN,g.prototype.plant=TN,g.prototype.reverse=kN,g.prototype.toJSON=g.prototype.valueOf=g.prototype.value=RN,g.prototype.first=g.prototype.head,Ro&&(g.prototype[Ro]=IN),g},as=ST();mi?((mi.exports=as)._=as,Af._=as):lt._=as}).call(Bo)})(n4,si);const r4=()=>{const[t,e]=fe.useState(),[n,r]=fe.useState(),[s,l]=fe.useState(),[a,c]=fe.useState();return Mt("form",{onSubmit:h=>{h.preventDefault();const v=vo.getMoviesRef(),m=xF(v);uf(m,{title:t.value||"",year:n.value||"",image:s.value||"",comment:a.value||""})},children:[q("h2",{children:"Add A Movie"}),q("label",{htmlFor:"titleField",children:"Title"}),q("input",{id:"titleField",type:"text",placeholder:"enter a title",ref:e}),q("label",{htmlFor:"yearField",children:"Year"}),q("input",{id:"yearField",type:"number",placeholder:"enter a year",ref:r}),q("label",{htmlFor:"imageField",children:"Image Url"}),q("input",{id:"imageField",type:"text",placeholder:"enter image url",ref:l}),q("label",{htmlFor:"commentField",children:"Comments"}),q("textarea",{id:"commentField",placeholder:"enter comments",ref:c}),q("button",{type:"submit",children:"Add"})]})};var kt={},i4={get exports(){return kt},set exports(t){kt=t}},s4="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",o4=s4,l4=o4;function BC(){}function HC(){}HC.resetWarningCache=BC;var a4=function(){function t(r,s,l,a,c,d){if(d!==l4){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:HC,resetWarningCache:BC};return n.PropTypes=n,n};i4.exports=a4();const yw=100,$C=({children:t=""})=>{const e=fe.useContext(R_),n=t.length>yw;return e&&n?q("span",{className:"hand",onClick:()=>alert(t),children:si.truncate(t,{length:yw})}):t};$C.propTypes={children:kt.string};const ws=({id:t,field:e,handleUpdate:n,setEditing:r,handleRef:s,type:l="",fieldRef:a})=>{const c=l==="textarea"?q("textarea",{ref:s,placeholder:e}):l==="checkbox"?q("input",{ref:s,type:"checkbox"}):q("input",{ref:s,placeholder:e,type:"text"}),d=h=>l==="checkbox"?h.checked||!1:h.value||"";return Mt(Hp,{children:[q("br",{}),c,q("button",{className:"but",type:"button",onClick:()=>n({data:{id:t,[e]:d(a)},callback:r}),children:"Save"}),q("button",{className:"but-cancel",type:"button",onClick:()=>r(),children:"cancel"})]})};ws.propTypes={id:kt.string.isRequired,field:kt.string.isRequired,handleRef:kt.func.isRequired,handleUpdate:kt.func.isRequired,setEditing:kt.func.isRequired,type:kt.string,fieldRef:kt.object};const u4=t=>{if(!confirm("Are You Sure"))return;const e=vo.getMovieRef(t);AF(e)},VC=({movie:t={},admin:e=!1})=>{const[n,r]=fe.useState(),[s,l]=fe.useState(),[a,c]=fe.useState(),[d,h]=fe.useState(),[v,m]=fe.useState(),[y,R]=fe.useState(),[N,P]=fe.useState(),[$,C]=fe.useState(),[E,I]=fe.useState(),[D,U]=fe.useState(),H=({data:je,callback:gi})=>{const es=vo.getMovieRef(je.id);PF(es).then(_i=>{uf(es,{..._i.val(),...je}),gi()})},B=je=>{!e||n||r(je)},j=je=>{!e||a||c(je)},ye=je=>{!e||v||m(je)},ie=je=>{!e||N||P(je)},Et=je=>{!e||E||I(je)},Vt={id:t.id,handleUpdate:H};return Mt("tr",{children:[Mt("td",{className:"title",onClick:()=>B(t.id),children:[t.title,n===t.id&&q(ws,{...Vt,field:"title",fieldRef:s,setEditing:r,handleRef:l})]}),Mt("td",{className:"year",onClick:()=>j(t.id),children:[t.year,a===t.id&&q(ws,{...Vt,field:"year",fieldRef:d,setEditing:c,handleRef:h})]}),Mt("td",{className:"image",onClick:()=>ye(t.id),children:[!si.isEmpty(t.image)&&q("img",{src:t.image}),v===t.id&&q(ws,{...Vt,field:"image",fieldRef:y,setEditing:m,handleRef:R})]}),Mt("td",{className:"comment",onClick:()=>ie(t.id),children:[q($C,{children:t.comment}),N===t.id&&q(ws,{...Vt,field:"comment",fieldRef:$,setEditing:P,handleRef:C,type:"textarea"})]}),Mt("td",{className:"seen",onClick:()=>Et(t.id),children:[t.seen&&E!==t.id&&q(Hp,{children:"X"}),E===t.id&&q(ws,{...Vt,field:"seen",fieldRef:D,setEditing:I,handleRef:U,type:"checkbox"})]}),e&&q("td",{onClick:()=>u4(t.id),className:"delete-icon",children:"X"})]})};VC.propTypes={movie:kt.object,admin:kt.bool};var Fp={},c4={get exports(){return Fp},set exports(t){Fp=t}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],s=0;s<arguments.length;s++){var l=arguments[s];if(l){var a=typeof l;if(a==="string"||a==="number")r.push(l);else if(Array.isArray(l)){if(l.length){var c=n.apply(null,l);c&&r.push(c)}}else if(a==="object"){if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]")){r.push(l.toString());continue}for(var d in l)e.call(l,d)&&l[d]&&r.push(d)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(c4);const f4=Fp,GC=({movies:t=[],admin:e=!1,sortMoviesBy:n})=>{const r=fe.useContext(R_);return Mt("table",{className:f4("movie-table",{mobile:r}),children:[q("thead",{children:Mt("tr",{children:[q("th",{className:"title hand",onClick:()=>n("title"),children:"Title"}),q("th",{className:"year hand",onClick:()=>n("year"),children:"Year"}),q("th",{className:"image hand",onClick:()=>n("title"),children:"Poster"}),q("th",{className:"comment hand",onClick:()=>n("comment"),children:"Comment"}),q("th",{className:"seen hand",onClick:()=>n("seen"),children:"Seen"}),e&&q("th",{className:"delete-icon"})]})}),q("tbody",{children:t.map(s=>q(VC,{movie:s,admin:e},s.id))})]})};GC.propTypes={movies:kt.array,admin:kt.bool,sortMoviesBy:kt.func};const d4=({setUser:t})=>{const[e,n]=fe.useState({}),[r,s]=fe.useState({}),[l,a]=fe.useState(!1);return Mt("form",{className:"login",onSubmit:d=>{d.preventDefault(),vo.login({email:e.value,pass:r.value}).then(h=>{console.log("response: ",h),console.log("...you are signed in!"),t(h.user)}).catch(h=>{const v=h.code,m=h.message;console.log(v,m)})},children:[q("h2",{onClick:()=>{a(d=>!d)},children:"Login to add or edit movies"}),l&&Mt(Hp,{children:[q("label",{htmlFor:"emailField",children:"Email"}),q("input",{id:"emailField",type:"text",placeholder:"enter your email",ref:d=>n(d)}),q("label",{htmlFor:"passField",children:"Password"}),q("input",{id:"passField",type:"text",placeholder:"enter your password",ref:d=>s(d)}),q("button",{className:"but",type:"submit",children:"login"})]})]})},h4=()=>{const[t,e]=fe.useState({}),[n,r]=fe.useState(!0);return fe.useEffect(()=>{r(!0),vo.getLoginObserver(()=>{e({name:t.email||"Guest",logged_in:!!t.email}),r(!1)})},[]),{loading:n,user:t}};const R_=fe.createContext(),ww=600,p4=()=>{const{user:t}=h4(),[e,n]=fe.useState(!0),[r,s]=fe.useState({}),[l,a]=fe.useState([]),[c,d]=fe.useState("title"),[h,v]=fe.useState(!1),[m,y]=fe.useState(window.innerWidth<ww);fe.useEffect(()=>{const P=()=>y(window.innerWidth<ww);return window.addEventListener("resize",P),()=>window.removeEventListener("resize",P)},[]);const R=r.email==="slatron@gmail.com",N=P=>{let $=si.sortBy(l,P),C;P===c&&!h?($=$.reverse(),C=!0):C=!1,v(C),a($),d(P)};return fe.useEffect(()=>s(t),[t]),fe.useEffect(()=>{const P=C=>si.isNil(C.val())?[]:Object.entries(C.val()).map(([E,I])=>(I.id=E,I)),$=vo.getMoviesRef();return LF($,C=>{const E=P(C);E.sort((I,D)=>I.title>D.title?1:-1),a(E),n(!1)}),()=>{DF($)}},[]),e||si.isEmpty(r)?q("div",{className:"loading",children:"loading..."}):q(R_.Provider,{value:m,children:Mt("div",{className:"App",children:[Mt("div",{className:"header-container",children:[q("h1",{children:"Mike's Halloween Marathon Suggestions"}),r.name==="Guest"&&q(d4,{setUser:s}),R&&q("div",{className:"header-button",children:q("button",{className:"but",children:"logout"})})]}),q(GC,{movies:l,admin:R,sortMoviesBy:N}),r.email==="slatron@gmail.com"&&q(r4,{})]})})};Eh.createRoot(document.getElementById("root")).render(q(YP.StrictMode,{children:q(p4,{})}));
