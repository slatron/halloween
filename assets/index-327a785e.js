(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();var Wo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function RP(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wl={},NP={get exports(){return wl},set exports(t){wl=t}},Dc={},me={},xP={get exports(){return me},set exports(t){me=t}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ql=Symbol.for("react.element"),AP=Symbol.for("react.portal"),PP=Symbol.for("react.fragment"),OP=Symbol.for("react.strict_mode"),LP=Symbol.for("react.profiler"),DP=Symbol.for("react.provider"),MP=Symbol.for("react.context"),bP=Symbol.for("react.forward_ref"),FP=Symbol.for("react.suspense"),UP=Symbol.for("react.memo"),WP=Symbol.for("react.lazy"),ny=Symbol.iterator;function zP(t){return t===null||typeof t!="object"?null:(t=ny&&t[ny]||t["@@iterator"],typeof t=="function"?t:null)}var mw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vw=Object.assign,yw={};function no(t,e,n){this.props=t,this.context=e,this.refs=yw,this.updater=n||mw}no.prototype.isReactComponent={};no.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};no.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ww(){}ww.prototype=no.prototype;function Fp(t,e,n){this.props=t,this.context=e,this.refs=yw,this.updater=n||mw}var Up=Fp.prototype=new ww;Up.constructor=Fp;vw(Up,no.prototype);Up.isPureReactComponent=!0;var ry=Array.isArray,Ew=Object.prototype.hasOwnProperty,Wp={current:null},Sw={key:!0,ref:!0,__self:!0,__source:!0};function Cw(t,e,n){var r,s={},l=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(l=""+e.key),e)Ew.call(e,r)&&!Sw.hasOwnProperty(r)&&(s[r]=e[r]);var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){for(var d=Array(c),h=0;h<c;h++)d[h]=arguments[h+2];s.children=d}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)s[r]===void 0&&(s[r]=c[r]);return{$$typeof:Ql,type:t,key:l,ref:a,props:s,_owner:Wp.current}}function BP(t,e){return{$$typeof:Ql,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ql}function HP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var iy=/\/+/g;function Md(t,e){return typeof t=="object"&&t!==null&&t.key!=null?HP(""+t.key):e.toString(36)}function ku(t,e,n,r,s){var l=typeof t;(l==="undefined"||l==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(l){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ql:case AP:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+Md(a,0):r,ry(s)?(n="",t!=null&&(n=t.replace(iy,"$&/")+"/"),ku(s,e,n,"",function(h){return h})):s!=null&&(zp(s)&&(s=BP(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(iy,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",ry(t))for(var c=0;c<t.length;c++){l=t[c];var d=r+Md(l,c);a+=ku(l,e,n,d,s)}else if(d=zP(t),typeof d=="function")for(t=d.call(t),c=0;!(l=t.next()).done;)l=l.value,d=r+Md(l,c++),a+=ku(l,e,n,d,s);else if(l==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function ou(t,e,n){if(t==null)return t;var r=[],s=0;return ku(t,r,"","",function(l){return e.call(n,l,s++)}),r}function $P(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Nt={current:null},Ru={transition:null},VP={ReactCurrentDispatcher:Nt,ReactCurrentBatchConfig:Ru,ReactCurrentOwner:Wp};he.Children={map:ou,forEach:function(t,e,n){ou(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ou(t,function(){e++}),e},toArray:function(t){return ou(t,function(e){return e})||[]},only:function(t){if(!zp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=no;he.Fragment=PP;he.Profiler=LP;he.PureComponent=Fp;he.StrictMode=OP;he.Suspense=FP;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VP;he.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=vw({},t.props),s=t.key,l=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(l=e.ref,a=Wp.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(d in e)Ew.call(e,d)&&!Sw.hasOwnProperty(d)&&(r[d]=e[d]===void 0&&c!==void 0?c[d]:e[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){c=Array(d);for(var h=0;h<d;h++)c[h]=arguments[h+2];r.children=c}return{$$typeof:Ql,type:t.type,key:s,ref:l,props:r,_owner:a}};he.createContext=function(t){return t={$$typeof:MP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:DP,_context:t},t.Consumer=t};he.createElement=Cw;he.createFactory=function(t){var e=Cw.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:bP,render:t}};he.isValidElement=zp;he.lazy=function(t){return{$$typeof:WP,_payload:{_status:-1,_result:t},_init:$P}};he.memo=function(t,e){return{$$typeof:UP,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=Ru.transition;Ru.transition={};try{t()}finally{Ru.transition=e}};he.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};he.useCallback=function(t,e){return Nt.current.useCallback(t,e)};he.useContext=function(t){return Nt.current.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t){return Nt.current.useDeferredValue(t)};he.useEffect=function(t,e){return Nt.current.useEffect(t,e)};he.useId=function(){return Nt.current.useId()};he.useImperativeHandle=function(t,e,n){return Nt.current.useImperativeHandle(t,e,n)};he.useInsertionEffect=function(t,e){return Nt.current.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return Nt.current.useLayoutEffect(t,e)};he.useMemo=function(t,e){return Nt.current.useMemo(t,e)};he.useReducer=function(t,e,n){return Nt.current.useReducer(t,e,n)};he.useRef=function(t){return Nt.current.useRef(t)};he.useState=function(t){return Nt.current.useState(t)};he.useSyncExternalStore=function(t,e,n){return Nt.current.useSyncExternalStore(t,e,n)};he.useTransition=function(){return Nt.current.useTransition()};he.version="18.2.0";(function(t){t.exports=he})(xP);const GP=RP(me);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jP=me,KP=Symbol.for("react.element"),YP=Symbol.for("react.fragment"),qP=Object.prototype.hasOwnProperty,QP=jP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,XP={key:!0,ref:!0,__self:!0,__source:!0};function Iw(t,e,n){var r,s={},l=null,a=null;n!==void 0&&(l=""+n),e.key!==void 0&&(l=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)qP.call(e,r)&&!XP.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:KP,type:t,key:l,ref:a,props:s,_owner:QP.current}}Dc.Fragment=YP;Dc.jsx=Iw;Dc.jsxs=Iw;(function(t){t.exports=Dc})(NP);const Tw=wl.Fragment,Z=wl.jsx,qt=wl.jsxs;var Eh={},Sh={},JP={get exports(){return Sh},set exports(t){Sh=t}},Zt={},Ch={},ZP={get exports(){return Ch},set exports(t){Ch=t}},kw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,te){var ne=B.length;B.push(te);e:for(;0<ne;){var _e=ne-1>>>1,je=B[_e];if(0<s(je,te))B[_e]=te,B[ne]=je,ne=_e;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var te=B[0],ne=B.pop();if(ne!==te){B[0]=ne;e:for(var _e=0,je=B.length,Ji=je>>>1;_e<Ji;){var qn=2*(_e+1)-1,bn=B[qn],tn=qn+1,Zi=B[tn];if(0>s(bn,ne))tn<je&&0>s(Zi,bn)?(B[_e]=Zi,B[tn]=ne,_e=tn):(B[_e]=bn,B[qn]=ne,_e=qn);else if(tn<je&&0>s(Zi,ne))B[_e]=Zi,B[tn]=ne,_e=tn;else break e}}return te}function s(B,te){var ne=B.sortIndex-te.sortIndex;return ne!==0?ne:B.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var d=[],h=[],v=1,m=null,y=3,R=!1,N=!1,P=!1,j=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(B){for(var te=n(h);te!==null;){if(te.callback===null)r(h);else if(te.startTime<=B)r(h),te.sortIndex=te.expirationTime,e(d,te);else break;te=n(h)}}function D(B){if(P=!1,T(B),!N)if(n(d)!==null)N=!0,_o(U);else{var te=n(h);te!==null&&mn(D,te.startTime-B)}}function U(B,te){N=!1,P&&(P=!1,C(H),H=-1),R=!0;var ne=y;try{for(T(te),m=n(d);m!==null&&(!(m.expirationTime>te)||B&&!wt());){var _e=m.callback;if(typeof _e=="function"){m.callback=null,y=m.priorityLevel;var je=_e(m.expirationTime<=te);te=t.unstable_now(),typeof je=="function"?m.callback=je:m===n(d)&&r(d),T(te)}else r(d);m=n(d)}if(m!==null)var Ji=!0;else{var qn=n(h);qn!==null&&mn(D,qn.startTime-te),Ji=!1}return Ji}finally{m=null,y=ne,R=!1}}var $=!1,W=null,H=-1,ye=5,ie=-1;function wt(){return!(t.unstable_now()-ie<ye)}function hi(){if(W!==null){var B=t.unstable_now();ie=B;var te=!0;try{te=W(!0,B)}finally{te?pi():($=!1,W=null)}}else $=!1}var pi;if(typeof E=="function")pi=function(){E(hi)};else if(typeof MessageChannel<"u"){var go=new MessageChannel,hf=go.port2;go.port1.onmessage=hi,pi=function(){hf.postMessage(null)}}else pi=function(){j(hi,0)};function _o(B){W=B,$||($=!0,pi())}function mn(B,te){H=j(function(){B(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){N||R||(N=!0,_o(U))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ye=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(B){switch(y){case 1:case 2:case 3:var te=3;break;default:te=y}var ne=y;y=te;try{return B()}finally{y=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,te){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ne=y;y=B;try{return te()}finally{y=ne}},t.unstable_scheduleCallback=function(B,te,ne){var _e=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?_e+ne:_e):ne=_e,B){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=ne+je,B={id:v++,callback:te,priorityLevel:B,startTime:ne,expirationTime:je,sortIndex:-1},ne>_e?(B.sortIndex=ne,e(h,B),n(d)===null&&B===n(h)&&(P?(C(H),H=-1):P=!0,mn(D,ne-_e))):(B.sortIndex=je,e(d,B),N||R||(N=!0,_o(U))),B},t.unstable_shouldYield=wt,t.unstable_wrapCallback=function(B){var te=y;return function(){var ne=y;y=te;try{return B.apply(this,arguments)}finally{y=ne}}}})(kw);(function(t){t.exports=kw})(ZP);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rw=me,Jt=Ch;function b(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Nw=new Set,El={};function qi(t,e){Hs(t,e),Hs(t+"Capture",e)}function Hs(t,e){for(El[t]=e,t=0;t<e.length;t++)Nw.add(e[t])}var gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ih=Object.prototype.hasOwnProperty,eO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sy={},oy={};function tO(t){return Ih.call(oy,t)?!0:Ih.call(sy,t)?!1:eO.test(t)?oy[t]=!0:(sy[t]=!0,!1)}function nO(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function rO(t,e,n,r){if(e===null||typeof e>"u"||nO(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xt(t,e,n,r,s,l,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=l,this.removeEmptyString=a}var ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ct[t]=new xt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ct[e]=new xt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ct[t]=new xt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ct[t]=new xt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ct[t]=new xt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ct[t]=new xt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ct[t]=new xt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ct[t]=new xt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ct[t]=new xt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Bp=/[\-:]([a-z])/g;function Hp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Bp,Hp);ct[e]=new xt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Bp,Hp);ct[e]=new xt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Bp,Hp);ct[e]=new xt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ct[t]=new xt(t,1,!1,t.toLowerCase(),null,!1,!1)});ct.xlinkHref=new xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ct[t]=new xt(t,1,!1,t.toLowerCase(),null,!0,!0)});function $p(t,e,n,r){var s=ct.hasOwnProperty(e)?ct[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(rO(e,n,s,r)&&(n=null),r||s===null?tO(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Er=Rw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lu=Symbol.for("react.element"),ms=Symbol.for("react.portal"),vs=Symbol.for("react.fragment"),Vp=Symbol.for("react.strict_mode"),Th=Symbol.for("react.profiler"),xw=Symbol.for("react.provider"),Aw=Symbol.for("react.context"),Gp=Symbol.for("react.forward_ref"),kh=Symbol.for("react.suspense"),Rh=Symbol.for("react.suspense_list"),jp=Symbol.for("react.memo"),Dr=Symbol.for("react.lazy"),Pw=Symbol.for("react.offscreen"),ly=Symbol.iterator;function zo(t){return t===null||typeof t!="object"?null:(t=ly&&t[ly]||t["@@iterator"],typeof t=="function"?t:null)}var We=Object.assign,bd;function Zo(t){if(bd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);bd=e&&e[1]||""}return`
`+bd+t}var Fd=!1;function Ud(t,e){if(!t||Fd)return"";Fd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var s=h.stack.split(`
`),l=r.stack.split(`
`),a=s.length-1,c=l.length-1;1<=a&&0<=c&&s[a]!==l[c];)c--;for(;1<=a&&0<=c;a--,c--)if(s[a]!==l[c]){if(a!==1||c!==1)do if(a--,c--,0>c||s[a]!==l[c]){var d=`
`+s[a].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=a&&0<=c);break}}}finally{Fd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Zo(t):""}function iO(t){switch(t.tag){case 5:return Zo(t.type);case 16:return Zo("Lazy");case 13:return Zo("Suspense");case 19:return Zo("SuspenseList");case 0:case 2:case 15:return t=Ud(t.type,!1),t;case 11:return t=Ud(t.type.render,!1),t;case 1:return t=Ud(t.type,!0),t;default:return""}}function Nh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vs:return"Fragment";case ms:return"Portal";case Th:return"Profiler";case Vp:return"StrictMode";case kh:return"Suspense";case Rh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Aw:return(t.displayName||"Context")+".Consumer";case xw:return(t._context.displayName||"Context")+".Provider";case Gp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case jp:return e=t.displayName||null,e!==null?e:Nh(t.type)||"Memo";case Dr:e=t._payload,t=t._init;try{return Nh(t(e))}catch{}}return null}function sO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nh(e);case 8:return e===Vp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ii(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ow(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function oO(t){var e=Ow(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,l=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,l.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function au(t){t._valueTracker||(t._valueTracker=oO(t))}function Lw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Ow(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Hu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xh(t,e){var n=e.checked;return We({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ay(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ii(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Dw(t,e){e=e.checked,e!=null&&$p(t,"checked",e,!1)}function Ah(t,e){Dw(t,e);var n=ii(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ph(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ph(t,e.type,ii(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function uy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ph(t,e,n){(e!=="number"||Hu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var el=Array.isArray;function Ps(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ii(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Oh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(b(91));return We({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function cy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(b(92));if(el(n)){if(1<n.length)throw Error(b(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ii(n)}}function Mw(t,e){var n=ii(e.value),r=ii(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function fy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function bw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?bw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var uu,Fw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(uu=uu||document.createElement("div"),uu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=uu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Sl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ol={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lO=["Webkit","ms","Moz","O"];Object.keys(ol).forEach(function(t){lO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ol[e]=ol[t]})});function Uw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ol.hasOwnProperty(t)&&ol[t]?(""+e).trim():e+"px"}function Ww(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Uw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var aO=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dh(t,e){if(e){if(aO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(b(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(b(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(b(61))}if(e.style!=null&&typeof e.style!="object")throw Error(b(62))}}function Mh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bh=null;function Kp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fh=null,Os=null,Ls=null;function dy(t){if(t=Zl(t)){if(typeof Fh!="function")throw Error(b(280));var e=t.stateNode;e&&(e=Wc(e),Fh(t.stateNode,t.type,e))}}function zw(t){Os?Ls?Ls.push(t):Ls=[t]:Os=t}function Bw(){if(Os){var t=Os,e=Ls;if(Ls=Os=null,dy(t),e)for(t=0;t<e.length;t++)dy(e[t])}}function Hw(t,e){return t(e)}function $w(){}var Wd=!1;function Vw(t,e,n){if(Wd)return t(e,n);Wd=!0;try{return Hw(t,e,n)}finally{Wd=!1,(Os!==null||Ls!==null)&&($w(),Bw())}}function Cl(t,e){var n=t.stateNode;if(n===null)return null;var r=Wc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(b(231,e,typeof n));return n}var Uh=!1;if(gr)try{var Bo={};Object.defineProperty(Bo,"passive",{get:function(){Uh=!0}}),window.addEventListener("test",Bo,Bo),window.removeEventListener("test",Bo,Bo)}catch{Uh=!1}function uO(t,e,n,r,s,l,a,c,d){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(v){this.onError(v)}}var ll=!1,$u=null,Vu=!1,Wh=null,cO={onError:function(t){ll=!0,$u=t}};function fO(t,e,n,r,s,l,a,c,d){ll=!1,$u=null,uO.apply(cO,arguments)}function dO(t,e,n,r,s,l,a,c,d){if(fO.apply(this,arguments),ll){if(ll){var h=$u;ll=!1,$u=null}else throw Error(b(198));Vu||(Vu=!0,Wh=h)}}function Qi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Gw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hy(t){if(Qi(t)!==t)throw Error(b(188))}function hO(t){var e=t.alternate;if(!e){if(e=Qi(t),e===null)throw Error(b(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var l=s.alternate;if(l===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return hy(s),t;if(l===r)return hy(s),e;l=l.sibling}throw Error(b(188))}if(n.return!==r.return)n=s,r=l;else{for(var a=!1,c=s.child;c;){if(c===n){a=!0,n=s,r=l;break}if(c===r){a=!0,r=s,n=l;break}c=c.sibling}if(!a){for(c=l.child;c;){if(c===n){a=!0,n=l,r=s;break}if(c===r){a=!0,r=l,n=s;break}c=c.sibling}if(!a)throw Error(b(189))}}if(n.alternate!==r)throw Error(b(190))}if(n.tag!==3)throw Error(b(188));return n.stateNode.current===n?t:e}function jw(t){return t=hO(t),t!==null?Kw(t):null}function Kw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Kw(t);if(e!==null)return e;t=t.sibling}return null}var Yw=Jt.unstable_scheduleCallback,py=Jt.unstable_cancelCallback,pO=Jt.unstable_shouldYield,gO=Jt.unstable_requestPaint,Ge=Jt.unstable_now,_O=Jt.unstable_getCurrentPriorityLevel,Yp=Jt.unstable_ImmediatePriority,qw=Jt.unstable_UserBlockingPriority,Gu=Jt.unstable_NormalPriority,mO=Jt.unstable_LowPriority,Qw=Jt.unstable_IdlePriority,Mc=null,$n=null;function vO(t){if($n&&typeof $n.onCommitFiberRoot=="function")try{$n.onCommitFiberRoot(Mc,t,void 0,(t.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:EO,yO=Math.log,wO=Math.LN2;function EO(t){return t>>>=0,t===0?32:31-(yO(t)/wO|0)|0}var cu=64,fu=4194304;function tl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ju(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,l=t.pingedLanes,a=n&268435455;if(a!==0){var c=a&~s;c!==0?r=tl(c):(l&=a,l!==0&&(r=tl(l)))}else a=n&~s,a!==0?r=tl(a):l!==0&&(r=tl(l));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,l=e&-e,s>=l||s===16&&(l&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Pn(e),s=1<<n,r|=t[n],e&=~s;return r}function SO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,l=t.pendingLanes;0<l;){var a=31-Pn(l),c=1<<a,d=s[a];d===-1?(!(c&n)||c&r)&&(s[a]=SO(c,e)):d<=e&&(t.expiredLanes|=c),l&=~c}}function zh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Xw(){var t=cu;return cu<<=1,!(cu&4194240)&&(cu=64),t}function zd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Xl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pn(e),t[e]=n}function IO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Pn(n),l=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~l}}function qp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Pn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ce=0;function Jw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Zw,Qp,eE,tE,nE,Bh=!1,du=[],Vr=null,Gr=null,jr=null,Il=new Map,Tl=new Map,br=[],TO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gy(t,e){switch(t){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":Il.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tl.delete(e.pointerId)}}function Ho(t,e,n,r,s,l){return t===null||t.nativeEvent!==l?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[s]},e!==null&&(e=Zl(e),e!==null&&Qp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function kO(t,e,n,r,s){switch(e){case"focusin":return Vr=Ho(Vr,t,e,n,r,s),!0;case"dragenter":return Gr=Ho(Gr,t,e,n,r,s),!0;case"mouseover":return jr=Ho(jr,t,e,n,r,s),!0;case"pointerover":var l=s.pointerId;return Il.set(l,Ho(Il.get(l)||null,t,e,n,r,s)),!0;case"gotpointercapture":return l=s.pointerId,Tl.set(l,Ho(Tl.get(l)||null,t,e,n,r,s)),!0}return!1}function rE(t){var e=Ni(t.target);if(e!==null){var n=Qi(e);if(n!==null){if(e=n.tag,e===13){if(e=Gw(n),e!==null){t.blockedOn=e,nE(t.priority,function(){eE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Hh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);bh=r,n.target.dispatchEvent(r),bh=null}else return e=Zl(n),e!==null&&Qp(e),t.blockedOn=n,!1;e.shift()}return!0}function _y(t,e,n){Nu(t)&&n.delete(e)}function RO(){Bh=!1,Vr!==null&&Nu(Vr)&&(Vr=null),Gr!==null&&Nu(Gr)&&(Gr=null),jr!==null&&Nu(jr)&&(jr=null),Il.forEach(_y),Tl.forEach(_y)}function $o(t,e){t.blockedOn===e&&(t.blockedOn=null,Bh||(Bh=!0,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,RO)))}function kl(t){function e(s){return $o(s,t)}if(0<du.length){$o(du[0],t);for(var n=1;n<du.length;n++){var r=du[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Vr!==null&&$o(Vr,t),Gr!==null&&$o(Gr,t),jr!==null&&$o(jr,t),Il.forEach(e),Tl.forEach(e),n=0;n<br.length;n++)r=br[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<br.length&&(n=br[0],n.blockedOn===null);)rE(n),n.blockedOn===null&&br.shift()}var Ds=Er.ReactCurrentBatchConfig,Ku=!0;function NO(t,e,n,r){var s=Ce,l=Ds.transition;Ds.transition=null;try{Ce=1,Xp(t,e,n,r)}finally{Ce=s,Ds.transition=l}}function xO(t,e,n,r){var s=Ce,l=Ds.transition;Ds.transition=null;try{Ce=4,Xp(t,e,n,r)}finally{Ce=s,Ds.transition=l}}function Xp(t,e,n,r){if(Ku){var s=Hh(t,e,n,r);if(s===null)Qd(t,e,r,Yu,n),gy(t,r);else if(kO(s,t,e,n,r))r.stopPropagation();else if(gy(t,r),e&4&&-1<TO.indexOf(t)){for(;s!==null;){var l=Zl(s);if(l!==null&&Zw(l),l=Hh(t,e,n,r),l===null&&Qd(t,e,r,Yu,n),l===s)break;s=l}s!==null&&r.stopPropagation()}else Qd(t,e,r,null,n)}}var Yu=null;function Hh(t,e,n,r){if(Yu=null,t=Kp(r),t=Ni(t),t!==null)if(e=Qi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Gw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yu=t,null}function iE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_O()){case Yp:return 1;case qw:return 4;case Gu:case mO:return 16;case Qw:return 536870912;default:return 16}default:return 16}}var Hr=null,Jp=null,xu=null;function sE(){if(xu)return xu;var t,e=Jp,n=e.length,r,s="value"in Hr?Hr.value:Hr.textContent,l=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[l-r];r++);return xu=s.slice(t,1<r?1-r:void 0)}function Au(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function hu(){return!0}function my(){return!1}function en(t){function e(n,r,s,l,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=l,this.target=a,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(l):l[c]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?hu:my,this.isPropagationStopped=my,this}return We(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hu)},persist:function(){},isPersistent:hu}),e}var ro={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zp=en(ro),Jl=We({},ro,{view:0,detail:0}),AO=en(Jl),Bd,Hd,Vo,bc=We({},Jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vo&&(Vo&&t.type==="mousemove"?(Bd=t.screenX-Vo.screenX,Hd=t.screenY-Vo.screenY):Hd=Bd=0,Vo=t),Bd)},movementY:function(t){return"movementY"in t?t.movementY:Hd}}),vy=en(bc),PO=We({},bc,{dataTransfer:0}),OO=en(PO),LO=We({},Jl,{relatedTarget:0}),$d=en(LO),DO=We({},ro,{animationName:0,elapsedTime:0,pseudoElement:0}),MO=en(DO),bO=We({},ro,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),FO=en(bO),UO=We({},ro,{data:0}),yy=en(UO),WO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=BO[t])?!!e[t]:!1}function eg(){return HO}var $O=We({},Jl,{key:function(t){if(t.key){var e=WO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Au(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eg,charCode:function(t){return t.type==="keypress"?Au(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Au(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),VO=en($O),GO=We({},bc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wy=en(GO),jO=We({},Jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eg}),KO=en(jO),YO=We({},ro,{propertyName:0,elapsedTime:0,pseudoElement:0}),qO=en(YO),QO=We({},bc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),XO=en(QO),JO=[9,13,27,32],tg=gr&&"CompositionEvent"in window,al=null;gr&&"documentMode"in document&&(al=document.documentMode);var ZO=gr&&"TextEvent"in window&&!al,oE=gr&&(!tg||al&&8<al&&11>=al),Ey=String.fromCharCode(32),Sy=!1;function lE(t,e){switch(t){case"keyup":return JO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ys=!1;function eL(t,e){switch(t){case"compositionend":return aE(e);case"keypress":return e.which!==32?null:(Sy=!0,Ey);case"textInput":return t=e.data,t===Ey&&Sy?null:t;default:return null}}function tL(t,e){if(ys)return t==="compositionend"||!tg&&lE(t,e)?(t=sE(),xu=Jp=Hr=null,ys=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return oE&&e.locale!=="ko"?null:e.data;default:return null}}var nL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!nL[t.type]:e==="textarea"}function uE(t,e,n,r){zw(r),e=qu(e,"onChange"),0<e.length&&(n=new Zp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ul=null,Rl=null;function rL(t){wE(t,0)}function Fc(t){var e=Ss(t);if(Lw(e))return t}function iL(t,e){if(t==="change")return e}var cE=!1;if(gr){var Vd;if(gr){var Gd="oninput"in document;if(!Gd){var Iy=document.createElement("div");Iy.setAttribute("oninput","return;"),Gd=typeof Iy.oninput=="function"}Vd=Gd}else Vd=!1;cE=Vd&&(!document.documentMode||9<document.documentMode)}function Ty(){ul&&(ul.detachEvent("onpropertychange",fE),Rl=ul=null)}function fE(t){if(t.propertyName==="value"&&Fc(Rl)){var e=[];uE(e,Rl,t,Kp(t)),Vw(rL,e)}}function sL(t,e,n){t==="focusin"?(Ty(),ul=e,Rl=n,ul.attachEvent("onpropertychange",fE)):t==="focusout"&&Ty()}function oL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fc(Rl)}function lL(t,e){if(t==="click")return Fc(e)}function aL(t,e){if(t==="input"||t==="change")return Fc(e)}function uL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dn=typeof Object.is=="function"?Object.is:uL;function Nl(t,e){if(Dn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ih.call(e,s)||!Dn(t[s],e[s]))return!1}return!0}function ky(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ry(t,e){var n=ky(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ky(n)}}function dE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?dE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function hE(){for(var t=window,e=Hu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Hu(t.document)}return e}function ng(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function cL(t){var e=hE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&dE(n.ownerDocument.documentElement,n)){if(r!==null&&ng(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,l=Math.min(r.start,s);r=r.end===void 0?l:Math.min(r.end,s),!t.extend&&l>r&&(s=r,r=l,l=s),s=Ry(n,l);var a=Ry(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),l>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var fL=gr&&"documentMode"in document&&11>=document.documentMode,ws=null,$h=null,cl=null,Vh=!1;function Ny(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vh||ws==null||ws!==Hu(r)||(r=ws,"selectionStart"in r&&ng(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),cl&&Nl(cl,r)||(cl=r,r=qu($h,"onSelect"),0<r.length&&(e=new Zp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ws)))}function pu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Es={animationend:pu("Animation","AnimationEnd"),animationiteration:pu("Animation","AnimationIteration"),animationstart:pu("Animation","AnimationStart"),transitionend:pu("Transition","TransitionEnd")},jd={},pE={};gr&&(pE=document.createElement("div").style,"AnimationEvent"in window||(delete Es.animationend.animation,delete Es.animationiteration.animation,delete Es.animationstart.animation),"TransitionEvent"in window||delete Es.transitionend.transition);function Uc(t){if(jd[t])return jd[t];if(!Es[t])return t;var e=Es[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in pE)return jd[t]=e[n];return t}var gE=Uc("animationend"),_E=Uc("animationiteration"),mE=Uc("animationstart"),vE=Uc("transitionend"),yE=new Map,xy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ui(t,e){yE.set(t,e),qi(e,[t])}for(var Kd=0;Kd<xy.length;Kd++){var Yd=xy[Kd],dL=Yd.toLowerCase(),hL=Yd[0].toUpperCase()+Yd.slice(1);ui(dL,"on"+hL)}ui(gE,"onAnimationEnd");ui(_E,"onAnimationIteration");ui(mE,"onAnimationStart");ui("dblclick","onDoubleClick");ui("focusin","onFocus");ui("focusout","onBlur");ui(vE,"onTransitionEnd");Hs("onMouseEnter",["mouseout","mouseover"]);Hs("onMouseLeave",["mouseout","mouseover"]);Hs("onPointerEnter",["pointerout","pointerover"]);Hs("onPointerLeave",["pointerout","pointerover"]);qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qi("onBeforeInput",["compositionend","keypress","textInput","paste"]);qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pL=new Set("cancel close invalid load scroll toggle".split(" ").concat(nl));function Ay(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,dO(r,e,void 0,t),t.currentTarget=null}function wE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var l=void 0;if(e)for(var a=r.length-1;0<=a;a--){var c=r[a],d=c.instance,h=c.currentTarget;if(c=c.listener,d!==l&&s.isPropagationStopped())break e;Ay(s,c,h),l=d}else for(a=0;a<r.length;a++){if(c=r[a],d=c.instance,h=c.currentTarget,c=c.listener,d!==l&&s.isPropagationStopped())break e;Ay(s,c,h),l=d}}}if(Vu)throw t=Wh,Vu=!1,Wh=null,t}function Pe(t,e){var n=e[qh];n===void 0&&(n=e[qh]=new Set);var r=t+"__bubble";n.has(r)||(EE(e,t,2,!1),n.add(r))}function qd(t,e,n){var r=0;e&&(r|=4),EE(n,t,r,e)}var gu="_reactListening"+Math.random().toString(36).slice(2);function xl(t){if(!t[gu]){t[gu]=!0,Nw.forEach(function(n){n!=="selectionchange"&&(pL.has(n)||qd(n,!1,t),qd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[gu]||(e[gu]=!0,qd("selectionchange",!1,e))}}function EE(t,e,n,r){switch(iE(e)){case 1:var s=NO;break;case 4:s=xO;break;default:s=Xp}n=s.bind(null,e,n,t),s=void 0,!Uh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Qd(t,e,n,r,s){var l=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var c=r.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var d=a.tag;if((d===3||d===4)&&(d=a.stateNode.containerInfo,d===s||d.nodeType===8&&d.parentNode===s))return;a=a.return}for(;c!==null;){if(a=Ni(c),a===null)return;if(d=a.tag,d===5||d===6){r=l=a;continue e}c=c.parentNode}}r=r.return}Vw(function(){var h=l,v=Kp(n),m=[];e:{var y=yE.get(t);if(y!==void 0){var R=Zp,N=t;switch(t){case"keypress":if(Au(n)===0)break e;case"keydown":case"keyup":R=VO;break;case"focusin":N="focus",R=$d;break;case"focusout":N="blur",R=$d;break;case"beforeblur":case"afterblur":R=$d;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=vy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=OO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=KO;break;case gE:case _E:case mE:R=MO;break;case vE:R=qO;break;case"scroll":R=AO;break;case"wheel":R=XO;break;case"copy":case"cut":case"paste":R=FO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=wy}var P=(e&4)!==0,j=!P&&t==="scroll",C=P?y!==null?y+"Capture":null:y;P=[];for(var E=h,T;E!==null;){T=E;var D=T.stateNode;if(T.tag===5&&D!==null&&(T=D,C!==null&&(D=Cl(E,C),D!=null&&P.push(Al(E,D,T)))),j)break;E=E.return}0<P.length&&(y=new R(y,N,null,n,v),m.push({event:y,listeners:P}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",R=t==="mouseout"||t==="pointerout",y&&n!==bh&&(N=n.relatedTarget||n.fromElement)&&(Ni(N)||N[_r]))break e;if((R||y)&&(y=v.window===v?v:(y=v.ownerDocument)?y.defaultView||y.parentWindow:window,R?(N=n.relatedTarget||n.toElement,R=h,N=N?Ni(N):null,N!==null&&(j=Qi(N),N!==j||N.tag!==5&&N.tag!==6)&&(N=null)):(R=null,N=h),R!==N)){if(P=vy,D="onMouseLeave",C="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(P=wy,D="onPointerLeave",C="onPointerEnter",E="pointer"),j=R==null?y:Ss(R),T=N==null?y:Ss(N),y=new P(D,E+"leave",R,n,v),y.target=j,y.relatedTarget=T,D=null,Ni(v)===h&&(P=new P(C,E+"enter",N,n,v),P.target=T,P.relatedTarget=j,D=P),j=D,R&&N)t:{for(P=R,C=N,E=0,T=P;T;T=gs(T))E++;for(T=0,D=C;D;D=gs(D))T++;for(;0<E-T;)P=gs(P),E--;for(;0<T-E;)C=gs(C),T--;for(;E--;){if(P===C||C!==null&&P===C.alternate)break t;P=gs(P),C=gs(C)}P=null}else P=null;R!==null&&Py(m,y,R,P,!1),N!==null&&j!==null&&Py(m,j,N,P,!0)}}e:{if(y=h?Ss(h):window,R=y.nodeName&&y.nodeName.toLowerCase(),R==="select"||R==="input"&&y.type==="file")var U=iL;else if(Cy(y))if(cE)U=aL;else{U=oL;var $=sL}else(R=y.nodeName)&&R.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(U=lL);if(U&&(U=U(t,h))){uE(m,U,n,v);break e}$&&$(t,y,h),t==="focusout"&&($=y._wrapperState)&&$.controlled&&y.type==="number"&&Ph(y,"number",y.value)}switch($=h?Ss(h):window,t){case"focusin":(Cy($)||$.contentEditable==="true")&&(ws=$,$h=h,cl=null);break;case"focusout":cl=$h=ws=null;break;case"mousedown":Vh=!0;break;case"contextmenu":case"mouseup":case"dragend":Vh=!1,Ny(m,n,v);break;case"selectionchange":if(fL)break;case"keydown":case"keyup":Ny(m,n,v)}var W;if(tg)e:{switch(t){case"compositionstart":var H="onCompositionStart";break e;case"compositionend":H="onCompositionEnd";break e;case"compositionupdate":H="onCompositionUpdate";break e}H=void 0}else ys?lE(t,n)&&(H="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(H="onCompositionStart");H&&(oE&&n.locale!=="ko"&&(ys||H!=="onCompositionStart"?H==="onCompositionEnd"&&ys&&(W=sE()):(Hr=v,Jp="value"in Hr?Hr.value:Hr.textContent,ys=!0)),$=qu(h,H),0<$.length&&(H=new yy(H,t,null,n,v),m.push({event:H,listeners:$}),W?H.data=W:(W=aE(n),W!==null&&(H.data=W)))),(W=ZO?eL(t,n):tL(t,n))&&(h=qu(h,"onBeforeInput"),0<h.length&&(v=new yy("onBeforeInput","beforeinput",null,n,v),m.push({event:v,listeners:h}),v.data=W))}wE(m,e)})}function Al(t,e,n){return{instance:t,listener:e,currentTarget:n}}function qu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=Cl(t,n),l!=null&&r.unshift(Al(t,l,s)),l=Cl(t,e),l!=null&&r.push(Al(t,l,s))),t=t.return}return r}function gs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Py(t,e,n,r,s){for(var l=e._reactName,a=[];n!==null&&n!==r;){var c=n,d=c.alternate,h=c.stateNode;if(d!==null&&d===r)break;c.tag===5&&h!==null&&(c=h,s?(d=Cl(n,l),d!=null&&a.unshift(Al(n,d,c))):s||(d=Cl(n,l),d!=null&&a.push(Al(n,d,c)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var gL=/\r\n?/g,_L=/\u0000|\uFFFD/g;function Oy(t){return(typeof t=="string"?t:""+t).replace(gL,`
`).replace(_L,"")}function _u(t,e,n){if(e=Oy(e),Oy(t)!==e&&n)throw Error(b(425))}function Qu(){}var Gh=null,jh=null;function Kh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Yh=typeof setTimeout=="function"?setTimeout:void 0,mL=typeof clearTimeout=="function"?clearTimeout:void 0,Ly=typeof Promise=="function"?Promise:void 0,vL=typeof queueMicrotask=="function"?queueMicrotask:typeof Ly<"u"?function(t){return Ly.resolve(null).then(t).catch(yL)}:Yh;function yL(t){setTimeout(function(){throw t})}function Xd(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),kl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);kl(e)}function Kr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Dy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var io=Math.random().toString(36).slice(2),Hn="__reactFiber$"+io,Pl="__reactProps$"+io,_r="__reactContainer$"+io,qh="__reactEvents$"+io,wL="__reactListeners$"+io,EL="__reactHandles$"+io;function Ni(t){var e=t[Hn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_r]||n[Hn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Dy(t);t!==null;){if(n=t[Hn])return n;t=Dy(t)}return e}t=n,n=t.parentNode}return null}function Zl(t){return t=t[Hn]||t[_r],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ss(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(b(33))}function Wc(t){return t[Pl]||null}var Qh=[],Cs=-1;function ci(t){return{current:t}}function Le(t){0>Cs||(t.current=Qh[Cs],Qh[Cs]=null,Cs--)}function xe(t,e){Cs++,Qh[Cs]=t.current,t.current=e}var si={},vt=ci(si),Ft=ci(!1),Fi=si;function $s(t,e){var n=t.type.contextTypes;if(!n)return si;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in n)s[l]=e[l];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ut(t){return t=t.childContextTypes,t!=null}function Xu(){Le(Ft),Le(vt)}function My(t,e,n){if(vt.current!==si)throw Error(b(168));xe(vt,e),xe(Ft,n)}function SE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(b(108,sO(t)||"Unknown",s));return We({},n,r)}function Ju(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||si,Fi=vt.current,xe(vt,t),xe(Ft,Ft.current),!0}function by(t,e,n){var r=t.stateNode;if(!r)throw Error(b(169));n?(t=SE(t,e,Fi),r.__reactInternalMemoizedMergedChildContext=t,Le(Ft),Le(vt),xe(vt,t)):Le(Ft),xe(Ft,n)}var lr=null,zc=!1,Jd=!1;function CE(t){lr===null?lr=[t]:lr.push(t)}function SL(t){zc=!0,CE(t)}function fi(){if(!Jd&&lr!==null){Jd=!0;var t=0,e=Ce;try{var n=lr;for(Ce=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}lr=null,zc=!1}catch(s){throw lr!==null&&(lr=lr.slice(t+1)),Yw(Yp,fi),s}finally{Ce=e,Jd=!1}}return null}var Is=[],Ts=0,Zu=null,ec=0,fn=[],dn=0,Ui=null,ar=1,ur="";function Ii(t,e){Is[Ts++]=ec,Is[Ts++]=Zu,Zu=t,ec=e}function IE(t,e,n){fn[dn++]=ar,fn[dn++]=ur,fn[dn++]=Ui,Ui=t;var r=ar;t=ur;var s=32-Pn(r)-1;r&=~(1<<s),n+=1;var l=32-Pn(e)+s;if(30<l){var a=s-s%5;l=(r&(1<<a)-1).toString(32),r>>=a,s-=a,ar=1<<32-Pn(e)+s|n<<s|r,ur=l+t}else ar=1<<l|n<<s|r,ur=t}function rg(t){t.return!==null&&(Ii(t,1),IE(t,1,0))}function ig(t){for(;t===Zu;)Zu=Is[--Ts],Is[Ts]=null,ec=Is[--Ts],Is[Ts]=null;for(;t===Ui;)Ui=fn[--dn],fn[dn]=null,ur=fn[--dn],fn[dn]=null,ar=fn[--dn],fn[dn]=null}var Xt=null,Qt=null,Me=!1,Rn=null;function TE(t,e){var n=hn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Fy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Xt=t,Qt=Kr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Xt=t,Qt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ui!==null?{id:ar,overflow:ur}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=hn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Xt=t,Qt=null,!0):!1;default:return!1}}function Xh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Jh(t){if(Me){var e=Qt;if(e){var n=e;if(!Fy(t,e)){if(Xh(t))throw Error(b(418));e=Kr(n.nextSibling);var r=Xt;e&&Fy(t,e)?TE(r,n):(t.flags=t.flags&-4097|2,Me=!1,Xt=t)}}else{if(Xh(t))throw Error(b(418));t.flags=t.flags&-4097|2,Me=!1,Xt=t}}}function Uy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Xt=t}function mu(t){if(t!==Xt)return!1;if(!Me)return Uy(t),Me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Kh(t.type,t.memoizedProps)),e&&(e=Qt)){if(Xh(t))throw kE(),Error(b(418));for(;e;)TE(t,e),e=Kr(e.nextSibling)}if(Uy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(b(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Qt=Kr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Qt=null}}else Qt=Xt?Kr(t.stateNode.nextSibling):null;return!0}function kE(){for(var t=Qt;t;)t=Kr(t.nextSibling)}function Vs(){Qt=Xt=null,Me=!1}function sg(t){Rn===null?Rn=[t]:Rn.push(t)}var CL=Er.ReactCurrentBatchConfig;function Tn(t,e){if(t&&t.defaultProps){e=We({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var tc=ci(null),nc=null,ks=null,og=null;function lg(){og=ks=nc=null}function ag(t){var e=tc.current;Le(tc),t._currentValue=e}function Zh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ms(t,e){nc=t,og=ks=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Mt=!0),t.firstContext=null)}function gn(t){var e=t._currentValue;if(og!==t)if(t={context:t,memoizedValue:e,next:null},ks===null){if(nc===null)throw Error(b(308));ks=t,nc.dependencies={lanes:0,firstContext:t}}else ks=ks.next=t;return e}var xi=null;function ug(t){xi===null?xi=[t]:xi.push(t)}function RE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,ug(e)):(n.next=s.next,s.next=n),e.interleaved=n,mr(t,r)}function mr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Mr=!1;function cg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function hr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Yr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ge&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,mr(t,n)}return s=r.interleaved,s===null?(e.next=e,ug(r)):(e.next=s.next,s.next=e),r.interleaved=e,mr(t,n)}function Pu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qp(t,n)}}function Wy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?s=l=a:l=l.next=a,n=n.next}while(n!==null);l===null?s=l=e:l=l.next=e}else s=l=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function rc(t,e,n,r){var s=t.updateQueue;Mr=!1;var l=s.firstBaseUpdate,a=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var d=c,h=d.next;d.next=null,a===null?l=h:a.next=h,a=d;var v=t.alternate;v!==null&&(v=v.updateQueue,c=v.lastBaseUpdate,c!==a&&(c===null?v.firstBaseUpdate=h:c.next=h,v.lastBaseUpdate=d))}if(l!==null){var m=s.baseState;a=0,v=h=d=null,c=l;do{var y=c.lane,R=c.eventTime;if((r&y)===y){v!==null&&(v=v.next={eventTime:R,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var N=t,P=c;switch(y=e,R=n,P.tag){case 1:if(N=P.payload,typeof N=="function"){m=N.call(R,m,y);break e}m=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=P.payload,y=typeof N=="function"?N.call(R,m,y):N,y==null)break e;m=We({},m,y);break e;case 2:Mr=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,y=s.effects,y===null?s.effects=[c]:y.push(c))}else R={eventTime:R,lane:y,tag:c.tag,payload:c.payload,callback:c.callback,next:null},v===null?(h=v=R,d=m):v=v.next=R,a|=y;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;y=c,c=y.next,y.next=null,s.lastBaseUpdate=y,s.shared.pending=null}}while(1);if(v===null&&(d=m),s.baseState=d,s.firstBaseUpdate=h,s.lastBaseUpdate=v,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else l===null&&(s.shared.lanes=0);zi|=a,t.lanes=a,t.memoizedState=m}}function zy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(b(191,s));s.call(r)}}}var xE=new Rw.Component().refs;function ep(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:We({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Bc={isMounted:function(t){return(t=t._reactInternals)?Qi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Rt(),s=Qr(t),l=hr(r,s);l.payload=e,n!=null&&(l.callback=n),e=Yr(t,l,s),e!==null&&(On(e,t,s,r),Pu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Rt(),s=Qr(t),l=hr(r,s);l.tag=1,l.payload=e,n!=null&&(l.callback=n),e=Yr(t,l,s),e!==null&&(On(e,t,s,r),Pu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Rt(),r=Qr(t),s=hr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Yr(t,s,r),e!==null&&(On(e,t,r,n),Pu(e,t,r))}};function By(t,e,n,r,s,l,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,l,a):e.prototype&&e.prototype.isPureReactComponent?!Nl(n,r)||!Nl(s,l):!0}function AE(t,e,n){var r=!1,s=si,l=e.contextType;return typeof l=="object"&&l!==null?l=gn(l):(s=Ut(e)?Fi:vt.current,r=e.contextTypes,l=(r=r!=null)?$s(t,s):si),e=new e(n,l),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Bc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=l),e}function Hy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Bc.enqueueReplaceState(e,e.state,null)}function tp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=xE,cg(t);var l=e.contextType;typeof l=="object"&&l!==null?s.context=gn(l):(l=Ut(e)?Fi:vt.current,s.context=$s(t,l)),s.state=t.memoizedState,l=e.getDerivedStateFromProps,typeof l=="function"&&(ep(t,e,l,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Bc.enqueueReplaceState(s,s.state,null),rc(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Go(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(b(309));var r=n.stateNode}if(!r)throw Error(b(147,t));var s=r,l=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===l?e.ref:(e=function(a){var c=s.refs;c===xE&&(c=s.refs={}),a===null?delete c[l]:c[l]=a},e._stringRef=l,e)}if(typeof t!="string")throw Error(b(284));if(!n._owner)throw Error(b(290,t))}return t}function vu(t,e){throw t=Object.prototype.toString.call(e),Error(b(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $y(t){var e=t._init;return e(t._payload)}function PE(t){function e(C,E){if(t){var T=C.deletions;T===null?(C.deletions=[E],C.flags|=16):T.push(E)}}function n(C,E){if(!t)return null;for(;E!==null;)e(C,E),E=E.sibling;return null}function r(C,E){for(C=new Map;E!==null;)E.key!==null?C.set(E.key,E):C.set(E.index,E),E=E.sibling;return C}function s(C,E){return C=Xr(C,E),C.index=0,C.sibling=null,C}function l(C,E,T){return C.index=T,t?(T=C.alternate,T!==null?(T=T.index,T<E?(C.flags|=2,E):T):(C.flags|=2,E)):(C.flags|=1048576,E)}function a(C){return t&&C.alternate===null&&(C.flags|=2),C}function c(C,E,T,D){return E===null||E.tag!==6?(E=sh(T,C.mode,D),E.return=C,E):(E=s(E,T),E.return=C,E)}function d(C,E,T,D){var U=T.type;return U===vs?v(C,E,T.props.children,D,T.key):E!==null&&(E.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Dr&&$y(U)===E.type)?(D=s(E,T.props),D.ref=Go(C,E,T),D.return=C,D):(D=Fu(T.type,T.key,T.props,null,C.mode,D),D.ref=Go(C,E,T),D.return=C,D)}function h(C,E,T,D){return E===null||E.tag!==4||E.stateNode.containerInfo!==T.containerInfo||E.stateNode.implementation!==T.implementation?(E=oh(T,C.mode,D),E.return=C,E):(E=s(E,T.children||[]),E.return=C,E)}function v(C,E,T,D,U){return E===null||E.tag!==7?(E=Di(T,C.mode,D,U),E.return=C,E):(E=s(E,T),E.return=C,E)}function m(C,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return E=sh(""+E,C.mode,T),E.return=C,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case lu:return T=Fu(E.type,E.key,E.props,null,C.mode,T),T.ref=Go(C,null,E),T.return=C,T;case ms:return E=oh(E,C.mode,T),E.return=C,E;case Dr:var D=E._init;return m(C,D(E._payload),T)}if(el(E)||zo(E))return E=Di(E,C.mode,T,null),E.return=C,E;vu(C,E)}return null}function y(C,E,T,D){var U=E!==null?E.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return U!==null?null:c(C,E,""+T,D);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case lu:return T.key===U?d(C,E,T,D):null;case ms:return T.key===U?h(C,E,T,D):null;case Dr:return U=T._init,y(C,E,U(T._payload),D)}if(el(T)||zo(T))return U!==null?null:v(C,E,T,D,null);vu(C,T)}return null}function R(C,E,T,D,U){if(typeof D=="string"&&D!==""||typeof D=="number")return C=C.get(T)||null,c(E,C,""+D,U);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case lu:return C=C.get(D.key===null?T:D.key)||null,d(E,C,D,U);case ms:return C=C.get(D.key===null?T:D.key)||null,h(E,C,D,U);case Dr:var $=D._init;return R(C,E,T,$(D._payload),U)}if(el(D)||zo(D))return C=C.get(T)||null,v(E,C,D,U,null);vu(E,D)}return null}function N(C,E,T,D){for(var U=null,$=null,W=E,H=E=0,ye=null;W!==null&&H<T.length;H++){W.index>H?(ye=W,W=null):ye=W.sibling;var ie=y(C,W,T[H],D);if(ie===null){W===null&&(W=ye);break}t&&W&&ie.alternate===null&&e(C,W),E=l(ie,E,H),$===null?U=ie:$.sibling=ie,$=ie,W=ye}if(H===T.length)return n(C,W),Me&&Ii(C,H),U;if(W===null){for(;H<T.length;H++)W=m(C,T[H],D),W!==null&&(E=l(W,E,H),$===null?U=W:$.sibling=W,$=W);return Me&&Ii(C,H),U}for(W=r(C,W);H<T.length;H++)ye=R(W,C,H,T[H],D),ye!==null&&(t&&ye.alternate!==null&&W.delete(ye.key===null?H:ye.key),E=l(ye,E,H),$===null?U=ye:$.sibling=ye,$=ye);return t&&W.forEach(function(wt){return e(C,wt)}),Me&&Ii(C,H),U}function P(C,E,T,D){var U=zo(T);if(typeof U!="function")throw Error(b(150));if(T=U.call(T),T==null)throw Error(b(151));for(var $=U=null,W=E,H=E=0,ye=null,ie=T.next();W!==null&&!ie.done;H++,ie=T.next()){W.index>H?(ye=W,W=null):ye=W.sibling;var wt=y(C,W,ie.value,D);if(wt===null){W===null&&(W=ye);break}t&&W&&wt.alternate===null&&e(C,W),E=l(wt,E,H),$===null?U=wt:$.sibling=wt,$=wt,W=ye}if(ie.done)return n(C,W),Me&&Ii(C,H),U;if(W===null){for(;!ie.done;H++,ie=T.next())ie=m(C,ie.value,D),ie!==null&&(E=l(ie,E,H),$===null?U=ie:$.sibling=ie,$=ie);return Me&&Ii(C,H),U}for(W=r(C,W);!ie.done;H++,ie=T.next())ie=R(W,C,H,ie.value,D),ie!==null&&(t&&ie.alternate!==null&&W.delete(ie.key===null?H:ie.key),E=l(ie,E,H),$===null?U=ie:$.sibling=ie,$=ie);return t&&W.forEach(function(hi){return e(C,hi)}),Me&&Ii(C,H),U}function j(C,E,T,D){if(typeof T=="object"&&T!==null&&T.type===vs&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case lu:e:{for(var U=T.key,$=E;$!==null;){if($.key===U){if(U=T.type,U===vs){if($.tag===7){n(C,$.sibling),E=s($,T.props.children),E.return=C,C=E;break e}}else if($.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Dr&&$y(U)===$.type){n(C,$.sibling),E=s($,T.props),E.ref=Go(C,$,T),E.return=C,C=E;break e}n(C,$);break}else e(C,$);$=$.sibling}T.type===vs?(E=Di(T.props.children,C.mode,D,T.key),E.return=C,C=E):(D=Fu(T.type,T.key,T.props,null,C.mode,D),D.ref=Go(C,E,T),D.return=C,C=D)}return a(C);case ms:e:{for($=T.key;E!==null;){if(E.key===$)if(E.tag===4&&E.stateNode.containerInfo===T.containerInfo&&E.stateNode.implementation===T.implementation){n(C,E.sibling),E=s(E,T.children||[]),E.return=C,C=E;break e}else{n(C,E);break}else e(C,E);E=E.sibling}E=oh(T,C.mode,D),E.return=C,C=E}return a(C);case Dr:return $=T._init,j(C,E,$(T._payload),D)}if(el(T))return N(C,E,T,D);if(zo(T))return P(C,E,T,D);vu(C,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,E!==null&&E.tag===6?(n(C,E.sibling),E=s(E,T),E.return=C,C=E):(n(C,E),E=sh(T,C.mode,D),E.return=C,C=E),a(C)):n(C,E)}return j}var Gs=PE(!0),OE=PE(!1),ea={},Vn=ci(ea),Ol=ci(ea),Ll=ci(ea);function Ai(t){if(t===ea)throw Error(b(174));return t}function fg(t,e){switch(xe(Ll,e),xe(Ol,t),xe(Vn,ea),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Lh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Lh(e,t)}Le(Vn),xe(Vn,e)}function js(){Le(Vn),Le(Ol),Le(Ll)}function LE(t){Ai(Ll.current);var e=Ai(Vn.current),n=Lh(e,t.type);e!==n&&(xe(Ol,t),xe(Vn,n))}function dg(t){Ol.current===t&&(Le(Vn),Le(Ol))}var Fe=ci(0);function ic(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Zd=[];function hg(){for(var t=0;t<Zd.length;t++)Zd[t]._workInProgressVersionPrimary=null;Zd.length=0}var Ou=Er.ReactCurrentDispatcher,eh=Er.ReactCurrentBatchConfig,Wi=0,Ue=null,Qe=null,nt=null,sc=!1,fl=!1,Dl=0,IL=0;function pt(){throw Error(b(321))}function pg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Dn(t[n],e[n]))return!1;return!0}function gg(t,e,n,r,s,l){if(Wi=l,Ue=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ou.current=t===null||t.memoizedState===null?NL:xL,t=n(r,s),fl){l=0;do{if(fl=!1,Dl=0,25<=l)throw Error(b(301));l+=1,nt=Qe=null,e.updateQueue=null,Ou.current=AL,t=n(r,s)}while(fl)}if(Ou.current=oc,e=Qe!==null&&Qe.next!==null,Wi=0,nt=Qe=Ue=null,sc=!1,e)throw Error(b(300));return t}function _g(){var t=Dl!==0;return Dl=0,t}function Bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?Ue.memoizedState=nt=t:nt=nt.next=t,nt}function _n(){if(Qe===null){var t=Ue.alternate;t=t!==null?t.memoizedState:null}else t=Qe.next;var e=nt===null?Ue.memoizedState:nt.next;if(e!==null)nt=e,Qe=t;else{if(t===null)throw Error(b(310));Qe=t,t={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},nt===null?Ue.memoizedState=nt=t:nt=nt.next=t}return nt}function Ml(t,e){return typeof e=="function"?e(t):e}function th(t){var e=_n(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var r=Qe,s=r.baseQueue,l=n.pending;if(l!==null){if(s!==null){var a=s.next;s.next=l.next,l.next=a}r.baseQueue=s=l,n.pending=null}if(s!==null){l=s.next,r=r.baseState;var c=a=null,d=null,h=l;do{var v=h.lane;if((Wi&v)===v)d!==null&&(d=d.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var m={lane:v,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};d===null?(c=d=m,a=r):d=d.next=m,Ue.lanes|=v,zi|=v}h=h.next}while(h!==null&&h!==l);d===null?a=r:d.next=c,Dn(r,e.memoizedState)||(Mt=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=d,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do l=s.lane,Ue.lanes|=l,zi|=l,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function nh(t){var e=_n(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,l=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do l=t(l,a.action),a=a.next;while(a!==s);Dn(l,e.memoizedState)||(Mt=!0),e.memoizedState=l,e.baseQueue===null&&(e.baseState=l),n.lastRenderedState=l}return[l,r]}function DE(){}function ME(t,e){var n=Ue,r=_n(),s=e(),l=!Dn(r.memoizedState,s);if(l&&(r.memoizedState=s,Mt=!0),r=r.queue,mg(UE.bind(null,n,r,t),[t]),r.getSnapshot!==e||l||nt!==null&&nt.memoizedState.tag&1){if(n.flags|=2048,bl(9,FE.bind(null,n,r,s,e),void 0,null),st===null)throw Error(b(349));Wi&30||bE(n,e,s)}return s}function bE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function FE(t,e,n,r){e.value=n,e.getSnapshot=r,WE(e)&&zE(t)}function UE(t,e,n){return n(function(){WE(e)&&zE(t)})}function WE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Dn(t,n)}catch{return!0}}function zE(t){var e=mr(t,1);e!==null&&On(e,t,1,-1)}function Vy(t){var e=Bn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ml,lastRenderedState:t},e.queue=t,t=t.dispatch=RL.bind(null,Ue,t),[e.memoizedState,t]}function bl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function BE(){return _n().memoizedState}function Lu(t,e,n,r){var s=Bn();Ue.flags|=t,s.memoizedState=bl(1|e,n,void 0,r===void 0?null:r)}function Hc(t,e,n,r){var s=_n();r=r===void 0?null:r;var l=void 0;if(Qe!==null){var a=Qe.memoizedState;if(l=a.destroy,r!==null&&pg(r,a.deps)){s.memoizedState=bl(e,n,l,r);return}}Ue.flags|=t,s.memoizedState=bl(1|e,n,l,r)}function Gy(t,e){return Lu(8390656,8,t,e)}function mg(t,e){return Hc(2048,8,t,e)}function HE(t,e){return Hc(4,2,t,e)}function $E(t,e){return Hc(4,4,t,e)}function VE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function GE(t,e,n){return n=n!=null?n.concat([t]):null,Hc(4,4,VE.bind(null,e,t),n)}function vg(){}function jE(t,e){var n=_n();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function KE(t,e){var n=_n();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function YE(t,e,n){return Wi&21?(Dn(n,e)||(n=Xw(),Ue.lanes|=n,zi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Mt=!0),t.memoizedState=n)}function TL(t,e){var n=Ce;Ce=n!==0&&4>n?n:4,t(!0);var r=eh.transition;eh.transition={};try{t(!1),e()}finally{Ce=n,eh.transition=r}}function qE(){return _n().memoizedState}function kL(t,e,n){var r=Qr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},QE(t))XE(e,n);else if(n=RE(t,e,n,r),n!==null){var s=Rt();On(n,t,r,s),JE(n,e,r)}}function RL(t,e,n){var r=Qr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(QE(t))XE(e,s);else{var l=t.alternate;if(t.lanes===0&&(l===null||l.lanes===0)&&(l=e.lastRenderedReducer,l!==null))try{var a=e.lastRenderedState,c=l(a,n);if(s.hasEagerState=!0,s.eagerState=c,Dn(c,a)){var d=e.interleaved;d===null?(s.next=s,ug(e)):(s.next=d.next,d.next=s),e.interleaved=s;return}}catch{}finally{}n=RE(t,e,s,r),n!==null&&(s=Rt(),On(n,t,r,s),JE(n,e,r))}}function QE(t){var e=t.alternate;return t===Ue||e!==null&&e===Ue}function XE(t,e){fl=sc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function JE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qp(t,n)}}var oc={readContext:gn,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},NL={readContext:gn,useCallback:function(t,e){return Bn().memoizedState=[t,e===void 0?null:e],t},useContext:gn,useEffect:Gy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Lu(4194308,4,VE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Lu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Lu(4,2,t,e)},useMemo:function(t,e){var n=Bn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Bn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=kL.bind(null,Ue,t),[r.memoizedState,t]},useRef:function(t){var e=Bn();return t={current:t},e.memoizedState=t},useState:Vy,useDebugValue:vg,useDeferredValue:function(t){return Bn().memoizedState=t},useTransition:function(){var t=Vy(!1),e=t[0];return t=TL.bind(null,t[1]),Bn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ue,s=Bn();if(Me){if(n===void 0)throw Error(b(407));n=n()}else{if(n=e(),st===null)throw Error(b(349));Wi&30||bE(r,e,n)}s.memoizedState=n;var l={value:n,getSnapshot:e};return s.queue=l,Gy(UE.bind(null,r,l,t),[t]),r.flags|=2048,bl(9,FE.bind(null,r,l,n,e),void 0,null),n},useId:function(){var t=Bn(),e=st.identifierPrefix;if(Me){var n=ur,r=ar;n=(r&~(1<<32-Pn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Dl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=IL++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},xL={readContext:gn,useCallback:jE,useContext:gn,useEffect:mg,useImperativeHandle:GE,useInsertionEffect:HE,useLayoutEffect:$E,useMemo:KE,useReducer:th,useRef:BE,useState:function(){return th(Ml)},useDebugValue:vg,useDeferredValue:function(t){var e=_n();return YE(e,Qe.memoizedState,t)},useTransition:function(){var t=th(Ml)[0],e=_n().memoizedState;return[t,e]},useMutableSource:DE,useSyncExternalStore:ME,useId:qE,unstable_isNewReconciler:!1},AL={readContext:gn,useCallback:jE,useContext:gn,useEffect:mg,useImperativeHandle:GE,useInsertionEffect:HE,useLayoutEffect:$E,useMemo:KE,useReducer:nh,useRef:BE,useState:function(){return nh(Ml)},useDebugValue:vg,useDeferredValue:function(t){var e=_n();return Qe===null?e.memoizedState=t:YE(e,Qe.memoizedState,t)},useTransition:function(){var t=nh(Ml)[0],e=_n().memoizedState;return[t,e]},useMutableSource:DE,useSyncExternalStore:ME,useId:qE,unstable_isNewReconciler:!1};function Ks(t,e){try{var n="",r=e;do n+=iO(r),r=r.return;while(r);var s=n}catch(l){s=`
Error generating stack: `+l.message+`
`+l.stack}return{value:t,source:e,stack:s,digest:null}}function rh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function np(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var PL=typeof WeakMap=="function"?WeakMap:Map;function ZE(t,e,n){n=hr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ac||(ac=!0,dp=r),np(t,e)},n}function e1(t,e,n){n=hr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){np(t,e)}}var l=t.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){np(t,e),typeof r!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function jy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new PL;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=GL.bind(null,t,e,n),e.then(t,t))}function Ky(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Yy(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=hr(-1,1),e.tag=2,Yr(n,e,1))),n.lanes|=1),t)}var OL=Er.ReactCurrentOwner,Mt=!1;function It(t,e,n,r){e.child=t===null?OE(e,null,n,r):Gs(e,t.child,n,r)}function qy(t,e,n,r,s){n=n.render;var l=e.ref;return Ms(e,s),r=gg(t,e,n,r,l,s),n=_g(),t!==null&&!Mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,vr(t,e,s)):(Me&&n&&rg(e),e.flags|=1,It(t,e,r,s),e.child)}function Qy(t,e,n,r,s){if(t===null){var l=n.type;return typeof l=="function"&&!kg(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=l,t1(t,e,l,r,s)):(t=Fu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(l=t.child,!(t.lanes&s)){var a=l.memoizedProps;if(n=n.compare,n=n!==null?n:Nl,n(a,r)&&t.ref===e.ref)return vr(t,e,s)}return e.flags|=1,t=Xr(l,r),t.ref=e.ref,t.return=e,e.child=t}function t1(t,e,n,r,s){if(t!==null){var l=t.memoizedProps;if(Nl(l,r)&&t.ref===e.ref)if(Mt=!1,e.pendingProps=r=l,(t.lanes&s)!==0)t.flags&131072&&(Mt=!0);else return e.lanes=t.lanes,vr(t,e,s)}return rp(t,e,n,r,s)}function n1(t,e,n){var r=e.pendingProps,s=r.children,l=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(Ns,Yt),Yt|=n;else{if(!(n&1073741824))return t=l!==null?l.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,xe(Ns,Yt),Yt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,xe(Ns,Yt),Yt|=r}else l!==null?(r=l.baseLanes|n,e.memoizedState=null):r=n,xe(Ns,Yt),Yt|=r;return It(t,e,s,n),e.child}function r1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function rp(t,e,n,r,s){var l=Ut(n)?Fi:vt.current;return l=$s(e,l),Ms(e,s),n=gg(t,e,n,r,l,s),r=_g(),t!==null&&!Mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,vr(t,e,s)):(Me&&r&&rg(e),e.flags|=1,It(t,e,n,s),e.child)}function Xy(t,e,n,r,s){if(Ut(n)){var l=!0;Ju(e)}else l=!1;if(Ms(e,s),e.stateNode===null)Du(t,e),AE(e,n,r),tp(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,c=e.memoizedProps;a.props=c;var d=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=gn(h):(h=Ut(n)?Fi:vt.current,h=$s(e,h));var v=n.getDerivedStateFromProps,m=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==r||d!==h)&&Hy(e,a,r,h),Mr=!1;var y=e.memoizedState;a.state=y,rc(e,r,a,s),d=e.memoizedState,c!==r||y!==d||Ft.current||Mr?(typeof v=="function"&&(ep(e,n,v,r),d=e.memoizedState),(c=Mr||By(e,n,c,r,y,d,h))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=d),a.props=r,a.state=d,a.context=h,r=c):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,NE(t,e),c=e.memoizedProps,h=e.type===e.elementType?c:Tn(e.type,c),a.props=h,m=e.pendingProps,y=a.context,d=n.contextType,typeof d=="object"&&d!==null?d=gn(d):(d=Ut(n)?Fi:vt.current,d=$s(e,d));var R=n.getDerivedStateFromProps;(v=typeof R=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==m||y!==d)&&Hy(e,a,r,d),Mr=!1,y=e.memoizedState,a.state=y,rc(e,r,a,s);var N=e.memoizedState;c!==m||y!==N||Ft.current||Mr?(typeof R=="function"&&(ep(e,n,R,r),N=e.memoizedState),(h=Mr||By(e,n,h,r,y,N,d)||!1)?(v||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,N,d),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,N,d)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=N),a.props=r,a.state=N,a.context=d,r=h):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return ip(t,e,n,r,l,s)}function ip(t,e,n,r,s,l){r1(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&by(e,n,!1),vr(t,e,l);r=e.stateNode,OL.current=e;var c=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Gs(e,t.child,null,l),e.child=Gs(e,null,c,l)):It(t,e,c,l),e.memoizedState=r.state,s&&by(e,n,!0),e.child}function i1(t){var e=t.stateNode;e.pendingContext?My(t,e.pendingContext,e.pendingContext!==e.context):e.context&&My(t,e.context,!1),fg(t,e.containerInfo)}function Jy(t,e,n,r,s){return Vs(),sg(s),e.flags|=256,It(t,e,n,r),e.child}var sp={dehydrated:null,treeContext:null,retryLane:0};function op(t){return{baseLanes:t,cachePool:null,transitions:null}}function s1(t,e,n){var r=e.pendingProps,s=Fe.current,l=!1,a=(e.flags&128)!==0,c;if((c=a)||(c=t!==null&&t.memoizedState===null?!1:(s&2)!==0),c?(l=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),xe(Fe,s&1),t===null)return Jh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,l?(r=e.mode,l=e.child,a={mode:"hidden",children:a},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=a):l=Gc(a,r,0,null),t=Di(t,r,n,null),l.return=e,t.return=e,l.sibling=t,e.child=l,e.child.memoizedState=op(n),e.memoizedState=sp,t):yg(e,a));if(s=t.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return LL(t,e,a,r,c,s,n);if(l){l=r.fallback,a=e.mode,s=t.child,c=s.sibling;var d={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=d,e.deletions=null):(r=Xr(s,d),r.subtreeFlags=s.subtreeFlags&14680064),c!==null?l=Xr(c,l):(l=Di(l,a,n,null),l.flags|=2),l.return=e,r.return=e,r.sibling=l,e.child=r,r=l,l=e.child,a=t.child.memoizedState,a=a===null?op(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},l.memoizedState=a,l.childLanes=t.childLanes&~n,e.memoizedState=sp,r}return l=t.child,t=l.sibling,r=Xr(l,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function yg(t,e){return e=Gc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yu(t,e,n,r){return r!==null&&sg(r),Gs(e,t.child,null,n),t=yg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function LL(t,e,n,r,s,l,a){if(n)return e.flags&256?(e.flags&=-257,r=rh(Error(b(422))),yu(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(l=r.fallback,s=e.mode,r=Gc({mode:"visible",children:r.children},s,0,null),l=Di(l,s,a,null),l.flags|=2,r.return=e,l.return=e,r.sibling=l,e.child=r,e.mode&1&&Gs(e,t.child,null,a),e.child.memoizedState=op(a),e.memoizedState=sp,l);if(!(e.mode&1))return yu(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var c=r.dgst;return r=c,l=Error(b(419)),r=rh(l,r,void 0),yu(t,e,a,r)}if(c=(a&t.childLanes)!==0,Mt||c){if(r=st,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,mr(t,s),On(r,t,s,-1))}return Tg(),r=rh(Error(b(421))),yu(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=jL.bind(null,t),s._reactRetry=e,null):(t=l.treeContext,Qt=Kr(s.nextSibling),Xt=e,Me=!0,Rn=null,t!==null&&(fn[dn++]=ar,fn[dn++]=ur,fn[dn++]=Ui,ar=t.id,ur=t.overflow,Ui=e),e=yg(e,r.children),e.flags|=4096,e)}function Zy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Zh(t.return,e,n)}function ih(t,e,n,r,s){var l=t.memoizedState;l===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(l.isBackwards=e,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=s)}function o1(t,e,n){var r=e.pendingProps,s=r.revealOrder,l=r.tail;if(It(t,e,r.children,n),r=Fe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Zy(t,n,e);else if(t.tag===19)Zy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(xe(Fe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ic(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),ih(e,!1,s,n,l);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ic(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}ih(e,!0,n,null,l);break;case"together":ih(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Du(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),zi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(b(153));if(e.child!==null){for(t=e.child,n=Xr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Xr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function DL(t,e,n){switch(e.tag){case 3:i1(e),Vs();break;case 5:LE(e);break;case 1:Ut(e.type)&&Ju(e);break;case 4:fg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;xe(tc,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(xe(Fe,Fe.current&1),e.flags|=128,null):n&e.child.childLanes?s1(t,e,n):(xe(Fe,Fe.current&1),t=vr(t,e,n),t!==null?t.sibling:null);xe(Fe,Fe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return o1(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),xe(Fe,Fe.current),r)break;return null;case 22:case 23:return e.lanes=0,n1(t,e,n)}return vr(t,e,n)}var l1,lp,a1,u1;l1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};lp=function(){};a1=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ai(Vn.current);var l=null;switch(n){case"input":s=xh(t,s),r=xh(t,r),l=[];break;case"select":s=We({},s,{value:void 0}),r=We({},r,{value:void 0}),l=[];break;case"textarea":s=Oh(t,s),r=Oh(t,r),l=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Qu)}Dh(n,r);var a;n=null;for(h in s)if(!r.hasOwnProperty(h)&&s.hasOwnProperty(h)&&s[h]!=null)if(h==="style"){var c=s[h];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(El.hasOwnProperty(h)?l||(l=[]):(l=l||[]).push(h,null));for(h in r){var d=r[h];if(c=s!=null?s[h]:void 0,r.hasOwnProperty(h)&&d!==c&&(d!=null||c!=null))if(h==="style")if(c){for(a in c)!c.hasOwnProperty(a)||d&&d.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in d)d.hasOwnProperty(a)&&c[a]!==d[a]&&(n||(n={}),n[a]=d[a])}else n||(l||(l=[]),l.push(h,n)),n=d;else h==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,c=c?c.__html:void 0,d!=null&&c!==d&&(l=l||[]).push(h,d)):h==="children"?typeof d!="string"&&typeof d!="number"||(l=l||[]).push(h,""+d):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(El.hasOwnProperty(h)?(d!=null&&h==="onScroll"&&Pe("scroll",t),l||c===d||(l=[])):(l=l||[]).push(h,d))}n&&(l=l||[]).push("style",n);var h=l;(e.updateQueue=h)&&(e.flags|=4)}};u1=function(t,e,n,r){n!==r&&(e.flags|=4)};function jo(t,e){if(!Me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function gt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ML(t,e,n){var r=e.pendingProps;switch(ig(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(e),null;case 1:return Ut(e.type)&&Xu(),gt(e),null;case 3:return r=e.stateNode,js(),Le(Ft),Le(vt),hg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(mu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Rn!==null&&(gp(Rn),Rn=null))),lp(t,e),gt(e),null;case 5:dg(e);var s=Ai(Ll.current);if(n=e.type,t!==null&&e.stateNode!=null)a1(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(b(166));return gt(e),null}if(t=Ai(Vn.current),mu(e)){r=e.stateNode,n=e.type;var l=e.memoizedProps;switch(r[Hn]=e,r[Pl]=l,t=(e.mode&1)!==0,n){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(s=0;s<nl.length;s++)Pe(nl[s],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":ay(r,l),Pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},Pe("invalid",r);break;case"textarea":cy(r,l),Pe("invalid",r)}Dh(n,l),s=null;for(var a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="children"?typeof c=="string"?r.textContent!==c&&(l.suppressHydrationWarning!==!0&&_u(r.textContent,c,t),s=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(l.suppressHydrationWarning!==!0&&_u(r.textContent,c,t),s=["children",""+c]):El.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&Pe("scroll",r)}switch(n){case"input":au(r),uy(r,l,!0);break;case"textarea":au(r),fy(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=Qu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=bw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Hn]=e,t[Pl]=r,l1(t,e,!1,!1),e.stateNode=t;e:{switch(a=Mh(n,r),n){case"dialog":Pe("cancel",t),Pe("close",t),s=r;break;case"iframe":case"object":case"embed":Pe("load",t),s=r;break;case"video":case"audio":for(s=0;s<nl.length;s++)Pe(nl[s],t);s=r;break;case"source":Pe("error",t),s=r;break;case"img":case"image":case"link":Pe("error",t),Pe("load",t),s=r;break;case"details":Pe("toggle",t),s=r;break;case"input":ay(t,r),s=xh(t,r),Pe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=We({},r,{value:void 0}),Pe("invalid",t);break;case"textarea":cy(t,r),s=Oh(t,r),Pe("invalid",t);break;default:s=r}Dh(n,s),c=s;for(l in c)if(c.hasOwnProperty(l)){var d=c[l];l==="style"?Ww(t,d):l==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Fw(t,d)):l==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&Sl(t,d):typeof d=="number"&&Sl(t,""+d):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(El.hasOwnProperty(l)?d!=null&&l==="onScroll"&&Pe("scroll",t):d!=null&&$p(t,l,d,a))}switch(n){case"input":au(t),uy(t,r,!1);break;case"textarea":au(t),fy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ii(r.value));break;case"select":t.multiple=!!r.multiple,l=r.value,l!=null?Ps(t,!!r.multiple,l,!1):r.defaultValue!=null&&Ps(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Qu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return gt(e),null;case 6:if(t&&e.stateNode!=null)u1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(b(166));if(n=Ai(Ll.current),Ai(Vn.current),mu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Hn]=e,(l=r.nodeValue!==n)&&(t=Xt,t!==null))switch(t.tag){case 3:_u(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&_u(r.nodeValue,n,(t.mode&1)!==0)}l&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Hn]=e,e.stateNode=r}return gt(e),null;case 13:if(Le(Fe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Me&&Qt!==null&&e.mode&1&&!(e.flags&128))kE(),Vs(),e.flags|=98560,l=!1;else if(l=mu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!l)throw Error(b(318));if(l=e.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(b(317));l[Hn]=e}else Vs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;gt(e),l=!1}else Rn!==null&&(gp(Rn),Rn=null),l=!0;if(!l)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Fe.current&1?Ze===0&&(Ze=3):Tg())),e.updateQueue!==null&&(e.flags|=4),gt(e),null);case 4:return js(),lp(t,e),t===null&&xl(e.stateNode.containerInfo),gt(e),null;case 10:return ag(e.type._context),gt(e),null;case 17:return Ut(e.type)&&Xu(),gt(e),null;case 19:if(Le(Fe),l=e.memoizedState,l===null)return gt(e),null;if(r=(e.flags&128)!==0,a=l.rendering,a===null)if(r)jo(l,!1);else{if(Ze!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=ic(t),a!==null){for(e.flags|=128,jo(l,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)l=n,t=r,l.flags&=14680066,a=l.alternate,a===null?(l.childLanes=0,l.lanes=t,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,l.type=a.type,t=a.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return xe(Fe,Fe.current&1|2),e.child}t=t.sibling}l.tail!==null&&Ge()>Ys&&(e.flags|=128,r=!0,jo(l,!1),e.lanes=4194304)}else{if(!r)if(t=ic(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),jo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!a.alternate&&!Me)return gt(e),null}else 2*Ge()-l.renderingStartTime>Ys&&n!==1073741824&&(e.flags|=128,r=!0,jo(l,!1),e.lanes=4194304);l.isBackwards?(a.sibling=e.child,e.child=a):(n=l.last,n!==null?n.sibling=a:e.child=a,l.last=a)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Ge(),e.sibling=null,n=Fe.current,xe(Fe,r?n&1|2:n&1),e):(gt(e),null);case 22:case 23:return Ig(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Yt&1073741824&&(gt(e),e.subtreeFlags&6&&(e.flags|=8192)):gt(e),null;case 24:return null;case 25:return null}throw Error(b(156,e.tag))}function bL(t,e){switch(ig(e),e.tag){case 1:return Ut(e.type)&&Xu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return js(),Le(Ft),Le(vt),hg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return dg(e),null;case 13:if(Le(Fe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(b(340));Vs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Le(Fe),null;case 4:return js(),null;case 10:return ag(e.type._context),null;case 22:case 23:return Ig(),null;case 24:return null;default:return null}}var wu=!1,_t=!1,FL=typeof WeakSet=="function"?WeakSet:Set,G=null;function Rs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Be(t,e,r)}else n.current=null}function ap(t,e,n){try{n()}catch(r){Be(t,e,r)}}var e0=!1;function UL(t,e){if(Gh=Ku,t=hE(),ng(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var a=0,c=-1,d=-1,h=0,v=0,m=t,y=null;t:for(;;){for(var R;m!==n||s!==0&&m.nodeType!==3||(c=a+s),m!==l||r!==0&&m.nodeType!==3||(d=a+r),m.nodeType===3&&(a+=m.nodeValue.length),(R=m.firstChild)!==null;)y=m,m=R;for(;;){if(m===t)break t;if(y===n&&++h===s&&(c=a),y===l&&++v===r&&(d=a),(R=m.nextSibling)!==null)break;m=y,y=m.parentNode}m=R}n=c===-1||d===-1?null:{start:c,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(jh={focusedElem:t,selectionRange:n},Ku=!1,G=e;G!==null;)if(e=G,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,G=t;else for(;G!==null;){e=G;try{var N=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var P=N.memoizedProps,j=N.memoizedState,C=e.stateNode,E=C.getSnapshotBeforeUpdate(e.elementType===e.type?P:Tn(e.type,P),j);C.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(D){Be(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,G=t;break}G=e.return}return N=e0,e0=!1,N}function dl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var l=s.destroy;s.destroy=void 0,l!==void 0&&ap(e,n,l)}s=s.next}while(s!==r)}}function $c(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function up(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function c1(t){var e=t.alternate;e!==null&&(t.alternate=null,c1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Hn],delete e[Pl],delete e[qh],delete e[wL],delete e[EL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function f1(t){return t.tag===5||t.tag===3||t.tag===4}function t0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||f1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Qu));else if(r!==4&&(t=t.child,t!==null))for(cp(t,e,n),t=t.sibling;t!==null;)cp(t,e,n),t=t.sibling}function fp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(fp(t,e,n),t=t.sibling;t!==null;)fp(t,e,n),t=t.sibling}var at=null,kn=!1;function Or(t,e,n){for(n=n.child;n!==null;)d1(t,e,n),n=n.sibling}function d1(t,e,n){if($n&&typeof $n.onCommitFiberUnmount=="function")try{$n.onCommitFiberUnmount(Mc,n)}catch{}switch(n.tag){case 5:_t||Rs(n,e);case 6:var r=at,s=kn;at=null,Or(t,e,n),at=r,kn=s,at!==null&&(kn?(t=at,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):at.removeChild(n.stateNode));break;case 18:at!==null&&(kn?(t=at,n=n.stateNode,t.nodeType===8?Xd(t.parentNode,n):t.nodeType===1&&Xd(t,n),kl(t)):Xd(at,n.stateNode));break;case 4:r=at,s=kn,at=n.stateNode.containerInfo,kn=!0,Or(t,e,n),at=r,kn=s;break;case 0:case 11:case 14:case 15:if(!_t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var l=s,a=l.destroy;l=l.tag,a!==void 0&&(l&2||l&4)&&ap(n,e,a),s=s.next}while(s!==r)}Or(t,e,n);break;case 1:if(!_t&&(Rs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Be(n,e,c)}Or(t,e,n);break;case 21:Or(t,e,n);break;case 22:n.mode&1?(_t=(r=_t)||n.memoizedState!==null,Or(t,e,n),_t=r):Or(t,e,n);break;default:Or(t,e,n)}}function n0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new FL),e.forEach(function(r){var s=KL.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function In(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var l=t,a=e,c=a;e:for(;c!==null;){switch(c.tag){case 5:at=c.stateNode,kn=!1;break e;case 3:at=c.stateNode.containerInfo,kn=!0;break e;case 4:at=c.stateNode.containerInfo,kn=!0;break e}c=c.return}if(at===null)throw Error(b(160));d1(l,a,s),at=null,kn=!1;var d=s.alternate;d!==null&&(d.return=null),s.return=null}catch(h){Be(s,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)h1(e,t),e=e.sibling}function h1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(In(e,t),zn(t),r&4){try{dl(3,t,t.return),$c(3,t)}catch(P){Be(t,t.return,P)}try{dl(5,t,t.return)}catch(P){Be(t,t.return,P)}}break;case 1:In(e,t),zn(t),r&512&&n!==null&&Rs(n,n.return);break;case 5:if(In(e,t),zn(t),r&512&&n!==null&&Rs(n,n.return),t.flags&32){var s=t.stateNode;try{Sl(s,"")}catch(P){Be(t,t.return,P)}}if(r&4&&(s=t.stateNode,s!=null)){var l=t.memoizedProps,a=n!==null?n.memoizedProps:l,c=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{c==="input"&&l.type==="radio"&&l.name!=null&&Dw(s,l),Mh(c,a);var h=Mh(c,l);for(a=0;a<d.length;a+=2){var v=d[a],m=d[a+1];v==="style"?Ww(s,m):v==="dangerouslySetInnerHTML"?Fw(s,m):v==="children"?Sl(s,m):$p(s,v,m,h)}switch(c){case"input":Ah(s,l);break;case"textarea":Mw(s,l);break;case"select":var y=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var R=l.value;R!=null?Ps(s,!!l.multiple,R,!1):y!==!!l.multiple&&(l.defaultValue!=null?Ps(s,!!l.multiple,l.defaultValue,!0):Ps(s,!!l.multiple,l.multiple?[]:"",!1))}s[Pl]=l}catch(P){Be(t,t.return,P)}}break;case 6:if(In(e,t),zn(t),r&4){if(t.stateNode===null)throw Error(b(162));s=t.stateNode,l=t.memoizedProps;try{s.nodeValue=l}catch(P){Be(t,t.return,P)}}break;case 3:if(In(e,t),zn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{kl(e.containerInfo)}catch(P){Be(t,t.return,P)}break;case 4:In(e,t),zn(t);break;case 13:In(e,t),zn(t),s=t.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||(Sg=Ge())),r&4&&n0(t);break;case 22:if(v=n!==null&&n.memoizedState!==null,t.mode&1?(_t=(h=_t)||v,In(e,t),_t=h):In(e,t),zn(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!v&&t.mode&1)for(G=t,v=t.child;v!==null;){for(m=G=v;G!==null;){switch(y=G,R=y.child,y.tag){case 0:case 11:case 14:case 15:dl(4,y,y.return);break;case 1:Rs(y,y.return);var N=y.stateNode;if(typeof N.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,N.props=e.memoizedProps,N.state=e.memoizedState,N.componentWillUnmount()}catch(P){Be(r,n,P)}}break;case 5:Rs(y,y.return);break;case 22:if(y.memoizedState!==null){i0(m);continue}}R!==null?(R.return=y,G=R):i0(m)}v=v.sibling}e:for(v=null,m=t;;){if(m.tag===5){if(v===null){v=m;try{s=m.stateNode,h?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(c=m.stateNode,d=m.memoizedProps.style,a=d!=null&&d.hasOwnProperty("display")?d.display:null,c.style.display=Uw("display",a))}catch(P){Be(t,t.return,P)}}}else if(m.tag===6){if(v===null)try{m.stateNode.nodeValue=h?"":m.memoizedProps}catch(P){Be(t,t.return,P)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;v===m&&(v=null),m=m.return}v===m&&(v=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:In(e,t),zn(t),r&4&&n0(t);break;case 21:break;default:In(e,t),zn(t)}}function zn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(f1(n)){var r=n;break e}n=n.return}throw Error(b(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Sl(s,""),r.flags&=-33);var l=t0(t);fp(t,l,s);break;case 3:case 4:var a=r.stateNode.containerInfo,c=t0(t);cp(t,c,a);break;default:throw Error(b(161))}}catch(d){Be(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function WL(t,e,n){G=t,p1(t)}function p1(t,e,n){for(var r=(t.mode&1)!==0;G!==null;){var s=G,l=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||wu;if(!a){var c=s.alternate,d=c!==null&&c.memoizedState!==null||_t;c=wu;var h=_t;if(wu=a,(_t=d)&&!h)for(G=s;G!==null;)a=G,d=a.child,a.tag===22&&a.memoizedState!==null?s0(s):d!==null?(d.return=a,G=d):s0(s);for(;l!==null;)G=l,p1(l),l=l.sibling;G=s,wu=c,_t=h}r0(t)}else s.subtreeFlags&8772&&l!==null?(l.return=s,G=l):r0(t)}}function r0(t){for(;G!==null;){var e=G;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:_t||$c(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!_t)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Tn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=e.updateQueue;l!==null&&zy(e,l,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}zy(e,a,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var v=h.memoizedState;if(v!==null){var m=v.dehydrated;m!==null&&kl(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}_t||e.flags&512&&up(e)}catch(y){Be(e,e.return,y)}}if(e===t){G=null;break}if(n=e.sibling,n!==null){n.return=e.return,G=n;break}G=e.return}}function i0(t){for(;G!==null;){var e=G;if(e===t){G=null;break}var n=e.sibling;if(n!==null){n.return=e.return,G=n;break}G=e.return}}function s0(t){for(;G!==null;){var e=G;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{$c(4,e)}catch(d){Be(e,n,d)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(d){Be(e,s,d)}}var l=e.return;try{up(e)}catch(d){Be(e,l,d)}break;case 5:var a=e.return;try{up(e)}catch(d){Be(e,a,d)}}}catch(d){Be(e,e.return,d)}if(e===t){G=null;break}var c=e.sibling;if(c!==null){c.return=e.return,G=c;break}G=e.return}}var zL=Math.ceil,lc=Er.ReactCurrentDispatcher,wg=Er.ReactCurrentOwner,pn=Er.ReactCurrentBatchConfig,ge=0,st=null,Ke=null,ut=0,Yt=0,Ns=ci(0),Ze=0,Fl=null,zi=0,Vc=0,Eg=0,hl=null,Dt=null,Sg=0,Ys=1/0,or=null,ac=!1,dp=null,qr=null,Eu=!1,$r=null,uc=0,pl=0,hp=null,Mu=-1,bu=0;function Rt(){return ge&6?Ge():Mu!==-1?Mu:Mu=Ge()}function Qr(t){return t.mode&1?ge&2&&ut!==0?ut&-ut:CL.transition!==null?(bu===0&&(bu=Xw()),bu):(t=Ce,t!==0||(t=window.event,t=t===void 0?16:iE(t.type)),t):1}function On(t,e,n,r){if(50<pl)throw pl=0,hp=null,Error(b(185));Xl(t,n,r),(!(ge&2)||t!==st)&&(t===st&&(!(ge&2)&&(Vc|=n),Ze===4&&Fr(t,ut)),Wt(t,r),n===1&&ge===0&&!(e.mode&1)&&(Ys=Ge()+500,zc&&fi()))}function Wt(t,e){var n=t.callbackNode;CO(t,e);var r=ju(t,t===st?ut:0);if(r===0)n!==null&&py(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&py(n),e===1)t.tag===0?SL(o0.bind(null,t)):CE(o0.bind(null,t)),vL(function(){!(ge&6)&&fi()}),n=null;else{switch(Jw(r)){case 1:n=Yp;break;case 4:n=qw;break;case 16:n=Gu;break;case 536870912:n=Qw;break;default:n=Gu}n=S1(n,g1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function g1(t,e){if(Mu=-1,bu=0,ge&6)throw Error(b(327));var n=t.callbackNode;if(bs()&&t.callbackNode!==n)return null;var r=ju(t,t===st?ut:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=cc(t,r);else{e=r;var s=ge;ge|=2;var l=m1();(st!==t||ut!==e)&&(or=null,Ys=Ge()+500,Li(t,e));do try{$L();break}catch(c){_1(t,c)}while(1);lg(),lc.current=l,ge=s,Ke!==null?e=0:(st=null,ut=0,e=Ze)}if(e!==0){if(e===2&&(s=zh(t),s!==0&&(r=s,e=pp(t,s))),e===1)throw n=Fl,Li(t,0),Fr(t,r),Wt(t,Ge()),n;if(e===6)Fr(t,r);else{if(s=t.current.alternate,!(r&30)&&!BL(s)&&(e=cc(t,r),e===2&&(l=zh(t),l!==0&&(r=l,e=pp(t,l))),e===1))throw n=Fl,Li(t,0),Fr(t,r),Wt(t,Ge()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(b(345));case 2:Ti(t,Dt,or);break;case 3:if(Fr(t,r),(r&130023424)===r&&(e=Sg+500-Ge(),10<e)){if(ju(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Rt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Yh(Ti.bind(null,t,Dt,or),e);break}Ti(t,Dt,or);break;case 4:if(Fr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-Pn(r);l=1<<a,a=e[a],a>s&&(s=a),r&=~l}if(r=s,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zL(r/1960))-r,10<r){t.timeoutHandle=Yh(Ti.bind(null,t,Dt,or),r);break}Ti(t,Dt,or);break;case 5:Ti(t,Dt,or);break;default:throw Error(b(329))}}}return Wt(t,Ge()),t.callbackNode===n?g1.bind(null,t):null}function pp(t,e){var n=hl;return t.current.memoizedState.isDehydrated&&(Li(t,e).flags|=256),t=cc(t,e),t!==2&&(e=Dt,Dt=n,e!==null&&gp(e)),t}function gp(t){Dt===null?Dt=t:Dt.push.apply(Dt,t)}function BL(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],l=s.getSnapshot;s=s.value;try{if(!Dn(l(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fr(t,e){for(e&=~Eg,e&=~Vc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pn(e),r=1<<n;t[n]=-1,e&=~r}}function o0(t){if(ge&6)throw Error(b(327));bs();var e=ju(t,0);if(!(e&1))return Wt(t,Ge()),null;var n=cc(t,e);if(t.tag!==0&&n===2){var r=zh(t);r!==0&&(e=r,n=pp(t,r))}if(n===1)throw n=Fl,Li(t,0),Fr(t,e),Wt(t,Ge()),n;if(n===6)throw Error(b(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ti(t,Dt,or),Wt(t,Ge()),null}function Cg(t,e){var n=ge;ge|=1;try{return t(e)}finally{ge=n,ge===0&&(Ys=Ge()+500,zc&&fi())}}function Bi(t){$r!==null&&$r.tag===0&&!(ge&6)&&bs();var e=ge;ge|=1;var n=pn.transition,r=Ce;try{if(pn.transition=null,Ce=1,t)return t()}finally{Ce=r,pn.transition=n,ge=e,!(ge&6)&&fi()}}function Ig(){Yt=Ns.current,Le(Ns)}function Li(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,mL(n)),Ke!==null)for(n=Ke.return;n!==null;){var r=n;switch(ig(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xu();break;case 3:js(),Le(Ft),Le(vt),hg();break;case 5:dg(r);break;case 4:js();break;case 13:Le(Fe);break;case 19:Le(Fe);break;case 10:ag(r.type._context);break;case 22:case 23:Ig()}n=n.return}if(st=t,Ke=t=Xr(t.current,null),ut=Yt=e,Ze=0,Fl=null,Eg=Vc=zi=0,Dt=hl=null,xi!==null){for(e=0;e<xi.length;e++)if(n=xi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,l=n.pending;if(l!==null){var a=l.next;l.next=s,r.next=a}n.pending=r}xi=null}return t}function _1(t,e){do{var n=Ke;try{if(lg(),Ou.current=oc,sc){for(var r=Ue.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}sc=!1}if(Wi=0,nt=Qe=Ue=null,fl=!1,Dl=0,wg.current=null,n===null||n.return===null){Ze=1,Fl=e,Ke=null;break}e:{var l=t,a=n.return,c=n,d=e;if(e=ut,c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var h=d,v=c,m=v.tag;if(!(v.mode&1)&&(m===0||m===11||m===15)){var y=v.alternate;y?(v.updateQueue=y.updateQueue,v.memoizedState=y.memoizedState,v.lanes=y.lanes):(v.updateQueue=null,v.memoizedState=null)}var R=Ky(a);if(R!==null){R.flags&=-257,Yy(R,a,c,l,e),R.mode&1&&jy(l,h,e),e=R,d=h;var N=e.updateQueue;if(N===null){var P=new Set;P.add(d),e.updateQueue=P}else N.add(d);break e}else{if(!(e&1)){jy(l,h,e),Tg();break e}d=Error(b(426))}}else if(Me&&c.mode&1){var j=Ky(a);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Yy(j,a,c,l,e),sg(Ks(d,c));break e}}l=d=Ks(d,c),Ze!==4&&(Ze=2),hl===null?hl=[l]:hl.push(l),l=a;do{switch(l.tag){case 3:l.flags|=65536,e&=-e,l.lanes|=e;var C=ZE(l,d,e);Wy(l,C);break e;case 1:c=d;var E=l.type,T=l.stateNode;if(!(l.flags&128)&&(typeof E.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(qr===null||!qr.has(T)))){l.flags|=65536,e&=-e,l.lanes|=e;var D=e1(l,c,e);Wy(l,D);break e}}l=l.return}while(l!==null)}y1(n)}catch(U){e=U,Ke===n&&n!==null&&(Ke=n=n.return);continue}break}while(1)}function m1(){var t=lc.current;return lc.current=oc,t===null?oc:t}function Tg(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),st===null||!(zi&268435455)&&!(Vc&268435455)||Fr(st,ut)}function cc(t,e){var n=ge;ge|=2;var r=m1();(st!==t||ut!==e)&&(or=null,Li(t,e));do try{HL();break}catch(s){_1(t,s)}while(1);if(lg(),ge=n,lc.current=r,Ke!==null)throw Error(b(261));return st=null,ut=0,Ze}function HL(){for(;Ke!==null;)v1(Ke)}function $L(){for(;Ke!==null&&!pO();)v1(Ke)}function v1(t){var e=E1(t.alternate,t,Yt);t.memoizedProps=t.pendingProps,e===null?y1(t):Ke=e,wg.current=null}function y1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=bL(n,e),n!==null){n.flags&=32767,Ke=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ze=6,Ke=null;return}}else if(n=ML(n,e,Yt),n!==null){Ke=n;return}if(e=e.sibling,e!==null){Ke=e;return}Ke=e=t}while(e!==null);Ze===0&&(Ze=5)}function Ti(t,e,n){var r=Ce,s=pn.transition;try{pn.transition=null,Ce=1,VL(t,e,n,r)}finally{pn.transition=s,Ce=r}return null}function VL(t,e,n,r){do bs();while($r!==null);if(ge&6)throw Error(b(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(b(177));t.callbackNode=null,t.callbackPriority=0;var l=n.lanes|n.childLanes;if(IO(t,l),t===st&&(Ke=st=null,ut=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Eu||(Eu=!0,S1(Gu,function(){return bs(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=pn.transition,pn.transition=null;var a=Ce;Ce=1;var c=ge;ge|=4,wg.current=null,UL(t,n),h1(n,t),cL(jh),Ku=!!Gh,jh=Gh=null,t.current=n,WL(n),gO(),ge=c,Ce=a,pn.transition=l}else t.current=n;if(Eu&&(Eu=!1,$r=t,uc=s),l=t.pendingLanes,l===0&&(qr=null),vO(n.stateNode),Wt(t,Ge()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ac)throw ac=!1,t=dp,dp=null,t;return uc&1&&t.tag!==0&&bs(),l=t.pendingLanes,l&1?t===hp?pl++:(pl=0,hp=t):pl=0,fi(),null}function bs(){if($r!==null){var t=Jw(uc),e=pn.transition,n=Ce;try{if(pn.transition=null,Ce=16>t?16:t,$r===null)var r=!1;else{if(t=$r,$r=null,uc=0,ge&6)throw Error(b(331));var s=ge;for(ge|=4,G=t.current;G!==null;){var l=G,a=l.child;if(G.flags&16){var c=l.deletions;if(c!==null){for(var d=0;d<c.length;d++){var h=c[d];for(G=h;G!==null;){var v=G;switch(v.tag){case 0:case 11:case 15:dl(8,v,l)}var m=v.child;if(m!==null)m.return=v,G=m;else for(;G!==null;){v=G;var y=v.sibling,R=v.return;if(c1(v),v===h){G=null;break}if(y!==null){y.return=R,G=y;break}G=R}}}var N=l.alternate;if(N!==null){var P=N.child;if(P!==null){N.child=null;do{var j=P.sibling;P.sibling=null,P=j}while(P!==null)}}G=l}}if(l.subtreeFlags&2064&&a!==null)a.return=l,G=a;else e:for(;G!==null;){if(l=G,l.flags&2048)switch(l.tag){case 0:case 11:case 15:dl(9,l,l.return)}var C=l.sibling;if(C!==null){C.return=l.return,G=C;break e}G=l.return}}var E=t.current;for(G=E;G!==null;){a=G;var T=a.child;if(a.subtreeFlags&2064&&T!==null)T.return=a,G=T;else e:for(a=E;G!==null;){if(c=G,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:$c(9,c)}}catch(U){Be(c,c.return,U)}if(c===a){G=null;break e}var D=c.sibling;if(D!==null){D.return=c.return,G=D;break e}G=c.return}}if(ge=s,fi(),$n&&typeof $n.onPostCommitFiberRoot=="function")try{$n.onPostCommitFiberRoot(Mc,t)}catch{}r=!0}return r}finally{Ce=n,pn.transition=e}}return!1}function l0(t,e,n){e=Ks(n,e),e=ZE(t,e,1),t=Yr(t,e,1),e=Rt(),t!==null&&(Xl(t,1,e),Wt(t,e))}function Be(t,e,n){if(t.tag===3)l0(t,t,n);else for(;e!==null;){if(e.tag===3){l0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qr===null||!qr.has(r))){t=Ks(n,t),t=e1(e,t,1),e=Yr(e,t,1),t=Rt(),e!==null&&(Xl(e,1,t),Wt(e,t));break}}e=e.return}}function GL(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Rt(),t.pingedLanes|=t.suspendedLanes&n,st===t&&(ut&n)===n&&(Ze===4||Ze===3&&(ut&130023424)===ut&&500>Ge()-Sg?Li(t,0):Eg|=n),Wt(t,e)}function w1(t,e){e===0&&(t.mode&1?(e=fu,fu<<=1,!(fu&130023424)&&(fu=4194304)):e=1);var n=Rt();t=mr(t,e),t!==null&&(Xl(t,e,n),Wt(t,n))}function jL(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),w1(t,n)}function KL(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(b(314))}r!==null&&r.delete(e),w1(t,n)}var E1;E1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ft.current)Mt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Mt=!1,DL(t,e,n);Mt=!!(t.flags&131072)}else Mt=!1,Me&&e.flags&1048576&&IE(e,ec,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Du(t,e),t=e.pendingProps;var s=$s(e,vt.current);Ms(e,n),s=gg(null,e,r,t,s,n);var l=_g();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ut(r)?(l=!0,Ju(e)):l=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,cg(e),s.updater=Bc,e.stateNode=s,s._reactInternals=e,tp(e,r,t,n),e=ip(null,e,r,!0,l,n)):(e.tag=0,Me&&l&&rg(e),It(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Du(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=qL(r),t=Tn(r,t),s){case 0:e=rp(null,e,r,t,n);break e;case 1:e=Xy(null,e,r,t,n);break e;case 11:e=qy(null,e,r,t,n);break e;case 14:e=Qy(null,e,r,Tn(r.type,t),n);break e}throw Error(b(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Tn(r,s),rp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Tn(r,s),Xy(t,e,r,s,n);case 3:e:{if(i1(e),t===null)throw Error(b(387));r=e.pendingProps,l=e.memoizedState,s=l.element,NE(t,e),rc(e,r,null,n);var a=e.memoizedState;if(r=a.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=l,e.memoizedState=l,e.flags&256){s=Ks(Error(b(423)),e),e=Jy(t,e,r,n,s);break e}else if(r!==s){s=Ks(Error(b(424)),e),e=Jy(t,e,r,n,s);break e}else for(Qt=Kr(e.stateNode.containerInfo.firstChild),Xt=e,Me=!0,Rn=null,n=OE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vs(),r===s){e=vr(t,e,n);break e}It(t,e,r,n)}e=e.child}return e;case 5:return LE(e),t===null&&Jh(e),r=e.type,s=e.pendingProps,l=t!==null?t.memoizedProps:null,a=s.children,Kh(r,s)?a=null:l!==null&&Kh(r,l)&&(e.flags|=32),r1(t,e),It(t,e,a,n),e.child;case 6:return t===null&&Jh(e),null;case 13:return s1(t,e,n);case 4:return fg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Gs(e,null,r,n):It(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Tn(r,s),qy(t,e,r,s,n);case 7:return It(t,e,e.pendingProps,n),e.child;case 8:return It(t,e,e.pendingProps.children,n),e.child;case 12:return It(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,l=e.memoizedProps,a=s.value,xe(tc,r._currentValue),r._currentValue=a,l!==null)if(Dn(l.value,a)){if(l.children===s.children&&!Ft.current){e=vr(t,e,n);break e}}else for(l=e.child,l!==null&&(l.return=e);l!==null;){var c=l.dependencies;if(c!==null){a=l.child;for(var d=c.firstContext;d!==null;){if(d.context===r){if(l.tag===1){d=hr(-1,n&-n),d.tag=2;var h=l.updateQueue;if(h!==null){h=h.shared;var v=h.pending;v===null?d.next=d:(d.next=v.next,v.next=d),h.pending=d}}l.lanes|=n,d=l.alternate,d!==null&&(d.lanes|=n),Zh(l.return,n,e),c.lanes|=n;break}d=d.next}}else if(l.tag===10)a=l.type===e.type?null:l.child;else if(l.tag===18){if(a=l.return,a===null)throw Error(b(341));a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Zh(a,n,e),a=l.sibling}else a=l.child;if(a!==null)a.return=l;else for(a=l;a!==null;){if(a===e){a=null;break}if(l=a.sibling,l!==null){l.return=a.return,a=l;break}a=a.return}l=a}It(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ms(e,n),s=gn(s),r=r(s),e.flags|=1,It(t,e,r,n),e.child;case 14:return r=e.type,s=Tn(r,e.pendingProps),s=Tn(r.type,s),Qy(t,e,r,s,n);case 15:return t1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Tn(r,s),Du(t,e),e.tag=1,Ut(r)?(t=!0,Ju(e)):t=!1,Ms(e,n),AE(e,r,s),tp(e,r,s,n),ip(null,e,r,!0,t,n);case 19:return o1(t,e,n);case 22:return n1(t,e,n)}throw Error(b(156,e.tag))};function S1(t,e){return Yw(t,e)}function YL(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,e,n,r){return new YL(t,e,n,r)}function kg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qL(t){if(typeof t=="function")return kg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Gp)return 11;if(t===jp)return 14}return 2}function Xr(t,e){var n=t.alternate;return n===null?(n=hn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Fu(t,e,n,r,s,l){var a=2;if(r=t,typeof t=="function")kg(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case vs:return Di(n.children,s,l,e);case Vp:a=8,s|=8;break;case Th:return t=hn(12,n,e,s|2),t.elementType=Th,t.lanes=l,t;case kh:return t=hn(13,n,e,s),t.elementType=kh,t.lanes=l,t;case Rh:return t=hn(19,n,e,s),t.elementType=Rh,t.lanes=l,t;case Pw:return Gc(n,s,l,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xw:a=10;break e;case Aw:a=9;break e;case Gp:a=11;break e;case jp:a=14;break e;case Dr:a=16,r=null;break e}throw Error(b(130,t==null?t:typeof t,""))}return e=hn(a,n,e,s),e.elementType=t,e.type=r,e.lanes=l,e}function Di(t,e,n,r){return t=hn(7,t,r,e),t.lanes=n,t}function Gc(t,e,n,r){return t=hn(22,t,r,e),t.elementType=Pw,t.lanes=n,t.stateNode={isHidden:!1},t}function sh(t,e,n){return t=hn(6,t,null,e),t.lanes=n,t}function oh(t,e,n){return e=hn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function QL(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zd(0),this.expirationTimes=zd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zd(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Rg(t,e,n,r,s,l,a,c,d){return t=new QL(t,e,n,c,d),e===1?(e=1,l===!0&&(e|=8)):e=0,l=hn(3,null,null,e),t.current=l,l.stateNode=t,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cg(l),t}function XL(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ms,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function C1(t){if(!t)return si;t=t._reactInternals;e:{if(Qi(t)!==t||t.tag!==1)throw Error(b(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ut(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(b(171))}if(t.tag===1){var n=t.type;if(Ut(n))return SE(t,n,e)}return e}function I1(t,e,n,r,s,l,a,c,d){return t=Rg(n,r,!0,t,s,l,a,c,d),t.context=C1(null),n=t.current,r=Rt(),s=Qr(n),l=hr(r,s),l.callback=e??null,Yr(n,l,s),t.current.lanes=s,Xl(t,s,r),Wt(t,r),t}function jc(t,e,n,r){var s=e.current,l=Rt(),a=Qr(s);return n=C1(n),e.context===null?e.context=n:e.pendingContext=n,e=hr(l,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Yr(s,e,a),t!==null&&(On(t,s,a,l),Pu(t,s,a)),a}function fc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function a0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ng(t,e){a0(t,e),(t=t.alternate)&&a0(t,e)}function JL(){return null}var T1=typeof reportError=="function"?reportError:function(t){console.error(t)};function xg(t){this._internalRoot=t}Kc.prototype.render=xg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(b(409));jc(t,e,null,null)};Kc.prototype.unmount=xg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Bi(function(){jc(null,t,null,null)}),e[_r]=null}};function Kc(t){this._internalRoot=t}Kc.prototype.unstable_scheduleHydration=function(t){if(t){var e=tE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<br.length&&e!==0&&e<br[n].priority;n++);br.splice(n,0,t),n===0&&rE(t)}};function Ag(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function u0(){}function ZL(t,e,n,r,s){if(s){if(typeof r=="function"){var l=r;r=function(){var h=fc(a);l.call(h)}}var a=I1(e,r,t,0,null,!1,!1,"",u0);return t._reactRootContainer=a,t[_r]=a.current,xl(t.nodeType===8?t.parentNode:t),Bi(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var c=r;r=function(){var h=fc(d);c.call(h)}}var d=Rg(t,0,!1,null,null,!1,!1,"",u0);return t._reactRootContainer=d,t[_r]=d.current,xl(t.nodeType===8?t.parentNode:t),Bi(function(){jc(e,d,n,r)}),d}function qc(t,e,n,r,s){var l=n._reactRootContainer;if(l){var a=l;if(typeof s=="function"){var c=s;s=function(){var d=fc(a);c.call(d)}}jc(e,a,t,s)}else a=ZL(n,e,t,s,r);return fc(a)}Zw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=tl(e.pendingLanes);n!==0&&(qp(e,n|1),Wt(e,Ge()),!(ge&6)&&(Ys=Ge()+500,fi()))}break;case 13:Bi(function(){var r=mr(t,1);if(r!==null){var s=Rt();On(r,t,1,s)}}),Ng(t,1)}};Qp=function(t){if(t.tag===13){var e=mr(t,134217728);if(e!==null){var n=Rt();On(e,t,134217728,n)}Ng(t,134217728)}};eE=function(t){if(t.tag===13){var e=Qr(t),n=mr(t,e);if(n!==null){var r=Rt();On(n,t,e,r)}Ng(t,e)}};tE=function(){return Ce};nE=function(t,e){var n=Ce;try{return Ce=t,e()}finally{Ce=n}};Fh=function(t,e,n){switch(e){case"input":if(Ah(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Wc(r);if(!s)throw Error(b(90));Lw(r),Ah(r,s)}}}break;case"textarea":Mw(t,n);break;case"select":e=n.value,e!=null&&Ps(t,!!n.multiple,e,!1)}};Hw=Cg;$w=Bi;var eD={usingClientEntryPoint:!1,Events:[Zl,Ss,Wc,zw,Bw,Cg]},Ko={findFiberByHostInstance:Ni,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},tD={bundleType:Ko.bundleType,version:Ko.version,rendererPackageName:Ko.rendererPackageName,rendererConfig:Ko.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Er.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=jw(t),t===null?null:t.stateNode},findFiberByHostInstance:Ko.findFiberByHostInstance||JL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Su.isDisabled&&Su.supportsFiber)try{Mc=Su.inject(tD),$n=Su}catch{}}Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eD;Zt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ag(e))throw Error(b(200));return XL(t,e,null,n)};Zt.createRoot=function(t,e){if(!Ag(t))throw Error(b(299));var n=!1,r="",s=T1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Rg(t,1,!1,null,null,n,!1,r,s),t[_r]=e.current,xl(t.nodeType===8?t.parentNode:t),new xg(e)};Zt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(b(188)):(t=Object.keys(t).join(","),Error(b(268,t)));return t=jw(e),t=t===null?null:t.stateNode,t};Zt.flushSync=function(t){return Bi(t)};Zt.hydrate=function(t,e,n){if(!Yc(e))throw Error(b(200));return qc(null,t,e,!0,n)};Zt.hydrateRoot=function(t,e,n){if(!Ag(t))throw Error(b(405));var r=n!=null&&n.hydratedSources||null,s=!1,l="",a=T1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=I1(e,null,t,1,n??null,s,!1,l,a),t[_r]=e.current,xl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Kc(e)};Zt.render=function(t,e,n){if(!Yc(e))throw Error(b(200));return qc(null,t,e,!1,n)};Zt.unmountComponentAtNode=function(t){if(!Yc(t))throw Error(b(40));return t._reactRootContainer?(Bi(function(){qc(null,null,t,!1,function(){t._reactRootContainer=null,t[_r]=null})}),!0):!1};Zt.unstable_batchedUpdates=Cg;Zt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Yc(n))throw Error(b(200));if(t==null||t._reactInternals===void 0)throw Error(b(38));return qc(t,e,n,!1,r)};Zt.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Zt})(JP);var c0=Sh;Eh.createRoot=c0.createRoot,Eh.hydrateRoot=c0.hydrateRoot;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F=function(t,e){if(!t)throw so(e)},so=function(t){return new Error("Firebase Database ("+k1.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},nD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const l=t[n++];e[r++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=t[n++],a=t[n++],c=t[n++],d=((s&7)<<18|(l&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(l&63)<<6|a&63)}}return e.join("")},Pg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const l=t[s],a=s+1<t.length,c=a?t[s+1]:0,d=s+2<t.length,h=d?t[s+2]:0,v=l>>2,m=(l&3)<<4|c>>4;let y=(c&15)<<2|h>>6,R=h&63;d||(R=64,a||(y=64)),r.push(n[v],n[m],n[y],n[R])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(R1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):nD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const l=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const m=s<t.length?n[t.charAt(s)]:64;if(++s,l==null||c==null||h==null||m==null)throw new rD;const y=l<<2|c>>4;if(r.push(y),h!==64){const R=c<<4&240|h>>2;if(r.push(R),m!==64){const N=h<<6&192|m;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class rD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const N1=function(t){const e=R1(t);return Pg.encodeByteArray(e,!0)},dc=function(t){return N1(t).replace(/\./g,"")},hc=function(t){try{return Pg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(t){return x1(void 0,t)}function x1(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!sD(n)||(t[n]=x1(t[n],e[n]));return t}function sD(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=()=>oD().__FIREBASE_DEFAULTS__,aD=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},uD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&hc(t[1]);return e&&JSON.parse(e)},Og=()=>{try{return lD()||aD()||uD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},A1=t=>{var e,n;return(n=(e=Og())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},cD=t=>{const e=A1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fD=()=>{var t;return(t=Og())===null||t===void 0?void 0:t.config},P1=t=>{var e;return(e=Og())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t),c="";return[dc(JSON.stringify(n)),dc(JSON.stringify(a)),c].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Lg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yt())}function hD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function O1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pD(){const t=yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function L1(){return k1.NODE_ADMIN===!0}function gD(){try{return typeof indexedDB=="object"}catch{return!1}}function _D(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var l;e(((l=s.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD="FirebaseError";class di extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=mD,Object.setPrototypeOf(this,di.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ta.prototype.create)}}class ta{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,l=this.errors[e],a=l?vD(l,r):"Error",c=`${this.serviceName}: ${a} (${s}).`;return new di(s,c,r)}}function vD(t,e){return t.replace(yD,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const yD=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(t){return JSON.parse(t)}function Xe(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1=function(t){let e={},n={},r={},s="";try{const l=t.split(".");e=Ul(hc(l[0])||""),n=Ul(hc(l[1])||""),s=l[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},wD=function(t){const e=D1(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},ED=function(t){const e=D1(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function qs(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function _p(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function pc(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function gc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const l=t[s],a=e[s];if(f0(l)&&f0(a)){if(!gc(l,a))return!1}else if(l!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function f0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oo(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function rl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,l]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(l)}}),e}function il(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let m=0;m<16;m++)r[m]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let m=0;m<16;m++)r[m]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let m=16;m<80;m++){const y=r[m-3]^r[m-8]^r[m-14]^r[m-16];r[m]=(y<<1|y>>>31)&4294967295}let s=this.chain_[0],l=this.chain_[1],a=this.chain_[2],c=this.chain_[3],d=this.chain_[4],h,v;for(let m=0;m<80;m++){m<40?m<20?(h=c^l&(a^c),v=1518500249):(h=l^a^c,v=1859775393):m<60?(h=l&a|c&(l|a),v=2400959708):(h=l^a^c,v=3395469782);const y=(s<<5|s>>>27)+h+d+v+r[m]&4294967295;d=c,c=a,a=(l<<30|l>>>2)&4294967295,l=s,s=y}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const l=this.buf_;let a=this.inbuf_;for(;s<n;){if(a===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(l[a]=e.charCodeAt(s),++a,++s,a===this.blockSize){this.compress_(l),a=0;break}}else for(;s<n;)if(l[a]=e[s],++a,++s,a===this.blockSize){this.compress_(l),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let l=24;l>=0;l-=8)e[r]=this.chain_[s]>>l&255,++r;return e}}function CD(t,e){const n=new ID(t,e);return n.subscribe.bind(n)}class ID{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");TD(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=lh),s.error===void 0&&(s.error=lh),s.complete===void 0&&(s.complete=lh);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function lh(){}function Dg(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const l=s-55296;r++,F(r<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(r)-56320;s=65536+(l<<10)+a}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Xc=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(t){return t&&t._delegate?t._delegate:t}class Hi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Qc;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xD(e))try{this.getOrInitializeService({instanceIdentifier:ki})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:s});r.resolve(l)}catch{}}}}clearInstance(e=ki){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ki){return this.instances.has(e)}getOptions(e=ki){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(l);r===c&&a.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),l=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(s,l);const a=this.instances.get(s);return a&&e(a,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ND(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ki){return this.component?this.component.multipleInstances?e:ki:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ND(t){return t===ki?void 0:t}function xD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new RD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Te||(Te={}));const PD={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},OD=Te.INFO,LD={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},DD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=LD[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mg{constructor(e){this.name=e,this._logLevel=OD,this._logHandler=DD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}const MD=(t,e)=>e.some(n=>t instanceof n);let d0,h0;function bD(){return d0||(d0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FD(){return h0||(h0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const M1=new WeakMap,mp=new WeakMap,b1=new WeakMap,ah=new WeakMap,bg=new WeakMap;function UD(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",l),t.removeEventListener("error",a)},l=()=>{n(Jr(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",l),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&M1.set(n,t)}).catch(()=>{}),bg.set(e,t),e}function WD(t){if(mp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",a),t.removeEventListener("abort",a)},l=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",l),t.addEventListener("error",a),t.addEventListener("abort",a)});mp.set(t,e)}let vp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return mp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||b1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function zD(t){vp=t(vp)}function BD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(uh(this),e,...n);return b1.set(r,e.sort?e.sort():[e]),Jr(r)}:FD().includes(t)?function(...e){return t.apply(uh(this),e),Jr(M1.get(this))}:function(...e){return Jr(t.apply(uh(this),e))}}function HD(t){return typeof t=="function"?BD(t):(t instanceof IDBTransaction&&WD(t),MD(t,bD())?new Proxy(t,vp):t)}function Jr(t){if(t instanceof IDBRequest)return UD(t);if(ah.has(t))return ah.get(t);const e=HD(t);return e!==t&&(ah.set(t,e),bg.set(e,t)),e}const uh=t=>bg.get(t);function $D(t,e,{blocked:n,upgrade:r,blocking:s,terminated:l}={}){const a=indexedDB.open(t,e),c=Jr(a);return r&&a.addEventListener("upgradeneeded",d=>{r(Jr(a.result),d.oldVersion,d.newVersion,Jr(a.transaction))}),n&&a.addEventListener("blocked",()=>n()),c.then(d=>{l&&d.addEventListener("close",()=>l()),s&&d.addEventListener("versionchange",()=>s())}).catch(()=>{}),c}const VD=["get","getKey","getAll","getAllKeys","count"],GD=["put","add","delete","clear"],ch=new Map;function p0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ch.get(e))return ch.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=GD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||VD.includes(n)))return;const l=async function(a,...c){const d=this.transaction(a,s?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),s&&d.done]))[0]};return ch.set(e,l),l}zD(t=>({...t,get:(e,n,r)=>p0(e,n)||t.get(e,n,r),has:(e,n)=>!!p0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(KD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function KD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yp="@firebase/app",g0="0.9.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new Mg("@firebase/app"),YD="@firebase/app-compat",qD="@firebase/analytics-compat",QD="@firebase/analytics",XD="@firebase/app-check-compat",JD="@firebase/app-check",ZD="@firebase/auth",eM="@firebase/auth-compat",tM="@firebase/database",nM="@firebase/database-compat",rM="@firebase/functions",iM="@firebase/functions-compat",sM="@firebase/installations",oM="@firebase/installations-compat",lM="@firebase/messaging",aM="@firebase/messaging-compat",uM="@firebase/performance",cM="@firebase/performance-compat",fM="@firebase/remote-config",dM="@firebase/remote-config-compat",hM="@firebase/storage",pM="@firebase/storage-compat",gM="@firebase/firestore",_M="@firebase/firestore-compat",mM="firebase",vM="9.19.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="[DEFAULT]",yM={[yp]:"fire-core",[YD]:"fire-core-compat",[QD]:"fire-analytics",[qD]:"fire-analytics-compat",[JD]:"fire-app-check",[XD]:"fire-app-check-compat",[ZD]:"fire-auth",[eM]:"fire-auth-compat",[tM]:"fire-rtdb",[nM]:"fire-rtdb-compat",[rM]:"fire-fn",[iM]:"fire-fn-compat",[sM]:"fire-iid",[oM]:"fire-iid-compat",[lM]:"fire-fcm",[aM]:"fire-fcm-compat",[uM]:"fire-perf",[cM]:"fire-perf-compat",[fM]:"fire-rc",[dM]:"fire-rc-compat",[hM]:"fire-gcs",[pM]:"fire-gcs-compat",[gM]:"fire-fst",[_M]:"fire-fst-compat","fire-js":"fire-js",[mM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=new Map,Ep=new Map;function wM(t,e){try{t.container.addComponent(e)}catch(n){$i.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qs(t){const e=t.name;if(Ep.has(e))return $i.debug(`There were multiple attempts to register component ${e}.`),!1;Ep.set(e,t);for(const n of _c.values())wM(n,t);return!0}function Fg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Zr=new ta("app","Firebase",EM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=vM;function F1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:wp,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Zr.create("bad-app-name",{appName:String(s)});if(n||(n=fD()),!n)throw Zr.create("no-options");const l=_c.get(s);if(l){if(gc(n,l.options)&&gc(r,l.config))return l;throw Zr.create("duplicate-app",{appName:s})}const a=new AD(s);for(const d of Ep.values())a.addComponent(d);const c=new SM(n,r,a);return _c.set(s,c),c}function U1(t=wp){const e=_c.get(t);if(!e&&t===wp)return F1();if(!e)throw Zr.create("no-app",{appName:t});return e}function ei(t,e,n){var r;let s=(r=yM[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const l=s.match(/\s|\//),a=e.match(/\s|\//);if(l||a){const c=[`Unable to register library "${s}" with version "${e}":`];l&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$i.warn(c.join(" "));return}Qs(new Hi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM="firebase-heartbeat-database",IM=1,Wl="firebase-heartbeat-store";let fh=null;function W1(){return fh||(fh=$D(CM,IM,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Wl)}}}).catch(t=>{throw Zr.create("idb-open",{originalErrorMessage:t.message})})),fh}async function TM(t){try{return(await W1()).transaction(Wl).objectStore(Wl).get(z1(t))}catch(e){if(e instanceof di)$i.warn(e.message);else{const n=Zr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$i.warn(n.message)}}}async function _0(t,e){try{const r=(await W1()).transaction(Wl,"readwrite");return await r.objectStore(Wl).put(e,z1(t)),r.done}catch(n){if(n instanceof di)$i.warn(n.message);else{const r=Zr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$i.warn(r.message)}}}function z1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM=1024,RM=30*24*60*60*1e3;class NM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new AM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=m0();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const l=new Date(s.date).valueOf();return Date.now()-l<=RM}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=m0(),{heartbeatsToSend:n,unsentEntries:r}=xM(this._heartbeatsCache.heartbeats),s=dc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function m0(){return new Date().toISOString().substring(0,10)}function xM(t,e=kM){const n=[];let r=t.slice();for(const s of t){const l=n.find(a=>a.agent===s.agent);if(l){if(l.dates.push(s.date),v0(n)>e){l.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),v0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class AM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gD()?_D().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await TM(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return _0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return _0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function v0(t){return dc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(t){Qs(new Hi("platform-logger",e=>new jD(e),"PRIVATE")),Qs(new Hi("heartbeat",e=>new NM(e),"PRIVATE")),ei(yp,g0,t),ei(yp,g0,"esm2017"),ei("fire-js","")}PM("");var OM="firebase",LM="9.19.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ei(OM,LM,"app");const y0="@firebase/database",w0="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let B1="";function DM(t){B1=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Xe(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ul(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Sr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new MM(e)}}catch{}return new bM},Pi=H1("localStorage"),Sp=H1("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new Mg("@firebase/database"),FM=function(){let t=1;return function(){return t++}}(),$1=function(t){const e=kD(t),n=new SD;n.update(e);const r=n.digest();return Pg.encodeByteArray(r)},ra=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ra.apply(null,r):typeof r=="object"?e+=Xe(r):e+=r,e+=" "}return e};let Mi=null,E0=!0;const UM=function(t,e){F(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Fs.logLevel=Te.VERBOSE,Mi=Fs.log.bind(Fs),e&&Sp.set("logging_enabled",!0)):typeof t=="function"?Mi=t:(Mi=null,Sp.remove("logging_enabled"))},mt=function(...t){if(E0===!0&&(E0=!1,Mi===null&&Sp.get("logging_enabled")===!0&&UM(!0)),Mi){const e=ra.apply(null,t);Mi(e)}},ia=function(t){return function(...e){mt(t,...e)}},Cp=function(...t){const e="FIREBASE INTERNAL ERROR: "+ra(...t);Fs.error(e)},yr=function(...t){const e=`FIREBASE FATAL ERROR: ${ra(...t)}`;throw Fs.error(e),new Error(e)},zt=function(...t){const e="FIREBASE WARNING: "+ra(...t);Fs.warn(e)},WM=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&zt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},V1=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},zM=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Xs="[MIN_NAME]",Vi="[MAX_NAME]",lo=function(t,e){if(t===e)return 0;if(t===Xs||e===Vi)return-1;if(e===Xs||t===Vi)return 1;{const n=S0(t),r=S0(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},BM=function(t,e){return t===e?0:t<e?-1:1},Yo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Xe(e))},Ug=function(t){if(typeof t!="object"||t===null)return Xe(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Xe(e[r]),n+=":",n+=Ug(t[e[r]]);return n+="}",n},G1=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function Bt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const j1=function(t){F(!V1(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,l,a,c,d;t===0?(l=0,a=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),r),l=c+r,a=Math.round(t*Math.pow(2,n-c)-Math.pow(2,n))):(l=0,a=Math.round(t/Math.pow(2,1-r-n))));const h=[];for(d=n;d;d-=1)h.push(a%2?1:0),a=Math.floor(a/2);for(d=e;d;d-=1)h.push(l%2?1:0),l=Math.floor(l/2);h.push(s?1:0),h.reverse();const v=h.join("");let m="";for(d=0;d<64;d+=8){let y=parseInt(v.substr(d,8),2).toString(16);y.length===1&&(y="0"+y),m=m+y}return m.toLowerCase()},HM=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},$M=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function VM(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const GM=new RegExp("^-?(0*)\\d{1,10}$"),jM=-2147483648,KM=2147483647,S0=function(t){if(GM.test(t)){const e=Number(t);if(e>=jM&&e<=KM)return e}return null},ao=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw zt("Exception was thrown by user callback.",n),e},Math.floor(0))}},YM=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},gl=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){zt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(mt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',zt(e)}}class Us{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Us.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg="5",K1="v",Y1="s",q1="r",Q1="f",X1=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,J1="ls",Z1="p",Ip="ac",eS="websocket",tS="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,n,r,s,l=!1,a="",c=!1,d=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=l,this.persistenceKey=a,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=d,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Pi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Pi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function XM(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function rS(t,e,n){F(typeof e=="string","typeof type must == string"),F(typeof n=="object","typeof params must == object");let r;if(e===eS)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===tS)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);XM(t)&&(n.ns=t.namespace);const s=[];return Bt(n,(l,a)=>{s.push(l+"="+a)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(){this.counters_={}}incrementCounter(e,n=1){Sr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return iD(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh={},hh={};function zg(t){const e=t.toString();return dh[e]||(dh[e]=new JM),dh[e]}function ZM(t,e){const n=t.toString();return hh[n]||(hh[n]=e()),hh[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&ao(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="start",t2="close",n2="pLPCommand",r2="pRTLPCB",iS="id",sS="pw",oS="ser",i2="cb",s2="seg",o2="ts",l2="d",a2="dframe",lS=1870,aS=30,u2=lS-aS,c2=25e3,f2=3e4;class xs{constructor(e,n,r,s,l,a,c){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=l,this.transportSessionId=a,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ia(e),this.stats_=zg(n),this.urlFn=d=>(this.appCheckToken&&(d[Ip]=this.appCheckToken),rS(n,tS,d))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new e2(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(f2)),zM(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Bg((...l)=>{const[a,c,d,h,v]=l;if(this.incrementIncomingBytes_(l),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===C0)this.id=c,this.password=d;else if(a===t2)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...l)=>{const[a,c]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(a,c)},()=>{this.onClosed_()},this.urlFn);const r={};r[C0]="t",r[oS]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[i2]=this.scriptTagHolder.uniqueCallbackIdentifier),r[K1]=Wg,this.transportSessionId&&(r[Y1]=this.transportSessionId),this.lastSessionId&&(r[J1]=this.lastSessionId),this.applicationId&&(r[Z1]=this.applicationId),this.appCheckToken&&(r[Ip]=this.appCheckToken),typeof location<"u"&&location.hostname&&X1.test(location.hostname)&&(r[q1]=Q1);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){xs.forceAllow_=!0}static forceDisallow(){xs.forceDisallow_=!0}static isAvailable(){return xs.forceAllow_?!0:!xs.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!HM()&&!$M()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Xe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=N1(n),s=G1(r,u2);for(let l=0;l<s.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[l]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[a2]="t",r[iS]=e,r[sS]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Xe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Bg{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=FM(),window[n2+this.uniqueCallbackIdentifier]=e,window[r2+this.uniqueCallbackIdentifier]=n,this.myIFrame=Bg.createIFrame_();let l="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(l='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(c){mt("frame writing exception"),c.stack&&mt(c.stack),mt(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||mt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[iS]=this.myID,e[sS]=this.myPW,e[oS]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+aS+r.length<=lS;){const a=this.pendingSegs.shift();r=r+"&"+s2+s+"="+a.seg+"&"+o2+s+"="+a.ts+"&"+l2+s+"="+a.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(c2)),l=()=>{clearTimeout(s),r()};this.addTag(e,l)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{mt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=16384,h2=45e3;let mc=null;typeof MozWebSocket<"u"?mc=MozWebSocket:typeof WebSocket<"u"&&(mc=WebSocket);class Nn{constructor(e,n,r,s,l,a,c){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ia(this.connId),this.stats_=zg(n),this.connURL=Nn.connectionURL_(n,a,c,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,l){const a={};return a[K1]=Wg,typeof location<"u"&&location.hostname&&X1.test(location.hostname)&&(a[q1]=Q1),n&&(a[Y1]=n),r&&(a[J1]=r),s&&(a[Ip]=s),l&&(a[Z1]=l),rS(e,eS,a)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Pi.set("previous_websocket_failure",!0);try{let r;L1(),this.mySock=new mc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Nn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&mc!==null&&!Nn.forceDisallow_}static previouslyFailed(){return Pi.isInMemoryStorage||Pi.get("previous_websocket_failure")===!0}markConnectionHealthy(){Pi.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Ul(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(F(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Xe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=G1(n,d2);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(h2))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Nn.responsesRequiredToBeHealthy=2;Nn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[xs,Nn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Nn&&Nn.isAvailable();let r=n&&!Nn.previouslyFailed();if(e.webSocketOnly&&(n||zt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Nn];else{const s=this.transports_=[];for(const l of zl.ALL_TRANSPORTS)l&&l.isAvailable()&&s.push(l);zl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}zl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=6e4,g2=5e3,_2=10*1024,m2=100*1024,ph="t",I0="d",v2="s",T0="r",y2="e",k0="o",R0="a",N0="n",x0="p",w2="h";class E2{constructor(e,n,r,s,l,a,c,d,h,v){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=l,this.onMessage_=a,this.onReady_=c,this.onDisconnect_=d,this.onKill_=h,this.lastSessionId=v,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ia("c:"+this.id+":"),this.transportManager_=new zl(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=gl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>m2?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>_2?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ph in e){const n=e[ph];n===R0?this.upgradeIfSecondaryHealthy_():n===T0?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===k0&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Yo("t",e),r=Yo("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:x0,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:R0,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:N0,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Yo("t",e),r=Yo("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Yo(ph,e);if(I0 in e){const r=e[I0];if(n===w2){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===N0){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===v2?this.onConnectionShutdown_(r):n===T0?this.onReset_(r):n===y2?Cp("Server Error: "+r):n===k0?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Cp("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Wg!==r&&zt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),gl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(p2))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):gl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(g2))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:x0,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Pi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e){this.allowedEvents_=e,this.listeners_={},F(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let l=0;l<s.length;l++)if(s[l].callback===n&&(!r||r===s[l].context)){s.splice(l,1);return}}validateEventType_(e){F(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc extends cS{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Lg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new vc}getInitialEvent(e){return F(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0=32,P0=768;class ke{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ve(){return new ke("")}function ae(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function oi(t){return t.pieces_.length-t.pieceNum_}function Ne(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ke(t.pieces_,e)}function fS(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function S2(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function dS(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function hS(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ke(e,0)}function Je(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ke)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new ke(n,0)}function fe(t){return t.pieceNum_>=t.pieces_.length}function kt(t,e){const n=ae(t),r=ae(e);if(n===null)return e;if(n===r)return kt(Ne(t),Ne(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Hg(t,e){if(oi(t)!==oi(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function xn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(oi(t)>oi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class C2{constructor(e,n){this.errorPrefix_=n,this.parts_=dS(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Xc(this.parts_[r]);pS(this)}}function I2(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Xc(e),pS(t)}function T2(t){const e=t.parts_.pop();t.byteLength_-=Xc(e),t.parts_.length>0&&(t.byteLength_-=1)}function pS(t){if(t.byteLength_>P0)throw new Error(t.errorPrefix_+"has a key path longer than "+P0+" bytes ("+t.byteLength_+").");if(t.parts_.length>A0)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+A0+") or object contains a cycle "+Ri(t))}function Ri(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g extends cS{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new $g}getInitialEvent(e){return F(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=1e3,k2=60*5*1e3,O0=30*1e3,R2=1.3,N2=3e4,x2="server_kill",L0=3;class pr extends uS{constructor(e,n,r,s,l,a,c,d){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=l,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=d,this.id=pr.nextPersistentConnectionId_++,this.log_=ia("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=qo,this.maxReconnectDelay_=k2,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d&&!L1())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");$g.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&vc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,l={r:s,a:e,b:n};this.log_(Xe(l)),F(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new Qc,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const c=a.d;a.s==="ok"?n.resolve(c):n.reject(c)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const l=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(l),n.promise}listen(e,n,r,s){this.initConnection_();const l=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+l),this.listens.has(a)||this.listens.set(a,new Map),F(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),F(!this.listens.get(a).has(l),"listen() called twice for same path/queryId.");const c={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(a).set(l,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const l={p:r},a="q";e.tag&&(l.q=n._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest(a,l,c=>{const d=c.d,h=c.s;pr.warnOnListenWarnings_(d,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",c),h!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(h,d))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Sr(e,"w")){const r=qs(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',l=n._path.toString();zt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||ED(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=O0)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=wD(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const l=s.s,a=s.d||"error";this.authToken_===e&&(l==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),F(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const l={p:e},a="n";s&&(l.q=r,l.t=s),this.sendRequest(a,l)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const l={p:n,d:r};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,l){this.initConnection_();const a={p:n,d:r};l!==void 0&&(a.h=l),this.outstandingPuts_.push({action:e,request:a,onComplete:s}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,l=>{this.log_(n+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(l.s,l.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const l=r.d;this.log_("reportStats","Error sending stats: "+l)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Xe(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Cp("Unrecognized action received from server: "+Xe(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){F(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=qo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=qo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>N2&&(this.reconnectDelay_=qo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*R2)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+pr.nextConnectionId_++,l=this.lastSessionId;let a=!1,c=null;const d=function(){c?c.close():(a=!0,r())},h=function(m){F(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(m)};this.realtime_={close:d,sendRequest:h};const v=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[m,y]=await Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)]);a?mt("getToken() completed but was canceled"):(mt("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=y&&y.token,c=new E2(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,R=>{zt(R+" ("+this.repoInfo_.toString()+")"),this.interrupt(x2)},l))}catch(m){this.log_("Failed to get token: "+m),a||(this.repoInfo_.nodeAdmin&&zt(m),d())}}}interrupt(e){mt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){mt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],_p(this.interruptReasons_)&&(this.reconnectDelay_=qo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(l=>Ug(l)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new ke(e).toString();let s;if(this.listens.has(r)){const l=this.listens.get(r);s=l.get(n),l.delete(n),l.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){mt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=L0&&(this.reconnectDelay_=O0,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){mt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=L0&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+B1.replace(/\./g,"-")]=1,Lg()?e["framework.cordova"]=1:O1()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=vc.getInstance().currentlyOnline();return _p(this.interruptReasons_)&&e}}pr.nextPersistentConnectionId_=0;pr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ue(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ue(Xs,e),s=new ue(Xs,n);return this.compare(r,s)!==0}minPost(){return ue.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cu;class gS extends Jc{static get __EMPTY_NODE(){return Cu}static set __EMPTY_NODE(e){Cu=e}compare(e,n){return lo(e.name,n.name)}isDefinedOn(e){throw so("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ue.MIN}maxPost(){return new ue(Vi,Cu)}makePost(e,n){return F(typeof e=="string","KeyIndex indexValue must always be a string."),new ue(e,Cu)}toString(){return".key"}}const Ws=new gS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n,r,s,l=null){this.isReverse_=s,this.resultGenerator_=l,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,s&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class rt{constructor(e,n,r,s,l){this.key=e,this.value=n,this.color=r??rt.RED,this.left=s??bt.EMPTY_NODE,this.right=l??bt.EMPTY_NODE}copy(e,n,r,s,l){return new rt(e??this.key,n??this.value,r??this.color,s??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const l=r(e,s.key);return l<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):l===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return bt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return bt.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}rt.RED=!0;rt.BLACK=!1;class A2{copy(e,n,r,s,l){return this}insert(e,n,r){return new rt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class bt{constructor(e,n=bt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new bt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,rt.BLACK,null,null))}remove(e){return new bt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,rt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Iu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Iu(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Iu(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Iu(this.root_,null,this.comparator_,!0,e)}}bt.EMPTY_NODE=new A2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(t,e){return lo(t.name,e.name)}function Vg(t,e){return lo(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tp;function O2(t){Tp=t}const _S=function(t){return typeof t=="number"?"number:"+j1(t):"string:"+t},mS=function(t){if(t.isLeafNode()){const e=t.val();F(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Sr(e,".sv"),"Priority must be a string or number.")}else F(t===Tp||t.isEmpty(),"priority of unexpected type.");F(t===Tp||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let D0;class tt{constructor(e,n=tt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,F(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),mS(this.priorityNode_)}static set __childrenNodeConstructor(e){D0=e}static get __childrenNodeConstructor(){return D0}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new tt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:tt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return fe(e)?this:ae(e)===".priority"?this.priorityNode_:tt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:tt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=ae(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(F(r!==".priority"||oi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,tt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ne(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+_S(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=j1(this.value_):e+=this.value_,this.lazyHash_=$1(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===tt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof tt.__childrenNodeConstructor?-1:(F(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=tt.VALUE_TYPE_ORDER.indexOf(n),l=tt.VALUE_TYPE_ORDER.indexOf(r);return F(s>=0,"Unknown leaf type: "+n),F(l>=0,"Unknown leaf type: "+r),s===l?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}tt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vS,yS;function L2(t){vS=t}function D2(t){yS=t}class M2 extends Jc{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),l=r.compareTo(s);return l===0?lo(e.name,n.name):l}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ue.MIN}maxPost(){return new ue(Vi,new tt("[PRIORITY-POST]",yS))}makePost(e,n){const r=vS(e);return new ue(n,new tt("[PRIORITY-POST]",r))}toString(){return".priority"}}const He=new M2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=Math.log(2);class F2{constructor(e){const n=l=>parseInt(Math.log(l)/b2,10),r=l=>parseInt(Array(l+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const yc=function(t,e,n,r){t.sort(e);const s=function(d,h){const v=h-d;let m,y;if(v===0)return null;if(v===1)return m=t[d],y=n?n(m):m,new rt(y,m.node,rt.BLACK,null,null);{const R=parseInt(v/2,10)+d,N=s(d,R),P=s(R+1,h);return m=t[R],y=n?n(m):m,new rt(y,m.node,rt.BLACK,N,P)}},l=function(d){let h=null,v=null,m=t.length;const y=function(N,P){const j=m-N,C=m;m-=N;const E=s(j+1,C),T=t[j],D=n?n(T):T;R(new rt(D,T.node,P,null,E))},R=function(N){h?(h.left=N,h=N):(v=N,h=N)};for(let N=0;N<d.count;++N){const P=d.nextBitIsOne(),j=Math.pow(2,d.count-(N+1));P?y(j,rt.BLACK):(y(j,rt.BLACK),y(j,rt.RED))}return v},a=new F2(t.length),c=l(a);return new bt(r||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh;const _s={};class cr{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return F(_s&&He,"ChildrenNode.ts has not been loaded"),gh=gh||new cr({".priority":_s},{".priority":He}),gh}get(e){const n=qs(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof bt?n:null}hasIndex(e){return Sr(this.indexSet_,e.toString())}addIndex(e,n){F(e!==Ws,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const l=n.getIterator(ue.Wrap);let a=l.getNext();for(;a;)s=s||e.isDefinedOn(a.node),r.push(a),a=l.getNext();let c;s?c=yc(r,e.getCompare()):c=_s;const d=e.toString(),h=Object.assign({},this.indexSet_);h[d]=e;const v=Object.assign({},this.indexes_);return v[d]=c,new cr(v,h)}addToIndexes(e,n){const r=pc(this.indexes_,(s,l)=>{const a=qs(this.indexSet_,l);if(F(a,"Missing index implementation for "+l),s===_s)if(a.isDefinedOn(e.node)){const c=[],d=n.getIterator(ue.Wrap);let h=d.getNext();for(;h;)h.name!==e.name&&c.push(h),h=d.getNext();return c.push(e),yc(c,a.getCompare())}else return _s;else{const c=n.get(e.name);let d=s;return c&&(d=d.remove(new ue(e.name,c))),d.insert(e,e.node)}});return new cr(r,this.indexSet_)}removeFromIndexes(e,n){const r=pc(this.indexes_,s=>{if(s===_s)return s;{const l=n.get(e.name);return l?s.remove(new ue(e.name,l)):s}});return new cr(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo;class J{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&mS(this.priorityNode_),this.children_.isEmpty()&&F(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Qo||(Qo=new J(new bt(Vg),null,cr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Qo}updatePriority(e){return this.children_.isEmpty()?this:new J(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Qo:n}}getChild(e){const n=ae(e);return n===null?this:this.getImmediateChild(n).getChild(Ne(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(F(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ue(e,n);let s,l;n.isEmpty()?(s=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),l=this.indexMap_.addToIndexes(r,this.children_));const a=s.isEmpty()?Qo:this.priorityNode_;return new J(s,a,l)}}updateChild(e,n){const r=ae(e);if(r===null)return n;{F(ae(e)!==".priority"||oi(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Ne(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,l=!0;if(this.forEachChild(He,(a,c)=>{n[a]=c.val(e),r++,l&&J.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):l=!1}),!e&&l&&s<2*r){const a=[];for(const c in n)a[c]=n[c];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+_S(this.getPriority().val())+":"),this.forEachChild(He,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":$1(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const l=s.getPredecessorKey(new ue(e,n));return l?l.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ue(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ue(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,ue.Wrap);let l=s.peek();for(;l!=null&&n.compare(l,e)<0;)s.getNext(),l=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,ue.Wrap);let l=s.peek();for(;l!=null&&n.compare(l,e)>0;)s.getNext(),l=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===sa?-1:0}withIndex(e){if(e===Ws||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new J(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ws||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(He),s=n.getIterator(He);let l=r.getNext(),a=s.getNext();for(;l&&a;){if(l.name!==a.name||!l.node.equals(a.node))return!1;l=r.getNext(),a=s.getNext()}return l===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===Ws?null:this.indexMap_.get(e.toString())}}J.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class U2 extends J{constructor(){super(new bt(Vg),J.EMPTY_NODE,cr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return J.EMPTY_NODE}isEmpty(){return!1}}const sa=new U2;Object.defineProperties(ue,{MIN:{value:new ue(Xs,J.EMPTY_NODE)},MAX:{value:new ue(Vi,sa)}});gS.__EMPTY_NODE=J.EMPTY_NODE;tt.__childrenNodeConstructor=J;O2(sa);D2(sa);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=!0;function it(t,e=null){if(t===null)return J.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),F(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new tt(n,it(e))}if(!(t instanceof Array)&&W2){const n=[];let r=!1;if(Bt(t,(a,c)=>{if(a.substring(0,1)!=="."){const d=it(c);d.isEmpty()||(r=r||!d.getPriority().isEmpty(),n.push(new ue(a,d)))}}),n.length===0)return J.EMPTY_NODE;const l=yc(n,P2,a=>a.name,Vg);if(r){const a=yc(n,He.getCompare());return new J(l,it(e),new cr({".priority":a},{".priority":He}))}else return new J(l,it(e),cr.Default)}else{let n=J.EMPTY_NODE;return Bt(t,(r,s)=>{if(Sr(t,r)&&r.substring(0,1)!=="."){const l=it(s);(l.isLeafNode()||!l.isEmpty())&&(n=n.updateImmediateChild(r,l))}}),n.updatePriority(it(e))}}L2(it);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2 extends Jc{constructor(e){super(),this.indexPath_=e,F(!fe(e)&&ae(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),l=r.compareTo(s);return l===0?lo(e.name,n.name):l}makePost(e,n){const r=it(e),s=J.EMPTY_NODE.updateChild(this.indexPath_,r);return new ue(n,s)}maxPost(){const e=J.EMPTY_NODE.updateChild(this.indexPath_,sa);return new ue(Vi,e)}toString(){return dS(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2 extends Jc{compare(e,n){const r=e.node.compareTo(n.node);return r===0?lo(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ue.MIN}maxPost(){return ue.MAX}makePost(e,n){const r=it(e);return new ue(n,r)}toString(){return".value"}}const H2=new B2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(t){return{type:"value",snapshotNode:t}}function Js(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Bl(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Hl(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function $2(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e){this.index_=e}updateChild(e,n,r,s,l,a){F(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=e.getImmediateChild(n);return c.getChild(s).equals(r.getChild(s))&&c.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?e.hasChild(n)?a.trackChildChange(Bl(n,c)):F(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?a.trackChildChange(Js(n,r)):a.trackChildChange(Hl(n,r,c))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(He,(s,l)=>{n.hasChild(s)||r.trackChildChange(Bl(s,l))}),n.isLeafNode()||n.forEachChild(He,(s,l)=>{if(e.hasChild(s)){const a=e.getImmediateChild(s);a.equals(l)||r.trackChildChange(Hl(s,l,a))}else r.trackChildChange(Js(s,l))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?J.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e){this.indexedFilter_=new Gg(e.getIndex()),this.index_=e.getIndex(),this.startPost_=$l.getStartPost_(e),this.endPost_=$l.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,l,a){return this.matches(new ue(n,r))||(r=J.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,l,a)}updateFullNode(e,n,r){n.isLeafNode()&&(n=J.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(J.EMPTY_NODE);const l=this;return n.forEachChild(He,(a,c)=>{l.matches(new ue(a,c))||(s=s.updateImmediateChild(a,J.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new $l(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,l,a){return this.rangedFilter_.matches(new ue(n,r))||(r=J.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,l,a):this.fullLimitUpdateChild_(e,n,r,l,a)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=J.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=J.EMPTY_NODE.withIndex(this.index_);let l;this.reverse_?l=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;l.hasNext()&&a<this.limit_;){const c=l.getNext();if(this.withinDirectionalStart(c))if(this.withinDirectionalEnd(c))s=s.updateImmediateChild(c.name,c.node),a++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(J.EMPTY_NODE);let l;this.reverse_?l=s.getReverseIterator(this.index_):l=s.getIterator(this.index_);let a=0;for(;l.hasNext();){const c=l.getNext();a<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?a++:s=s.updateImmediateChild(c.name,J.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,l){let a;if(this.reverse_){const m=this.index_.getCompare();a=(y,R)=>m(R,y)}else a=this.index_.getCompare();const c=e;F(c.numChildren()===this.limit_,"");const d=new ue(n,r),h=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),v=this.rangedFilter_.matches(d);if(c.hasChild(n)){const m=c.getImmediateChild(n);let y=s.getChildAfterChild(this.index_,h,this.reverse_);for(;y!=null&&(y.name===n||c.hasChild(y.name));)y=s.getChildAfterChild(this.index_,y,this.reverse_);const R=y==null?1:a(y,d);if(v&&!r.isEmpty()&&R>=0)return l!=null&&l.trackChildChange(Hl(n,r,m)),c.updateImmediateChild(n,r);{l!=null&&l.trackChildChange(Bl(n,m));const P=c.updateImmediateChild(n,J.EMPTY_NODE);return y!=null&&this.rangedFilter_.matches(y)?(l!=null&&l.trackChildChange(Js(y.name,y.node)),P.updateImmediateChild(y.name,y.node)):P}}else return r.isEmpty()?e:v&&a(h,d)>=0?(l!=null&&(l.trackChildChange(Bl(h.name,h.node)),l.trackChildChange(Js(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(h.name,J.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=He}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return F(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return F(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Xs}hasEnd(){return this.endSet_}getIndexEndValue(){return F(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return F(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Vi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return F(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===He}copy(){const e=new jg;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function G2(t){return t.loadsAllData()?new Gg(t.getIndex()):t.hasLimit()?new V2(t):new $l(t)}function M0(t){const e={};if(t.isDefault())return e;let n;if(t.index_===He?n="$priority":t.index_===H2?n="$value":t.index_===Ws?n="$key":(F(t.index_ instanceof z2,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Xe(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Xe(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Xe(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Xe(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Xe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function b0(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==He&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends uS{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=ia("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(F(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const l=e._path.toString();this.log_("Listen called for "+l+" "+e._queryIdentifier);const a=wc.getListenId_(e,r),c={};this.listens_[a]=c;const d=M0(e._queryParams);this.restRequest_(l+".json",d,(h,v)=>{let m=v;if(h===404&&(m=null,h=null),h===null&&this.onDataUpdate_(l,m,!1,r),qs(this.listens_,a)===c){let y;h?h===401?y="permission_denied":y="rest_error:"+h:y="ok",s(y,null)}})}unlisten(e,n){const r=wc.getListenId_(e,n);delete this.listens_[r]}get(e){const n=M0(e._queryParams),r=e._path.toString(),s=new Qc;return this.restRequest_(r+".json",n,(l,a)=>{let c=a;l===404&&(c=null,l=null),l===null?(this.onDataUpdate_(r,c,!1,null),s.resolve(c)):s.reject(new Error(c))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,l])=>{s&&s.accessToken&&(n.auth=s.accessToken),l&&l.token&&(n.ac=l.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+oo(n);this.log_("Sending REST request for "+a);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&c.readyState===4){this.log_("REST Response for "+a+" received. status:",c.status,"response:",c.responseText);let d=null;if(c.status>=200&&c.status<300){try{d=Ul(c.responseText)}catch{zt("Failed to parse JSON response for "+a+": "+c.responseText)}r(null,d)}else c.status!==401&&c.status!==404&&zt("Got unsuccessful REST response for "+a+" Status: "+c.status),r(c.status);r=null}},c.open("GET",a,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(){this.rootNode_=J.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(){return{value:null,children:new Map}}function ES(t,e,n){if(fe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=ae(e);t.children.has(r)||t.children.set(r,Ec());const s=t.children.get(r);e=Ne(e),ES(s,e,n)}}function kp(t,e,n){t.value!==null?n(e,t.value):K2(t,(r,s)=>{const l=new ke(e.toString()+"/"+r);kp(s,l,n)})}function K2(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Bt(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=10*1e3,q2=30*1e3,Q2=5*60*1e3;class X2{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Y2(e);const r=F0+(q2-F0)*Math.random();gl(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Bt(e,(s,l)=>{l>0&&Sr(this.statsToReport_,s)&&(n[s]=l,r=!0)}),r&&this.server_.reportStats(n),gl(this.reportStats_.bind(this),Math.floor(Math.random()*2*Q2))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var An;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(An||(An={}));function SS(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Kg(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Yg(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=An.ACK_USER_WRITE,this.source=SS()}operationForChild(e){if(fe(this.path)){if(this.affectedTree.value!=null)return F(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ke(e));return new Sc(ve(),n,this.revert)}}else return F(ae(this.path)===e,"operationForChild called for unrelated child."),new Sc(Ne(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n){this.source=e,this.path=n,this.type=An.LISTEN_COMPLETE}operationForChild(e){return fe(this.path)?new Vl(this.source,ve()):new Vl(this.source,Ne(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=An.OVERWRITE}operationForChild(e){return fe(this.path)?new Gi(this.source,ve(),this.snap.getImmediateChild(e)):new Gi(this.source,Ne(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=An.MERGE}operationForChild(e){if(fe(this.path)){const n=this.children.subtree(new ke(e));return n.isEmpty()?null:n.value?new Gi(this.source,ve(),n.value):new Gl(this.source,ve(),n)}else return F(ae(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Gl(this.source,Ne(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(fe(e))return this.isFullyInitialized()&&!this.filtered_;const n=ae(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Z2(t,e,n,r){const s=[],l=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&l.push($2(a.childName,a.snapshotNode))}),Xo(t,s,"child_removed",e,r,n),Xo(t,s,"child_added",e,r,n),Xo(t,s,"child_moved",l,r,n),Xo(t,s,"child_changed",e,r,n),Xo(t,s,"value",e,r,n),s}function Xo(t,e,n,r,s,l){const a=r.filter(c=>c.type===n);a.sort((c,d)=>tb(t,c,d)),a.forEach(c=>{const d=eb(t,c,l);s.forEach(h=>{h.respondsTo(c.type)&&e.push(h.createEvent(d,t.query_))})})}function eb(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function tb(t,e,n){if(e.childName==null||n.childName==null)throw so("Should only compare child_ events.");const r=new ue(e.childName,e.snapshotNode),s=new ue(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(t,e){return{eventCache:t,serverCache:e}}function _l(t,e,n,r){return Zc(new li(e,n,r),t.serverCache)}function CS(t,e,n,r){return Zc(t.eventCache,new li(e,n,r))}function Cc(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ji(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _h;const nb=()=>(_h||(_h=new bt(BM)),_h);class Oe{constructor(e,n=nb()){this.value=e,this.children=n}static fromObject(e){let n=new Oe(null);return Bt(e,(r,s)=>{n=n.set(new ke(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ve(),value:this.value};if(fe(e))return null;{const r=ae(e),s=this.children.get(r);if(s!==null){const l=s.findRootMostMatchingPathAndValue(Ne(e),n);return l!=null?{path:Je(new ke(r),l.path),value:l.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(fe(e))return this;{const n=ae(e),r=this.children.get(n);return r!==null?r.subtree(Ne(e)):new Oe(null)}}set(e,n){if(fe(e))return new Oe(n,this.children);{const r=ae(e),l=(this.children.get(r)||new Oe(null)).set(Ne(e),n),a=this.children.insert(r,l);return new Oe(this.value,a)}}remove(e){if(fe(e))return this.children.isEmpty()?new Oe(null):new Oe(null,this.children);{const n=ae(e),r=this.children.get(n);if(r){const s=r.remove(Ne(e));let l;return s.isEmpty()?l=this.children.remove(n):l=this.children.insert(n,s),this.value===null&&l.isEmpty()?new Oe(null):new Oe(this.value,l)}else return this}}get(e){if(fe(e))return this.value;{const n=ae(e),r=this.children.get(n);return r?r.get(Ne(e)):null}}setTree(e,n){if(fe(e))return n;{const r=ae(e),l=(this.children.get(r)||new Oe(null)).setTree(Ne(e),n);let a;return l.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,l),new Oe(this.value,a)}}fold(e){return this.fold_(ve(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,l)=>{r[s]=l.fold_(Je(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ve(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(fe(e))return null;{const l=ae(e),a=this.children.get(l);return a?a.findOnPath_(Ne(e),Je(n,l),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ve(),n)}foreachOnPath_(e,n,r){if(fe(e))return this;{this.value&&r(n,this.value);const s=ae(e),l=this.children.get(s);return l?l.foreachOnPath_(Ne(e),Je(n,s),r):new Oe(null)}}foreach(e){this.foreach_(ve(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(Je(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.writeTree_=e}static empty(){return new Ln(new Oe(null))}}function ml(t,e,n){if(fe(e))return new Ln(new Oe(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let l=r.value;const a=kt(s,e);return l=l.updateChild(a,n),new Ln(t.writeTree_.set(s,l))}else{const s=new Oe(n),l=t.writeTree_.setTree(e,s);return new Ln(l)}}}function U0(t,e,n){let r=t;return Bt(n,(s,l)=>{r=ml(r,Je(e,s),l)}),r}function W0(t,e){if(fe(e))return Ln.empty();{const n=t.writeTree_.setTree(e,new Oe(null));return new Ln(n)}}function Rp(t,e){return Xi(t,e)!=null}function Xi(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(kt(n.path,e)):null}function z0(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(He,(r,s)=>{e.push(new ue(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new ue(r,s.value))}),e}function ti(t,e){if(fe(e))return t;{const n=Xi(t,e);return n!=null?new Ln(new Oe(n)):new Ln(t.writeTree_.subtree(e))}}function Np(t){return t.writeTree_.isEmpty()}function Zs(t,e){return IS(ve(),t.writeTree_,e)}function IS(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,l)=>{s===".priority"?(F(l.value!==null,"Priority writes must always be leaf nodes"),r=l.value):n=IS(Je(t,s),l,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Je(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(t,e){return NS(e,t)}function rb(t,e,n,r,s){F(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=ml(t.visibleWrites,e,n)),t.lastWriteId=r}function ib(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function sb(t,e){const n=t.allWrites.findIndex(c=>c.writeId===e);F(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,l=!1,a=t.allWrites.length-1;for(;s&&a>=0;){const c=t.allWrites[a];c.visible&&(a>=n&&ob(c,r.path)?s=!1:xn(r.path,c.path)&&(l=!0)),a--}if(s){if(l)return lb(t),!0;if(r.snap)t.visibleWrites=W0(t.visibleWrites,r.path);else{const c=r.children;Bt(c,d=>{t.visibleWrites=W0(t.visibleWrites,Je(r.path,d))})}return!0}else return!1}function ob(t,e){if(t.snap)return xn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&xn(Je(t.path,n),e))return!0;return!1}function lb(t){t.visibleWrites=TS(t.allWrites,ab,ve()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function ab(t){return t.visible}function TS(t,e,n){let r=Ln.empty();for(let s=0;s<t.length;++s){const l=t[s];if(e(l)){const a=l.path;let c;if(l.snap)xn(n,a)?(c=kt(n,a),r=ml(r,c,l.snap)):xn(a,n)&&(c=kt(a,n),r=ml(r,ve(),l.snap.getChild(c)));else if(l.children){if(xn(n,a))c=kt(n,a),r=U0(r,c,l.children);else if(xn(a,n))if(c=kt(a,n),fe(c))r=U0(r,ve(),l.children);else{const d=qs(l.children,ae(c));if(d){const h=d.getChild(Ne(c));r=ml(r,ve(),h)}}}else throw so("WriteRecord should have .snap or .children")}}return r}function kS(t,e,n,r,s){if(!r&&!s){const l=Xi(t.visibleWrites,e);if(l!=null)return l;{const a=ti(t.visibleWrites,e);if(Np(a))return n;if(n==null&&!Rp(a,ve()))return null;{const c=n||J.EMPTY_NODE;return Zs(a,c)}}}else{const l=ti(t.visibleWrites,e);if(!s&&Np(l))return n;if(!s&&n==null&&!Rp(l,ve()))return null;{const a=function(h){return(h.visible||s)&&(!r||!~r.indexOf(h.writeId))&&(xn(h.path,e)||xn(e,h.path))},c=TS(t.allWrites,a,e),d=n||J.EMPTY_NODE;return Zs(c,d)}}}function ub(t,e,n){let r=J.EMPTY_NODE;const s=Xi(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(He,(l,a)=>{r=r.updateImmediateChild(l,a)}),r;if(n){const l=ti(t.visibleWrites,e);return n.forEachChild(He,(a,c)=>{const d=Zs(ti(l,new ke(a)),c);r=r.updateImmediateChild(a,d)}),z0(l).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}else{const l=ti(t.visibleWrites,e);return z0(l).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}}function cb(t,e,n,r,s){F(r||s,"Either existingEventSnap or existingServerSnap must exist");const l=Je(e,n);if(Rp(t.visibleWrites,l))return null;{const a=ti(t.visibleWrites,l);return Np(a)?s.getChild(n):Zs(a,s.getChild(n))}}function fb(t,e,n,r){const s=Je(e,n),l=Xi(t.visibleWrites,s);if(l!=null)return l;if(r.isCompleteForChild(n)){const a=ti(t.visibleWrites,s);return Zs(a,r.getNode().getImmediateChild(n))}else return null}function db(t,e){return Xi(t.visibleWrites,e)}function hb(t,e,n,r,s,l,a){let c;const d=ti(t.visibleWrites,e),h=Xi(d,ve());if(h!=null)c=h;else if(n!=null)c=Zs(d,n);else return[];if(c=c.withIndex(a),!c.isEmpty()&&!c.isLeafNode()){const v=[],m=a.getCompare(),y=l?c.getReverseIteratorFrom(r,a):c.getIteratorFrom(r,a);let R=y.getNext();for(;R&&v.length<s;)m(R,r)!==0&&v.push(R),R=y.getNext();return v}else return[]}function pb(){return{visibleWrites:Ln.empty(),allWrites:[],lastWriteId:-1}}function Ic(t,e,n,r){return kS(t.writeTree,t.treePath,e,n,r)}function qg(t,e){return ub(t.writeTree,t.treePath,e)}function B0(t,e,n,r){return cb(t.writeTree,t.treePath,e,n,r)}function Tc(t,e){return db(t.writeTree,Je(t.treePath,e))}function gb(t,e,n,r,s,l){return hb(t.writeTree,t.treePath,e,n,r,s,l)}function Qg(t,e,n){return fb(t.writeTree,t.treePath,e,n)}function RS(t,e){return NS(Je(t.treePath,e),t.writeTree)}function NS(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;F(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),F(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const l=s.type;if(n==="child_added"&&l==="child_removed")this.changeMap.set(r,Hl(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&l==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&l==="child_changed")this.changeMap.set(r,Bl(r,s.oldSnap));else if(n==="child_changed"&&l==="child_added")this.changeMap.set(r,Js(r,e.snapshotNode));else if(n==="child_changed"&&l==="child_changed")this.changeMap.set(r,Hl(r,e.snapshotNode,s.oldSnap));else throw so("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const xS=new mb;class Xg{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new li(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Qg(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ji(this.viewCache_),l=gb(this.writes_,s,n,1,r,e);return l.length===0?null:l[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(t){return{filter:t}}function yb(t,e){F(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),F(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function wb(t,e,n,r,s){const l=new _b;let a,c;if(n.type===An.OVERWRITE){const h=n;h.source.fromUser?a=xp(t,e,h.path,h.snap,r,s,l):(F(h.source.fromServer,"Unknown source."),c=h.source.tagged||e.serverCache.isFiltered()&&!fe(h.path),a=kc(t,e,h.path,h.snap,r,s,c,l))}else if(n.type===An.MERGE){const h=n;h.source.fromUser?a=Sb(t,e,h.path,h.children,r,s,l):(F(h.source.fromServer,"Unknown source."),c=h.source.tagged||e.serverCache.isFiltered(),a=Ap(t,e,h.path,h.children,r,s,c,l))}else if(n.type===An.ACK_USER_WRITE){const h=n;h.revert?a=Tb(t,e,h.path,r,s,l):a=Cb(t,e,h.path,h.affectedTree,r,s,l)}else if(n.type===An.LISTEN_COMPLETE)a=Ib(t,e,n.path,r,l);else throw so("Unknown operation type: "+n.type);const d=l.getChanges();return Eb(e,a,d),{viewCache:a,changes:d}}function Eb(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),l=Cc(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(l)||!r.getNode().getPriority().equals(l.getPriority()))&&n.push(wS(Cc(e)))}}function AS(t,e,n,r,s,l){const a=e.eventCache;if(Tc(r,n)!=null)return e;{let c,d;if(fe(n))if(F(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const h=ji(e),v=h instanceof J?h:J.EMPTY_NODE,m=qg(r,v);c=t.filter.updateFullNode(e.eventCache.getNode(),m,l)}else{const h=Ic(r,ji(e));c=t.filter.updateFullNode(e.eventCache.getNode(),h,l)}else{const h=ae(n);if(h===".priority"){F(oi(n)===1,"Can't have a priority with additional path components");const v=a.getNode();d=e.serverCache.getNode();const m=B0(r,n,v,d);m!=null?c=t.filter.updatePriority(v,m):c=a.getNode()}else{const v=Ne(n);let m;if(a.isCompleteForChild(h)){d=e.serverCache.getNode();const y=B0(r,n,a.getNode(),d);y!=null?m=a.getNode().getImmediateChild(h).updateChild(v,y):m=a.getNode().getImmediateChild(h)}else m=Qg(r,h,e.serverCache);m!=null?c=t.filter.updateChild(a.getNode(),h,m,v,s,l):c=a.getNode()}}return _l(e,c,a.isFullyInitialized()||fe(n),t.filter.filtersNodes())}}function kc(t,e,n,r,s,l,a,c){const d=e.serverCache;let h;const v=a?t.filter:t.filter.getIndexedFilter();if(fe(n))h=v.updateFullNode(d.getNode(),r,null);else if(v.filtersNodes()&&!d.isFiltered()){const R=d.getNode().updateChild(n,r);h=v.updateFullNode(d.getNode(),R,null)}else{const R=ae(n);if(!d.isCompleteForPath(n)&&oi(n)>1)return e;const N=Ne(n),j=d.getNode().getImmediateChild(R).updateChild(N,r);R===".priority"?h=v.updatePriority(d.getNode(),j):h=v.updateChild(d.getNode(),R,j,N,xS,null)}const m=CS(e,h,d.isFullyInitialized()||fe(n),v.filtersNodes()),y=new Xg(s,m,l);return AS(t,m,n,s,y,c)}function xp(t,e,n,r,s,l,a){const c=e.eventCache;let d,h;const v=new Xg(s,e,l);if(fe(n))h=t.filter.updateFullNode(e.eventCache.getNode(),r,a),d=_l(e,h,!0,t.filter.filtersNodes());else{const m=ae(n);if(m===".priority")h=t.filter.updatePriority(e.eventCache.getNode(),r),d=_l(e,h,c.isFullyInitialized(),c.isFiltered());else{const y=Ne(n),R=c.getNode().getImmediateChild(m);let N;if(fe(y))N=r;else{const P=v.getCompleteChild(m);P!=null?fS(y)===".priority"&&P.getChild(hS(y)).isEmpty()?N=P:N=P.updateChild(y,r):N=J.EMPTY_NODE}if(R.equals(N))d=e;else{const P=t.filter.updateChild(c.getNode(),m,N,y,v,a);d=_l(e,P,c.isFullyInitialized(),t.filter.filtersNodes())}}}return d}function H0(t,e){return t.eventCache.isCompleteForChild(e)}function Sb(t,e,n,r,s,l,a){let c=e;return r.foreach((d,h)=>{const v=Je(n,d);H0(e,ae(v))&&(c=xp(t,c,v,h,s,l,a))}),r.foreach((d,h)=>{const v=Je(n,d);H0(e,ae(v))||(c=xp(t,c,v,h,s,l,a))}),c}function $0(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function Ap(t,e,n,r,s,l,a,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let d=e,h;fe(n)?h=r:h=new Oe(null).setTree(n,r);const v=e.serverCache.getNode();return h.children.inorderTraversal((m,y)=>{if(v.hasChild(m)){const R=e.serverCache.getNode().getImmediateChild(m),N=$0(t,R,y);d=kc(t,d,new ke(m),N,s,l,a,c)}}),h.children.inorderTraversal((m,y)=>{const R=!e.serverCache.isCompleteForChild(m)&&y.value===null;if(!v.hasChild(m)&&!R){const N=e.serverCache.getNode().getImmediateChild(m),P=$0(t,N,y);d=kc(t,d,new ke(m),P,s,l,a,c)}}),d}function Cb(t,e,n,r,s,l,a){if(Tc(s,n)!=null)return e;const c=e.serverCache.isFiltered(),d=e.serverCache;if(r.value!=null){if(fe(n)&&d.isFullyInitialized()||d.isCompleteForPath(n))return kc(t,e,n,d.getNode().getChild(n),s,l,c,a);if(fe(n)){let h=new Oe(null);return d.getNode().forEachChild(Ws,(v,m)=>{h=h.set(new ke(v),m)}),Ap(t,e,n,h,s,l,c,a)}else return e}else{let h=new Oe(null);return r.foreach((v,m)=>{const y=Je(n,v);d.isCompleteForPath(y)&&(h=h.set(v,d.getNode().getChild(y)))}),Ap(t,e,n,h,s,l,c,a)}}function Ib(t,e,n,r,s){const l=e.serverCache,a=CS(e,l.getNode(),l.isFullyInitialized()||fe(n),l.isFiltered());return AS(t,a,n,r,xS,s)}function Tb(t,e,n,r,s,l){let a;if(Tc(r,n)!=null)return e;{const c=new Xg(r,e,s),d=e.eventCache.getNode();let h;if(fe(n)||ae(n)===".priority"){let v;if(e.serverCache.isFullyInitialized())v=Ic(r,ji(e));else{const m=e.serverCache.getNode();F(m instanceof J,"serverChildren would be complete if leaf node"),v=qg(r,m)}v=v,h=t.filter.updateFullNode(d,v,l)}else{const v=ae(n);let m=Qg(r,v,e.serverCache);m==null&&e.serverCache.isCompleteForChild(v)&&(m=d.getImmediateChild(v)),m!=null?h=t.filter.updateChild(d,v,m,Ne(n),c,l):e.eventCache.getNode().hasChild(v)?h=t.filter.updateChild(d,v,J.EMPTY_NODE,Ne(n),c,l):h=d,h.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=Ic(r,ji(e)),a.isLeafNode()&&(h=t.filter.updateFullNode(h,a,l)))}return a=e.serverCache.isFullyInitialized()||Tc(r,ve())!=null,_l(e,h,a,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new Gg(r.getIndex()),l=G2(r);this.processor_=vb(l);const a=n.serverCache,c=n.eventCache,d=s.updateFullNode(J.EMPTY_NODE,a.getNode(),null),h=l.updateFullNode(J.EMPTY_NODE,c.getNode(),null),v=new li(d,a.isFullyInitialized(),s.filtersNodes()),m=new li(h,c.isFullyInitialized(),l.filtersNodes());this.viewCache_=Zc(m,v),this.eventGenerator_=new J2(this.query_)}get query(){return this.query_}}function Rb(t){return t.viewCache_.serverCache.getNode()}function Nb(t){return Cc(t.viewCache_)}function xb(t,e){const n=ji(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!fe(e)&&!n.getImmediateChild(ae(e)).isEmpty())?n.getChild(e):null}function V0(t){return t.eventRegistrations_.length===0}function Ab(t,e){t.eventRegistrations_.push(e)}function G0(t,e,n){const r=[];if(n){F(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(l=>{const a=l.createCancelEvent(n,s);a&&r.push(a)})}if(e){let s=[];for(let l=0;l<t.eventRegistrations_.length;++l){const a=t.eventRegistrations_[l];if(!a.matches(e))s.push(a);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(l+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function j0(t,e,n,r){e.type===An.MERGE&&e.source.queryId!==null&&(F(ji(t.viewCache_),"We should always have a full cache before handling merges"),F(Cc(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,l=wb(t.processor_,s,e,n,r);return yb(t.processor_,l.viewCache),F(l.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=l.viewCache,PS(t,l.changes,l.viewCache.eventCache.getNode(),null)}function Pb(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(He,(l,a)=>{r.push(Js(l,a))}),n.isFullyInitialized()&&r.push(wS(n.getNode())),PS(t,r,n.getNode(),e)}function PS(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return Z2(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rc;class OS{constructor(){this.views=new Map}}function Ob(t){F(!Rc,"__referenceConstructor has already been defined"),Rc=t}function Lb(){return F(Rc,"Reference.ts has not been loaded"),Rc}function Db(t){return t.views.size===0}function Jg(t,e,n,r){const s=e.source.queryId;if(s!==null){const l=t.views.get(s);return F(l!=null,"SyncTree gave us an op for an invalid query."),j0(l,e,n,r)}else{let l=[];for(const a of t.views.values())l=l.concat(j0(a,e,n,r));return l}}function LS(t,e,n,r,s){const l=e._queryIdentifier,a=t.views.get(l);if(!a){let c=Ic(n,s?r:null),d=!1;c?d=!0:r instanceof J?(c=qg(n,r),d=!1):(c=J.EMPTY_NODE,d=!1);const h=Zc(new li(c,d,!1),new li(r,s,!1));return new kb(e,h)}return a}function Mb(t,e,n,r,s,l){const a=LS(t,e,r,s,l);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),Ab(a,n),Pb(a,n)}function bb(t,e,n,r){const s=e._queryIdentifier,l=[];let a=[];const c=ai(t);if(s==="default")for(const[d,h]of t.views.entries())a=a.concat(G0(h,n,r)),V0(h)&&(t.views.delete(d),h.query._queryParams.loadsAllData()||l.push(h.query));else{const d=t.views.get(s);d&&(a=a.concat(G0(d,n,r)),V0(d)&&(t.views.delete(s),d.query._queryParams.loadsAllData()||l.push(d.query)))}return c&&!ai(t)&&l.push(new(Lb())(e._repo,e._path)),{removed:l,events:a}}function DS(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ni(t,e){let n=null;for(const r of t.views.values())n=n||xb(r,e);return n}function MS(t,e){if(e._queryParams.loadsAllData())return tf(t);{const r=e._queryIdentifier;return t.views.get(r)}}function bS(t,e){return MS(t,e)!=null}function ai(t){return tf(t)!=null}function tf(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nc;function Fb(t){F(!Nc,"__referenceConstructor has already been defined"),Nc=t}function Ub(){return F(Nc,"Reference.ts has not been loaded"),Nc}let Wb=1;class K0{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Oe(null),this.pendingWriteTree_=pb(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function FS(t,e,n,r,s){return rb(t.pendingWriteTree_,e,n,r,s),s?la(t,new Gi(SS(),e,n)):[]}function Oi(t,e,n=!1){const r=ib(t.pendingWriteTree_,e);if(sb(t.pendingWriteTree_,e)){let l=new Oe(null);return r.snap!=null?l=l.set(ve(),!0):Bt(r.children,a=>{l=l.set(new ke(a),!0)}),la(t,new Sc(r.path,l,n))}else return[]}function oa(t,e,n){return la(t,new Gi(Kg(),e,n))}function zb(t,e,n){const r=Oe.fromObject(n);return la(t,new Gl(Kg(),e,r))}function Bb(t,e){return la(t,new Vl(Kg(),e))}function Hb(t,e,n){const r=e_(t,n);if(r){const s=t_(r),l=s.path,a=s.queryId,c=kt(l,e),d=new Vl(Yg(a),c);return n_(t,l,d)}else return[]}function xc(t,e,n,r,s=!1){const l=e._path,a=t.syncPointTree_.get(l);let c=[];if(a&&(e._queryIdentifier==="default"||bS(a,e))){const d=bb(a,e,n,r);Db(a)&&(t.syncPointTree_=t.syncPointTree_.remove(l));const h=d.removed;if(c=d.events,!s){const v=h.findIndex(y=>y._queryParams.loadsAllData())!==-1,m=t.syncPointTree_.findOnPath(l,(y,R)=>ai(R));if(v&&!m){const y=t.syncPointTree_.subtree(l);if(!y.isEmpty()){const R=Gb(y);for(let N=0;N<R.length;++N){const P=R[N],j=P.query,C=BS(t,P);t.listenProvider_.startListening(vl(j),jl(t,j),C.hashFn,C.onComplete)}}}!m&&h.length>0&&!r&&(v?t.listenProvider_.stopListening(vl(e),null):h.forEach(y=>{const R=t.queryToTagMap.get(nf(y));t.listenProvider_.stopListening(vl(y),R)}))}jb(t,h)}return c}function US(t,e,n,r){const s=e_(t,r);if(s!=null){const l=t_(s),a=l.path,c=l.queryId,d=kt(a,e),h=new Gi(Yg(c),d,n);return n_(t,a,h)}else return[]}function $b(t,e,n,r){const s=e_(t,r);if(s){const l=t_(s),a=l.path,c=l.queryId,d=kt(a,e),h=Oe.fromObject(n),v=new Gl(Yg(c),d,h);return n_(t,a,v)}else return[]}function Pp(t,e,n,r=!1){const s=e._path;let l=null,a=!1;t.syncPointTree_.foreachOnPath(s,(y,R)=>{const N=kt(y,s);l=l||ni(R,N),a=a||ai(R)});let c=t.syncPointTree_.get(s);c?(a=a||ai(c),l=l||ni(c,ve())):(c=new OS,t.syncPointTree_=t.syncPointTree_.set(s,c));let d;l!=null?d=!0:(d=!1,l=J.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((R,N)=>{const P=ni(N,ve());P&&(l=l.updateImmediateChild(R,P))}));const h=bS(c,e);if(!h&&!e._queryParams.loadsAllData()){const y=nf(e);F(!t.queryToTagMap.has(y),"View does not exist, but we have a tag");const R=Kb();t.queryToTagMap.set(y,R),t.tagToQueryMap.set(R,y)}const v=ef(t.pendingWriteTree_,s);let m=Mb(c,e,n,v,l,d);if(!h&&!a&&!r){const y=MS(c,e);m=m.concat(Yb(t,e,y))}return m}function Zg(t,e,n){const s=t.pendingWriteTree_,l=t.syncPointTree_.findOnPath(e,(a,c)=>{const d=kt(a,e),h=ni(c,d);if(h)return h});return kS(s,e,l,n,!0)}function Vb(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(h,v)=>{const m=kt(h,n);r=r||ni(v,m)});let s=t.syncPointTree_.get(n);s?r=r||ni(s,ve()):(s=new OS,t.syncPointTree_=t.syncPointTree_.set(n,s));const l=r!=null,a=l?new li(r,!0,!1):null,c=ef(t.pendingWriteTree_,e._path),d=LS(s,e,c,l?a.getNode():J.EMPTY_NODE,l);return Nb(d)}function la(t,e){return WS(e,t.syncPointTree_,null,ef(t.pendingWriteTree_,ve()))}function WS(t,e,n,r){if(fe(t.path))return zS(t,e,n,r);{const s=e.get(ve());n==null&&s!=null&&(n=ni(s,ve()));let l=[];const a=ae(t.path),c=t.operationForChild(a),d=e.children.get(a);if(d&&c){const h=n?n.getImmediateChild(a):null,v=RS(r,a);l=l.concat(WS(c,d,h,v))}return s&&(l=l.concat(Jg(s,t,r,n))),l}}function zS(t,e,n,r){const s=e.get(ve());n==null&&s!=null&&(n=ni(s,ve()));let l=[];return e.children.inorderTraversal((a,c)=>{const d=n?n.getImmediateChild(a):null,h=RS(r,a),v=t.operationForChild(a);v&&(l=l.concat(zS(v,c,d,h)))}),s&&(l=l.concat(Jg(s,t,r,n))),l}function BS(t,e){const n=e.query,r=jl(t,n);return{hashFn:()=>(Rb(e)||J.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?Hb(t,n._path,r):Bb(t,n._path);{const l=VM(s,n);return xc(t,n,null,l)}}}}function jl(t,e){const n=nf(e);return t.queryToTagMap.get(n)}function nf(t){return t._path.toString()+"$"+t._queryIdentifier}function e_(t,e){return t.tagToQueryMap.get(e)}function t_(t){const e=t.indexOf("$");return F(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ke(t.substr(0,e))}}function n_(t,e,n){const r=t.syncPointTree_.get(e);F(r,"Missing sync point for query tag that we're tracking");const s=ef(t.pendingWriteTree_,e);return Jg(r,n,s,null)}function Gb(t){return t.fold((e,n,r)=>{if(n&&ai(n))return[tf(n)];{let s=[];return n&&(s=DS(n)),Bt(r,(l,a)=>{s=s.concat(a)}),s}})}function vl(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Ub())(t._repo,t._path):t}function jb(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=nf(r),l=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(l)}}}function Kb(){return Wb++}function Yb(t,e,n){const r=e._path,s=jl(t,e),l=BS(t,n),a=t.listenProvider_.startListening(vl(e),s,l.hashFn,l.onComplete),c=t.syncPointTree_.subtree(r);if(s)F(!ai(c.value),"If we're adding a query, it shouldn't be shadowed");else{const d=c.fold((h,v,m)=>{if(!fe(h)&&v&&ai(v))return[tf(v).query];{let y=[];return v&&(y=y.concat(DS(v).map(R=>R.query))),Bt(m,(R,N)=>{y=y.concat(N)}),y}});for(let h=0;h<d.length;++h){const v=d[h];t.listenProvider_.stopListening(vl(v),jl(t,v))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new r_(n)}node(){return this.node_}}class i_{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Je(this.path_,e);return new i_(this.syncTree_,n)}node(){return Zg(this.syncTree_,this.path_)}}const qb=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Y0=function(t,e,n){if(!t||typeof t!="object")return t;if(F(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Qb(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Xb(t[".sv"],e);F(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Qb=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:F(!1,"Unexpected server value: "+t)}},Xb=function(t,e,n){t.hasOwnProperty("increment")||F(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&F(!1,"Unexpected increment value: "+r);const s=e.node();if(F(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const a=s.getValue();return typeof a!="number"?r:a+r},Jb=function(t,e,n,r){return s_(e,new i_(n,t),r)},HS=function(t,e,n){return s_(t,new r_(e),n)};function s_(t,e,n){const r=t.getPriority().val(),s=Y0(r,e.getImmediateChild(".priority"),n);let l;if(t.isLeafNode()){const a=t,c=Y0(a.getValue(),e,n);return c!==a.getValue()||s!==a.getPriority().val()?new tt(c,it(s)):t}else{const a=t;return l=a,s!==a.getPriority().val()&&(l=l.updatePriority(new tt(s))),a.forEachChild(He,(c,d)=>{const h=s_(d,e.getImmediateChild(c),n);h!==d&&(l=l.updateImmediateChild(c,h))}),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function l_(t,e){let n=e instanceof ke?e:new ke(e),r=t,s=ae(n);for(;s!==null;){const l=qs(r.node.children,s)||{children:{},childCount:0};r=new o_(s,r,l),n=Ne(n),s=ae(n)}return r}function uo(t){return t.node.value}function $S(t,e){t.node.value=e,Op(t)}function VS(t){return t.node.childCount>0}function Zb(t){return uo(t)===void 0&&!VS(t)}function rf(t,e){Bt(t.node.children,(n,r)=>{e(new o_(n,t,r))})}function GS(t,e,n,r){n&&!r&&e(t),rf(t,s=>{GS(s,e,!0,r)}),n&&r&&e(t)}function eF(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function aa(t){return new ke(t.parent===null?t.name:aa(t.parent)+"/"+t.name)}function Op(t){t.parent!==null&&tF(t.parent,t.name,t)}function tF(t,e,n){const r=Zb(n),s=Sr(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,Op(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Op(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF=/[\[\].#$\/\u0000-\u001F\u007F]/,rF=/[\[\].#$\u0000-\u001F\u007F]/,mh=10*1024*1024,jS=function(t){return typeof t=="string"&&t.length!==0&&!nF.test(t)},KS=function(t){return typeof t=="string"&&t.length!==0&&!rF.test(t)},iF=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),KS(t)},YS=function(t,e,n,r){r&&e===void 0||a_(Dg(t,"value"),e,n)},a_=function(t,e,n){const r=n instanceof ke?new C2(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ri(r));if(typeof e=="function")throw new Error(t+"contains a function "+Ri(r)+" with contents = "+e.toString());if(V1(e))throw new Error(t+"contains "+e.toString()+" "+Ri(r));if(typeof e=="string"&&e.length>mh/3&&Xc(e)>mh)throw new Error(t+"contains a string greater than "+mh+" utf8 bytes "+Ri(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,l=!1;if(Bt(e,(a,c)=>{if(a===".value")s=!0;else if(a!==".priority"&&a!==".sv"&&(l=!0,!jS(a)))throw new Error(t+" contains an invalid key ("+a+") "+Ri(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);I2(r,a),a_(t,c,r),T2(r)}),s&&l)throw new Error(t+' contains ".value" child '+Ri(r)+" in addition to actual children.")}},qS=function(t,e,n,r){if(!(r&&n===void 0)&&!KS(n))throw new Error(Dg(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},sF=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),qS(t,e,n,r)},u_=function(t,e){if(ae(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},oF=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!jS(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!iF(n))throw new Error(Dg(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function c_(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],l=s.getPath();n!==null&&!Hg(l,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:l}),n.events.push(s)}n&&t.eventLists_.push(n)}function QS(t,e,n){c_(t,n),XS(t,r=>Hg(r,e))}function Kn(t,e,n){c_(t,n),XS(t,r=>xn(r,e)||xn(e,r))}function XS(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const l=s.path;e(l)?(aF(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function aF(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Mi&&mt("event: "+n.toString()),ao(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF="repo_interrupt",cF=25;class fF{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new lF,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ec(),this.transactionQueueTree_=new o_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function dF(t,e,n){if(t.stats_=zg(t.repoInfo_),t.forceRestClient_||YM())t.server_=new wc(t.repoInfo_,(r,s,l,a)=>{q0(t,r,s,l,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Q0(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Xe(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new pr(t.repoInfo_,e,(r,s,l,a)=>{q0(t,r,s,l,a)},r=>{Q0(t,r)},r=>{hF(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=ZM(t.repoInfo_,()=>new X2(t.stats_,t.server_)),t.infoData_=new j2,t.infoSyncTree_=new K0({startListening:(r,s,l,a)=>{let c=[];const d=t.infoData_.getNode(r._path);return d.isEmpty()||(c=oa(t.infoSyncTree_,r._path,d),setTimeout(()=>{a("ok")},0)),c},stopListening:()=>{}}),d_(t,"connected",!1),t.serverSyncTree_=new K0({startListening:(r,s,l,a)=>(t.server_.listen(r,l,s,(c,d)=>{const h=a(c,d);Kn(t.eventQueue_,r._path,h)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function JS(t){const n=t.infoData_.getNode(new ke(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function f_(t){return qb({timestamp:JS(t)})}function q0(t,e,n,r,s){t.dataUpdateCount++;const l=new ke(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let a=[];if(s)if(r){const d=pc(n,h=>it(h));a=$b(t.serverSyncTree_,l,d,s)}else{const d=it(n);a=US(t.serverSyncTree_,l,d,s)}else if(r){const d=pc(n,h=>it(h));a=zb(t.serverSyncTree_,l,d)}else{const d=it(n);a=oa(t.serverSyncTree_,l,d)}let c=l;a.length>0&&(c=of(t,l)),Kn(t.eventQueue_,c,a)}function Q0(t,e){d_(t,"connected",e),e===!1&&_F(t)}function hF(t,e){Bt(e,(n,r)=>{d_(t,n,r)})}function d_(t,e,n){const r=new ke("/.info/"+e),s=it(n);t.infoData_.updateSnapshot(r,s);const l=oa(t.infoSyncTree_,r,s);Kn(t.eventQueue_,r,l)}function ZS(t){return t.nextWriteId_++}function pF(t,e,n){const r=Vb(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(s=>{const l=it(s).withIndex(e._queryParams.getIndex());Pp(t.serverSyncTree_,e,n,!0);let a;if(e._queryParams.loadsAllData())a=oa(t.serverSyncTree_,e._path,l);else{const c=jl(t.serverSyncTree_,e);a=US(t.serverSyncTree_,e._path,l,c)}return Kn(t.eventQueue_,e._path,a),xc(t.serverSyncTree_,e,n,null,!0),l},s=>(sf(t,"get for query "+Xe(e)+" failed: "+s),Promise.reject(new Error(s))))}function gF(t,e,n,r,s){sf(t,"set",{path:e.toString(),value:n,priority:r});const l=f_(t),a=it(n,r),c=Zg(t.serverSyncTree_,e),d=HS(a,c,l),h=ZS(t),v=FS(t.serverSyncTree_,e,d,h,!0);c_(t.eventQueue_,v),t.server_.put(e.toString(),a.val(!0),(y,R)=>{const N=y==="ok";N||zt("set at "+e+" failed: "+y);const P=Oi(t.serverSyncTree_,h,!N);Kn(t.eventQueue_,e,P),yF(t,s,y,R)});const m=iC(t,e);of(t,m),Kn(t.eventQueue_,m,[])}function _F(t){sf(t,"onDisconnectEvents");const e=f_(t),n=Ec();kp(t.onDisconnect_,ve(),(s,l)=>{const a=Jb(s,l,t.serverSyncTree_,e);ES(n,s,a)});let r=[];kp(n,ve(),(s,l)=>{r=r.concat(oa(t.serverSyncTree_,s,l));const a=iC(t,s);of(t,a)}),t.onDisconnect_=Ec(),Kn(t.eventQueue_,ve(),r)}function mF(t,e,n){let r;ae(e._path)===".info"?r=Pp(t.infoSyncTree_,e,n):r=Pp(t.serverSyncTree_,e,n),QS(t.eventQueue_,e._path,r)}function Lp(t,e,n){let r;ae(e._path)===".info"?r=xc(t.infoSyncTree_,e,n):r=xc(t.serverSyncTree_,e,n),QS(t.eventQueue_,e._path,r)}function vF(t){t.persistentConnection_&&t.persistentConnection_.interrupt(uF)}function sf(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),mt(n,...e)}function yF(t,e,n,r){e&&ao(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let l=s;r&&(l+=": "+r);const a=new Error(l);a.code=s,e(a)}})}function eC(t,e,n){return Zg(t.serverSyncTree_,e,n)||J.EMPTY_NODE}function h_(t,e=t.transactionQueueTree_){if(e||lf(t,e),uo(e)){const n=nC(t,e);F(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&wF(t,aa(e),n)}else VS(e)&&rf(e,n=>{h_(t,n)})}function wF(t,e,n){const r=n.map(h=>h.currentWriteId),s=eC(t,e,r);let l=s;const a=s.hash();for(let h=0;h<n.length;h++){const v=n[h];F(v.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),v.status=1,v.retryCount++;const m=kt(e,v.path);l=l.updateChild(m,v.currentOutputSnapshotRaw)}const c=l.val(!0),d=e;t.server_.put(d.toString(),c,h=>{sf(t,"transaction put response",{path:d.toString(),status:h});let v=[];if(h==="ok"){const m=[];for(let y=0;y<n.length;y++)n[y].status=2,v=v.concat(Oi(t.serverSyncTree_,n[y].currentWriteId)),n[y].onComplete&&m.push(()=>n[y].onComplete(null,!0,n[y].currentOutputSnapshotResolved)),n[y].unwatcher();lf(t,l_(t.transactionQueueTree_,e)),h_(t,t.transactionQueueTree_),Kn(t.eventQueue_,e,v);for(let y=0;y<m.length;y++)ao(m[y])}else{if(h==="datastale")for(let m=0;m<n.length;m++)n[m].status===3?n[m].status=4:n[m].status=0;else{zt("transaction at "+d.toString()+" failed: "+h);for(let m=0;m<n.length;m++)n[m].status=4,n[m].abortReason=h}of(t,e)}},a)}function of(t,e){const n=tC(t,e),r=aa(n),s=nC(t,n);return EF(t,s,r),r}function EF(t,e,n){if(e.length===0)return;const r=[];let s=[];const a=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const d=e[c],h=kt(n,d.path);let v=!1,m;if(F(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)v=!0,m=d.abortReason,s=s.concat(Oi(t.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=cF)v=!0,m="maxretry",s=s.concat(Oi(t.serverSyncTree_,d.currentWriteId,!0));else{const y=eC(t,d.path,a);d.currentInputSnapshot=y;const R=e[c].update(y.val());if(R!==void 0){a_("transaction failed: Data returned ",R,d.path);let N=it(R);typeof R=="object"&&R!=null&&Sr(R,".priority")||(N=N.updatePriority(y.getPriority()));const j=d.currentWriteId,C=f_(t),E=HS(N,y,C);d.currentOutputSnapshotRaw=N,d.currentOutputSnapshotResolved=E,d.currentWriteId=ZS(t),a.splice(a.indexOf(j),1),s=s.concat(FS(t.serverSyncTree_,d.path,E,d.currentWriteId,d.applyLocally)),s=s.concat(Oi(t.serverSyncTree_,j,!0))}else v=!0,m="nodata",s=s.concat(Oi(t.serverSyncTree_,d.currentWriteId,!0))}Kn(t.eventQueue_,n,s),s=[],v&&(e[c].status=2,function(y){setTimeout(y,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(m==="nodata"?r.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):r.push(()=>e[c].onComplete(new Error(m),!1,null))))}lf(t,t.transactionQueueTree_);for(let c=0;c<r.length;c++)ao(r[c]);h_(t,t.transactionQueueTree_)}function tC(t,e){let n,r=t.transactionQueueTree_;for(n=ae(e);n!==null&&uo(r)===void 0;)r=l_(r,n),e=Ne(e),n=ae(e);return r}function nC(t,e){const n=[];return rC(t,e,n),n.sort((r,s)=>r.order-s.order),n}function rC(t,e,n){const r=uo(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);rf(e,s=>{rC(t,s,n)})}function lf(t,e){const n=uo(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,$S(e,n.length>0?n:void 0)}rf(e,r=>{lf(t,r)})}function iC(t,e){const n=aa(tC(t,e)),r=l_(t.transactionQueueTree_,e);return eF(r,s=>{vh(t,s)}),vh(t,r),GS(r,s=>{vh(t,s)}),n}function vh(t,e){const n=uo(e);if(n){const r=[];let s=[],l=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(F(l===a-1,"All SENT items should be at beginning of queue."),l=a,n[a].status=3,n[a].abortReason="set"):(F(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),s=s.concat(Oi(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));l===-1?$S(e,void 0):n.length=l+1,Kn(t.eventQueue_,aa(e),s);for(let a=0;a<r.length;a++)ao(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SF(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function CF(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):zt(`Invalid query segment '${n}' in query '${t}'`)}return e}const X0=function(t,e){const n=IF(t),r=n.namespace;n.domain==="firebase.com"&&yr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&yr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||WM();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new nS(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new ke(n.pathString)}},IF=function(t){let e="",n="",r="",s="",l="",a=!0,c="https",d=443;if(typeof t=="string"){let h=t.indexOf("//");h>=0&&(c=t.substring(0,h-1),t=t.substring(h+2));let v=t.indexOf("/");v===-1&&(v=t.length);let m=t.indexOf("?");m===-1&&(m=t.length),e=t.substring(0,Math.min(v,m)),v<m&&(s=SF(t.substring(v,m)));const y=CF(t.substring(Math.min(t.length,m)));h=e.indexOf(":"),h>=0?(a=c==="https"||c==="wss",d=parseInt(e.substring(h+1),10)):h=e.length;const R=e.slice(0,h);if(R.toLowerCase()==="localhost")n="localhost";else if(R.split(".").length<=2)n=R;else{const N=e.indexOf(".");r=e.substring(0,N).toLowerCase(),n=e.substring(N+1),l=r}"ns"in y&&(l=y.ns)}return{host:e,port:d,domain:n,subdomain:r,secure:a,scheme:c,pathString:s,namespace:l}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",TF=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let s;const l=new Array(8);for(s=7;s>=0;s--)l[s]=J0.charAt(n%64),n=Math.floor(n/64);F(n===0,"Cannot push at time == 0");let a=l.join("");if(r){for(s=11;s>=0&&e[s]===63;s--)e[s]=0;e[s]++}else for(s=0;s<12;s++)e[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)a+=J0.charAt(e[s]);return F(a.length===20,"nextPushId: Length should be 20."),a}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Xe(this.snapshot.exportVal())}}class oC{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return F(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return fe(this._path)?null:fS(this._path)}get ref(){return new Yn(this._repo,this._path)}get _queryIdentifier(){const e=b0(this._queryParams),n=Ug(e);return n==="{}"?"default":n}get _queryObject(){return b0(this._queryParams)}isEqual(e){if(e=ft(e),!(e instanceof g_))return!1;const n=this._repo===e._repo,r=Hg(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+S2(this._path)}}class Yn extends g_{constructor(e,n){super(e,n,new jg,!1)}get parent(){const e=hS(this._path);return e===null?null:new Yn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class eo{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ke(e),r=to(this.ref,e);return new eo(this._node.getChild(n),r,He)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new eo(s,to(this.ref,r),He)))}hasChild(e){const n=new ke(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function lC(t,e){return t=ft(t),t._checkNotDeleted("ref"),e!==void 0?to(t._root,e):t._root}function to(t,e){return t=ft(t),ae(t._path)===null?sF("child","path",e,!1):qS("child","path",e,!1),new Yn(t._repo,Je(t._path,e))}function kF(t,e){t=ft(t),u_("push",t._path),YS("push",e,t._path,!0);const n=JS(t._repo),r=TF(n),s=to(t,r),l=to(t,r);let a;return e!=null?a=af(l,e).then(()=>l):a=Promise.resolve(l),s.then=a.then.bind(a),s.catch=a.then.bind(a,void 0),s}function RF(t){return u_("remove",t._path),af(t,null)}function af(t,e){t=ft(t),u_("set",t._path),YS("set",e,t._path,!1);const n=new Qc;return gF(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function NF(t){t=ft(t);const e=new p_(()=>{}),n=new ua(e);return pF(t._repo,t,n).then(r=>new eo(r,new Yn(t._repo,t._path),t._queryParams.getIndex()))}class ua{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new sC("value",this,new eo(e.snapshotNode,new Yn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new oC(this,e,n):null}matches(e){return e instanceof ua?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class uf{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new oC(this,e,n):null}createEvent(e,n){F(e.childName!=null,"Child events should have a childName.");const r=to(new Yn(n._repo,n._path),e.childName),s=n._queryParams.getIndex();return new sC(e.type,this,new eo(e.snapshotNode,r,s),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof uf?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function xF(t,e,n,r,s){let l;if(typeof r=="object"&&(l=void 0,s=r),typeof r=="function"&&(l=r),s&&s.onlyOnce){const d=n,h=(v,m)=>{Lp(t._repo,t,c),d(v,m)};h.userCallback=n.userCallback,h.context=n.context,n=h}const a=new p_(n,l||void 0),c=e==="value"?new ua(a):new uf(e,a);return mF(t._repo,t,c),()=>Lp(t._repo,t,c)}function AF(t,e,n,r){return xF(t,"value",e,n,r)}function PF(t,e,n){let r=null;const s=n?new p_(n):null;e==="value"?r=new ua(s):e&&(r=new uf(e,s)),Lp(t._repo,t,r)}Ob(Yn);Fb(Yn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF="FIREBASE_DATABASE_EMULATOR_HOST",Dp={};let LF=!1;function DF(t,e,n,r){t.repoInfo_=new nS(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function MF(t,e,n,r,s){let l=r||t.options.databaseURL;l===void 0&&(t.options.projectId||yr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),mt("Using default host for project ",t.options.projectId),l=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=X0(l,s),c=a.repoInfo,d,h;typeof process<"u"&&process.env&&(h=process.env[OF]),h?(d=!0,l=`http://${h}?ns=${c.namespace}`,a=X0(l,s),c=a.repoInfo):d=!a.repoInfo.secure;const v=s&&d?new Us(Us.OWNER):new QM(t.name,t.options,e);oF("Invalid Firebase Database URL",a),fe(a.path)||yr("Database URL must point to the root of a Firebase Database (not including a child path).");const m=FF(c,t,v,new qM(t.name,n));return new UF(m,t)}function bF(t,e){const n=Dp[e];(!n||n[t.key]!==t)&&yr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),vF(t),delete n[t.key]}function FF(t,e,n,r){let s=Dp[e.name];s||(s={},Dp[e.name]=s);let l=s[t.toURLString()];return l&&yr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new fF(t,LF,n,r),s[t.toURLString()]=l,l}class UF{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(dF(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Yn(this._repo,ve())),this._rootInternal}_delete(){return this._rootInternal!==null&&(bF(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&yr("Cannot call "+e+" on a deleted database.")}}function WF(t=U1(),e){const n=Fg(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=cD("database");r&&zF(n,...r)}return n}function zF(t,e,n,r={}){t=ft(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&yr("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let l;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&yr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new Us(Us.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:dD(r.mockUserToken,t.app.options.projectId);l=new Us(a)}DF(s,e,n,l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BF(t){DM(na),Qs(new Hi("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),l=e.getProvider("app-check-internal");return MF(r,s,l,n)},"PUBLIC").setMultipleInstances(!0)),ei(y0,w0,t),ei(y0,w0,"esm2017")}pr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};pr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};BF();function __(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function aC(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HF=aC,uC=new ta("auth","Firebase",aC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=new Mg("@firebase/auth");function Uu(t,...e){Z0.logLevel<=Te.ERROR&&Z0.error(`Auth (${na}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(t,...e){throw m_(t,...e)}function Gn(t,...e){return m_(t,...e)}function $F(t,e,n){const r=Object.assign(Object.assign({},HF()),{[e]:n});return new ta("auth","Firebase",r).create(e,{appName:t.name})}function m_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return uC.create(t,...e)}function q(t,e,...n){if(!t)throw m_(e,...n)}function fr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Uu(e),new Error(e)}function wr(t,e){t||fr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=new Map;function dr(t){wr(t instanceof Function,"Expected a class definition");let e=ew.get(t);return e?(wr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ew.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VF(t,e){const n=Fg(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),l=n.getOptions();if(gc(l,e??{}))return s;Mn(s,"already-initialized")}return n.initialize({options:e})}function GF(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(dr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function jF(){return tw()==="http:"||tw()==="https:"}function tw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jF()||hD()||"connection"in navigator)?navigator.onLine:!0}function YF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n){this.shortDelay=e,this.longDelay=n,wr(n>e,"Short delay should be less than long delay!"),this.isMobile=Lg()||O1()}get(){return KF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(t,e){wr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QF=new ca(3e4,6e4);function co(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function fo(t,e,n,r,s={}){return fC(t,s,async()=>{let l={},a={};r&&(e==="GET"?a=r:l={body:JSON.stringify(r)});const c=oo(Object.assign({key:t.config.apiKey},a)).slice(1),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode),cC.fetch()(dC(t,t.config.apiHost,n,c),Object.assign({method:e,headers:d,referrerPolicy:"no-referrer"},l))})}async function fC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},qF),e);try{const s=new XF(t),l=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await l.json();if("needConfirmation"in a)throw Tu(t,"account-exists-with-different-credential",a);if(l.ok&&!("errorMessage"in a))return a;{const c=l.ok?a.errorMessage:a.error.message,[d,h]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tu(t,"credential-already-in-use",a);if(d==="EMAIL_EXISTS")throw Tu(t,"email-already-in-use",a);if(d==="USER_DISABLED")throw Tu(t,"user-disabled",a);const v=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw $F(t,v,h);Mn(t,v)}}catch(s){if(s instanceof di)throw s;Mn(t,"network-request-failed",{message:String(s)})}}async function fa(t,e,n,r,s={}){const l=await fo(t,e,n,r,s);return"mfaPendingCredential"in l&&Mn(t,"multi-factor-auth-required",{_serverResponse:l}),l}function dC(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?v_(t.config,s):`${t.config.apiScheme}://${s}`}class XF{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Gn(this.auth,"network-request-failed")),QF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Tu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Gn(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JF(t,e){return fo(t,"POST","/v1/accounts:delete",e)}async function ZF(t,e){return fo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eU(t,e=!1){const n=ft(t),r=await n.getIdToken(e),s=y_(r);q(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const l=typeof s.firebase=="object"?s.firebase:void 0,a=l==null?void 0:l.sign_in_provider;return{claims:s,token:r,authTime:yl(yh(s.auth_time)),issuedAtTime:yl(yh(s.iat)),expirationTime:yl(yh(s.exp)),signInProvider:a||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function yh(t){return Number(t)*1e3}function y_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Uu("JWT malformed, contained fewer than 3 sections"),null;try{const s=hc(n);return s?JSON.parse(s):(Uu("Failed to decode base64 JWT payload"),null)}catch(s){return Uu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function tU(t){const e=y_(t);return q(e,"internal-error"),q(typeof e.exp<"u","internal-error"),q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof di&&nU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function nU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yl(this.lastLoginAt),this.creationTime=yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ac(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Kl(t,ZF(n,{idToken:r}));q(s==null?void 0:s.users.length,n,"internal-error");const l=s.users[0];t._notifyReloadListener(l);const a=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?oU(l.providerUserInfo):[],c=sU(t.providerData,a),d=t.isAnonymous,h=!(t.email&&l.passwordHash)&&!(c!=null&&c.length),v=d?h:!1,m={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new hC(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(t,m)}async function iU(t){const e=ft(t);await Ac(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sU(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function oU(t){return t.map(e=>{var{providerId:n}=e,r=__(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lU(t,e){const n=await fC(t,{},async()=>{const r=oo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:l}=t.config,a=dC(t,s,"/v1/token",`key=${l}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",cC.fetch()(a,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){q(e.idToken,"internal-error"),q(typeof e.idToken<"u","internal-error"),q(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tU(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return q(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:l}=await lU(e,n);this.updateTokensAndExpiration(r,s,Number(l))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:l}=n,a=new Yl;return r&&(q(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(q(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),l&&(q(typeof l=="number","internal-error",{appName:e}),a.expirationTime=l),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yl,this.toJSON())}_performRefresh(){return fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(t,e){q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class bi{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,l=__(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new hC(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Kl(this,this.stsTokenManager.getToken(this.auth,e));return q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return eU(this,e)}reload(){return iU(this)}_assign(e){this!==e&&(q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new bi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ac(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Kl(this,JF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,l,a,c,d,h,v;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(s=n.email)!==null&&s!==void 0?s:void 0,R=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,N=(a=n.photoURL)!==null&&a!==void 0?a:void 0,P=(c=n.tenantId)!==null&&c!==void 0?c:void 0,j=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,C=(h=n.createdAt)!==null&&h!==void 0?h:void 0,E=(v=n.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:T,emailVerified:D,isAnonymous:U,providerData:$,stsTokenManager:W}=n;q(T&&W,e,"internal-error");const H=Yl.fromJSON(this.name,W);q(typeof T=="string",e,"internal-error"),Lr(m,e.name),Lr(y,e.name),q(typeof D=="boolean",e,"internal-error"),q(typeof U=="boolean",e,"internal-error"),Lr(R,e.name),Lr(N,e.name),Lr(P,e.name),Lr(j,e.name),Lr(C,e.name),Lr(E,e.name);const ye=new bi({uid:T,auth:e,email:y,emailVerified:D,displayName:m,isAnonymous:U,photoURL:N,phoneNumber:R,tenantId:P,stsTokenManager:H,createdAt:C,lastLoginAt:E});return $&&Array.isArray($)&&(ye.providerData=$.map(ie=>Object.assign({},ie))),j&&(ye._redirectEventId=j),ye}static async _fromIdTokenResponse(e,n,r=!1){const s=new Yl;s.updateFromServerResponse(n);const l=new bi({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Ac(l),l}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}pC.type="NONE";const nw=pC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(t,e,n){return`firebase:${t}:${e}:${n}`}class zs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:l}=this.auth;this.fullUserKey=Wu(this.userKey,s.apiKey,l),this.fullPersistenceKey=Wu("persistence",s.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?bi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new zs(dr(nw),e,r);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let l=s[0]||dr(nw);const a=Wu(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const v=await h._get(a);if(v){const m=bi._fromJSON(e,v);h!==l&&(c=m),l=h;break}}catch{}const d=s.filter(h=>h._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new zs(l,e,r):(l=d[0],c&&await l._set(a,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==l)try{await h._remove(a)}catch{}})),new zs(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yC(e))return"Blackberry";if(wC(e))return"Webos";if(w_(e))return"Safari";if((e.includes("chrome/")||_C(e))&&!e.includes("edge/"))return"Chrome";if(vC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function gC(t=yt()){return/firefox\//i.test(t)}function w_(t=yt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _C(t=yt()){return/crios\//i.test(t)}function mC(t=yt()){return/iemobile/i.test(t)}function vC(t=yt()){return/android/i.test(t)}function yC(t=yt()){return/blackberry/i.test(t)}function wC(t=yt()){return/webos/i.test(t)}function cf(t=yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function aU(t=yt()){var e;return cf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function uU(){return pD()&&document.documentMode===10}function EC(t=yt()){return cf(t)||vC(t)||wC(t)||yC(t)||/windows phone/i.test(t)||mC(t)}function cU(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(t,e=[]){let n;switch(t){case"Browser":n=rw(yt());break;case"Worker":n=`${rw(yt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${na}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=l=>new Promise((a,c)=>{try{const d=e(l);a(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iw(this),this.idTokenSubscription=new iw(this),this.beforeStateQueue=new fU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uC,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=dr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await zs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s==null?void 0:s._redirectEventId,d=await this.tryRedirectSignIn(e);(!a||a===c)&&(d!=null&&d.user)&&(s=d.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ac(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ft(e):null;return n&&q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(dr(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ta("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&dr(e)||this._popupRedirectResolver;q(n,this,"argument-error"),this.redirectPersistenceManager=await zs.create(this,[dr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n),a=this._isInitialized?Promise.resolve():this._initializationPromise;return q(a,this,"internal-error"),a.then(()=>l(this.currentUser)),typeof n=="function"?e.addObserver(n,r,s):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function da(t){return ft(t)}class iw{constructor(e){this.auth=e,this.observer=null,this.addObserver=CD(n=>this.observer=n)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function hU(t,e,n){const r=da(t);q(r._canInitEmulator,r,"emulator-config-failed"),q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),l=CC(e),{host:a,port:c}=pU(e),d=c===null?"":`:${c}`;r.config.emulator={url:`${l}//${a}${d}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:c,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||gU()}function CC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function pU(t){const e=CC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const l=s[1];return{host:l,port:sw(r.substr(l.length+1))}}else{const[l,a]=r.split(":");return{host:l,port:sw(a)}}}function sw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function gU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fr("not implemented")}_getIdTokenResponse(e){return fr("not implemented")}_linkToIdToken(e,n){return fr("not implemented")}_getReauthenticationResolver(e){return fr("not implemented")}}async function _U(t,e){return fo(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mU(t,e){return fa(t,"POST","/v1/accounts:signInWithPassword",co(t,e))}async function vU(t,e){return fo(t,"POST","/v1/accounts:sendOobCode",co(t,e))}async function yU(t,e){return vU(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wU(t,e){return fa(t,"POST","/v1/accounts:signInWithEmailLink",co(t,e))}async function EU(t,e){return fa(t,"POST","/v1/accounts:signInWithEmailLink",co(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql extends E_{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new ql(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ql(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return mU(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return wU(e,{email:this._email,oobCode:this._password});default:Mn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return _U(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return EU(e,{idToken:n,email:this._email,oobCode:this._password});default:Mn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bs(t,e){return fa(t,"POST","/v1/accounts:signInWithIdp",co(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU="http://localhost";class Ki extends E_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ki(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Mn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,l=__(n,["providerId","signInMethod"]);if(!r||!s)return null;const a=new Ki(r,s);return a.idToken=l.idToken||void 0,a.accessToken=l.accessToken||void 0,a.secret=l.secret,a.nonce=l.nonce,a.pendingToken=l.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Bs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Bs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Bs(e,n)}buildRequest(){const e={requestUri:SU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=oo(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function IU(t){const e=rl(il(t)).link,n=e?rl(il(e)).deep_link_id:null,r=rl(il(t)).deep_link_id;return(r?rl(il(r)).link:null)||r||n||e||t}class S_{constructor(e){var n,r,s,l,a,c;const d=rl(il(e)),h=(n=d.apiKey)!==null&&n!==void 0?n:null,v=(r=d.oobCode)!==null&&r!==void 0?r:null,m=CU((s=d.mode)!==null&&s!==void 0?s:null);q(h&&v&&m,"argument-error"),this.apiKey=h,this.operation=m,this.code=v,this.continueUrl=(l=d.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(a=d.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=IU(e);try{return new S_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(){this.providerId=ho.PROVIDER_ID}static credential(e,n){return ql._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=S_.parseLink(n);return q(r,"argument-error"),ql._fromEmailAndCode(e,r.code,r.tenantId)}}ho.PROVIDER_ID="password";ho.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ho.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha extends IC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends ha{constructor(){super("facebook.com")}static credential(e){return Ki._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ur.credential(e.oauthAccessToken)}catch{return null}}}Ur.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ur.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends ha{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ki._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Wr.credential(n,r)}catch{return null}}}Wr.GOOGLE_SIGN_IN_METHOD="google.com";Wr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends ha{constructor(){super("github.com")}static credential(e){return Ki._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zr.credential(e.oauthAccessToken)}catch{return null}}}zr.GITHUB_SIGN_IN_METHOD="github.com";zr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends ha{constructor(){super("twitter.com")}static credential(e,n){return Ki._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Br.credential(n,r)}catch{return null}}}Br.TWITTER_SIGN_IN_METHOD="twitter.com";Br.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TU(t,e){return fa(t,"POST","/v1/accounts:signUp",co(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const l=await bi._fromIdTokenResponse(e,r,s),a=ow(r);return new Yi({user:l,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=ow(r);return new Yi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function ow(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc extends di{constructor(e,n,r,s){var l;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Pc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Pc(e,n,r,s)}}function TC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Pc._fromErrorAndOperation(t,l,e,r):l})}async function kU(t,e,n=!1){const r=await Kl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Yi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RU(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const l=await Kl(t,TC(r,s,e,t),n);q(l.idToken,r,"internal-error");const a=y_(l.idToken);q(a,r,"internal-error");const{sub:c}=a;return q(t.uid===c,r,"user-mismatch"),Yi._forOperation(t,s,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Mn(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC(t,e,n=!1){const r="signIn",s=await TC(t,r,e),l=await Yi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(l.user),l}async function NU(t,e){return kC(da(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xU(t,e,n){var r;q(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),q(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(q(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(q(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AU(t,e,n){const r=ft(t),s={requestType:"PASSWORD_RESET",email:e};n&&xU(r,s,n),await yU(r,s)}async function PU(t,e,n){const r=da(t),s=await TU(r,{returnSecureToken:!0,email:e,password:n}),l=await Yi._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(l.user),l}function OU(t,e,n){return NU(ft(t),ho.credential(e,n))}function LU(t,e,n,r){return ft(t).onIdTokenChanged(e,n,r)}function DU(t,e,n){return ft(t).beforeAuthStateChanged(e,n)}function MU(t,e,n,r){return ft(t).onAuthStateChanged(e,n,r)}function bU(t){return ft(t).signOut()}const Oc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Oc,"1"),this.storage.removeItem(Oc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FU(){const t=yt();return w_(t)||cf(t)}const UU=1e3,WU=10;class NC extends RC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=FU()&&cU(),this.fallbackToPolling=EC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,c,d)=>{this.notifyListeners(a,d)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},l=this.storage.getItem(r);uU()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,WU):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},UU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}NC.type="LOCAL";const zU=NC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC extends RC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}xC.type="SESSION";const AC=xC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new ff(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:l}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(a).map(async h=>h(n.origin,l)),d=await BU(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ff.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,a;return new Promise((c,d)=>{const h=C_("",20);s.port1.start();const v=setTimeout(()=>{d(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(m){const y=m;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),c(y.data.response);break;default:clearTimeout(v),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(){return window}function $U(t){jn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(){return typeof jn().WorkerGlobalScope<"u"&&typeof jn().importScripts=="function"}async function VU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function jU(){return PC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC="firebaseLocalStorageDb",KU=1,Lc="firebaseLocalStorage",LC="fbase_key";class pa{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function df(t,e){return t.transaction([Lc],e?"readwrite":"readonly").objectStore(Lc)}function YU(){const t=indexedDB.deleteDatabase(OC);return new pa(t).toPromise()}function bp(){const t=indexedDB.open(OC,KU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Lc,{keyPath:LC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Lc)?e(r):(r.close(),await YU(),e(await bp()))})})}async function lw(t,e,n){const r=df(t,!0).put({[LC]:e,value:n});return new pa(r).toPromise()}async function qU(t,e){const n=df(t,!1).get(e),r=await new pa(n).toPromise();return r===void 0?null:r.value}function aw(t,e){const n=df(t,!0).delete(e);return new pa(n).toPromise()}const QU=800,XU=3;class DC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>XU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ff._getInstance(jU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await VU(),!this.activeServiceWorker)return;this.sender=new HU(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bp();return await lw(e,Oc,"1"),await aw(e,Oc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>lw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>qU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>aw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const l=df(s,!1).getAll();return new pa(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:l}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(l)&&(this.notifyListeners(s,l),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}DC.type="LOCAL";const JU=DC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function e3(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const l=Gn("internal-error");l.customData=s,n(l)},r.type="text/javascript",r.charset="UTF-8",ZU().appendChild(r)})}function t3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new ca(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n3(t,e){return e?dr(e):(q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_ extends E_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Bs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Bs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function r3(t){return kC(t.auth,new I_(t),t.bypassAuthState)}function i3(t){const{auth:e,user:n}=t;return q(n,e,"internal-error"),RU(n,new I_(t),t.bypassAuthState)}async function s3(t){const{auth:e,user:n}=t;return q(n,e,"internal-error"),kU(n,new I_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,n,r,s,l=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:l,error:a,type:c}=e;if(a){this.reject(a);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return r3;case"linkViaPopup":case"linkViaRedirect":return s3;case"reauthViaPopup":case"reauthViaRedirect":return i3;default:Mn(this.auth,"internal-error")}}resolve(e){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=new ca(2e3,1e4);class As extends MC{constructor(e,n,r,s,l){super(e,n,s,l),this.provider=r,this.authWindow=null,this.pollId=null,As.currentPopupAction&&As.currentPopupAction.cancel(),As.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return q(e,this.auth,"internal-error"),e}async onExecution(){wr(this.filter.length===1,"Popup operations only handle one event");const e=C_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,As.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,o3.get())};e()}}As.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3="pendingRedirect",zu=new Map;class a3 extends MC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=zu.get(this.auth._key());if(!e){try{const r=await u3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}zu.set(this.auth._key(),e)}return this.bypassAuthState||zu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function u3(t,e){const n=d3(e),r=f3(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function c3(t,e){zu.set(t._key(),e)}function f3(t){return dr(t._redirectPersistence)}function d3(t){return Wu(l3,t.config.apiKey,t.name)}async function h3(t,e,n=!1){const r=da(t),s=n3(r,e),a=await new a3(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3=10*60*1e3;class g3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!bC(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Gn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=p3&&this.cachedEventUids.clear(),this.cachedEventUids.has(uw(e))}saveEventToCache(e){this.cachedEventUids.add(uw(e)),this.lastProcessedEventTime=Date.now()}}function uw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function bC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m3(t,e={}){return fo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,y3=/^https?/;async function w3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await m3(t);for(const n of e)try{if(E3(n))return}catch{}Mn(t,"unauthorized-domain")}function E3(t){const e=Mp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!y3.test(n))return!1;if(v3.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3=new ca(3e4,6e4);function cw(){const t=jn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function C3(t){return new Promise((e,n)=>{var r,s,l;function a(){cw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cw(),n(Gn(t,"network-request-failed"))},timeout:S3.get()})}if(!((s=(r=jn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((l=jn().gapi)===null||l===void 0)&&l.load)a();else{const c=t3("iframefcb");return jn()[c]=()=>{gapi.load?a():n(Gn(t,"network-request-failed"))},e3(`https://apis.google.com/js/api.js?onload=${c}`).catch(d=>n(d))}}).catch(e=>{throw Bu=null,e})}let Bu=null;function I3(t){return Bu=Bu||C3(t),Bu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3=new ca(5e3,15e3),k3="__/auth/iframe",R3="emulator/auth/iframe",N3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},x3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function A3(t){const e=t.config;q(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?v_(e,R3):`https://${t.config.authDomain}/${k3}`,r={apiKey:e.apiKey,appName:t.name,v:na},s=x3.get(t.config.apiHost);s&&(r.eid=s);const l=t._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${oo(r).slice(1)}`}async function P3(t){const e=await I3(t),n=jn().gapi;return q(n,t,"internal-error"),e.open({where:document.body,url:A3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:N3,dontclear:!0},r=>new Promise(async(s,l)=>{await r.restyle({setHideOnLeave:!1});const a=Gn(t,"network-request-failed"),c=jn().setTimeout(()=>{l(a)},T3.get());function d(){jn().clearTimeout(c),s(r)}r.ping(d).then(d,()=>{l(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},L3=500,D3=600,M3="_blank",b3="http://localhost";class fw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function F3(t,e,n,r=L3,s=D3){const l=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d=Object.assign(Object.assign({},O3),{width:r.toString(),height:s.toString(),top:l,left:a}),h=yt().toLowerCase();n&&(c=_C(h)?M3:n),gC(h)&&(e=e||b3,d.scrollbars="yes");const v=Object.entries(d).reduce((y,[R,N])=>`${y}${R}=${N},`,"");if(aU(h)&&c!=="_self")return U3(e||"",c),new fw(null);const m=window.open(e||"",c,v);q(m,t,"popup-blocked");try{m.focus()}catch{}return new fw(m)}function U3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3="__/auth/handler",z3="emulator/auth/handler";function dw(t,e,n,r,s,l){q(t.config.authDomain,t,"auth-domain-config-required"),q(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:na,eventId:s};if(e instanceof IC){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",_p(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(l||{}))a[d]=h}if(e instanceof ha){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const c=a;for(const d of Object.keys(c))c[d]===void 0&&delete c[d];return`${B3(t)}?${oo(c).slice(1)}`}function B3({config:t}){return t.emulator?v_(t,z3):`https://${t.authDomain}/${W3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh="webStorageSupport";class H3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AC,this._completeRedirectFn=h3,this._overrideRedirectResult=c3}async _openPopup(e,n,r,s){var l;wr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const a=dw(e,n,r,Mp(),s);return F3(e,a,C_())}async _openRedirect(e,n,r,s){return await this._originValidation(e),$U(dw(e,n,r,Mp(),s)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:l}=this.eventManagers[n];return s?Promise.resolve(s):(wr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await P3(e),r=new g3(e);return n.register("authEvent",s=>(q(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wh,{type:wh},s=>{var l;const a=(l=s==null?void 0:s[0])===null||l===void 0?void 0:l[wh];a!==void 0&&n(!!a),Mn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=w3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return EC()||w_()||cf()}}const $3=H3;var hw="@firebase/auth",pw="0.22.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function j3(t){Qs(new Hi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),{apiKey:l,authDomain:a}=r.options;return((c,d)=>{q(l&&!l.includes(":"),"invalid-api-key",{appName:c.name}),q(!(a!=null&&a.includes(":")),"argument-error",{appName:c.name});const h={apiKey:l,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SC(t)},v=new dU(c,d,h);return GF(v,n),v})(r,s)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Qs(new Hi("auth-internal",e=>{const n=da(e.getProvider("auth").getImmediate());return(r=>new V3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ei(hw,pw,G3(t)),ei(hw,pw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3=5*60,Y3=P1("authIdTokenMaxAge")||K3;let gw=null;const q3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Y3)return;const s=n==null?void 0:n.token;gw!==s&&(gw=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Jo(t=U1()){const e=Fg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=VF(t,{popupRedirectResolver:$3,persistence:[JU,zU,AC]}),r=P1("authTokenSyncURL");if(r){const l=q3(r);DU(n,l,()=>l(n.currentUser)),LU(n,a=>l(a))}const s=A1("auth");return s&&hU(n,`http://${s}`),n}j3("Browser");const Q3={apiKey:"AIzaSyBBC2JcpCGrh47Urufoj2pQDXJOr8CU2_Q",authDomain:"halloween-suggestions.firebaseapp.com",projectId:"halloween-suggestions",storageBucket:"halloween-suggestions.appspot.com",messagingSenderId:"708959466491",appId:"1:708959466491:web:f8f4e6984390ac9e7bd15e"},X3=F1(Q3),FC=WF(X3),J3=lC(FC,"data/movies"),po={getMoviesRef:()=>J3,getMovieRef:t=>lC(FC,`data/movies/${t}`),login:({email:t,pass:e})=>{const n=Jo();return OU(n,t,e)},logout:()=>{const t=Jo();return bU(t).then(()=>console.log("You have signed out")).catch(e=>console.log("Error signing out: ",e))},registerUser:({email:t,pass:e})=>{const n=Jo();return PU(n,t,e).then(()=>alert(`Created new user ${t}, logging in now.`)).catch(r=>console.errorr("Error registering user: ",r))},updatePassword:t=>{const e=Jo();return AU(e,t).then(()=>alert(`Password Update Email Sent to ${t}`)).catch(n=>console.error("Error updating password: ",n))},getLoginObserver:t=>{const e=Jo();return MU(e,n=>{n=n||{},t(n)})}};var ri={},Z3={get exports(){return ri},set exports(t){ri=t}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,e){(function(){var n,r="4.17.21",s=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",c="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",h=500,v="__lodash_placeholder__",m=1,y=2,R=4,N=1,P=2,j=1,C=2,E=4,T=8,D=16,U=32,$=64,W=128,H=256,ye=512,ie=30,wt="...",hi=800,pi=16,go=1,hf=2,_o=3,mn=1/0,B=9007199254740991,te=17976931348623157e292,ne=0/0,_e=4294967295,je=_e-1,Ji=_e>>>1,qn=[["ary",W],["bind",j],["bindKey",C],["curry",T],["curryRight",D],["flip",ye],["partial",U],["partialRight",$],["rearg",H]],bn="[object Arguments]",tn="[object Array]",Zi="[object AsyncFunction]",mo="[object Boolean]",vo="[object Date]",$C="[object DOMException]",ga="[object Error]",_a="[object Function]",T_="[object GeneratorFunction]",vn="[object Map]",yo="[object Number]",VC="[object Null]",Qn="[object Object]",k_="[object Promise]",GC="[object Proxy]",wo="[object RegExp]",yn="[object Set]",Eo="[object String]",ma="[object Symbol]",jC="[object Undefined]",So="[object WeakMap]",KC="[object WeakSet]",Co="[object ArrayBuffer]",es="[object DataView]",pf="[object Float32Array]",gf="[object Float64Array]",_f="[object Int8Array]",mf="[object Int16Array]",vf="[object Int32Array]",yf="[object Uint8Array]",wf="[object Uint8ClampedArray]",Ef="[object Uint16Array]",Sf="[object Uint32Array]",YC=/\b__p \+= '';/g,qC=/\b(__p \+=) '' \+/g,QC=/(__e\(.*?\)|\b__t\)) \+\n'';/g,R_=/&(?:amp|lt|gt|quot|#39);/g,N_=/[&<>"']/g,XC=RegExp(R_.source),JC=RegExp(N_.source),ZC=/<%-([\s\S]+?)%>/g,eI=/<%([\s\S]+?)%>/g,x_=/<%=([\s\S]+?)%>/g,tI=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nI=/^\w*$/,rI=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Cf=/[\\^$.*+?()[\]{}|]/g,iI=RegExp(Cf.source),If=/^\s+/,sI=/\s/,oI=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,lI=/\{\n\/\* \[wrapped with (.+)\] \*/,aI=/,? & /,uI=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,cI=/[()=,{}\[\]\/\s]/,fI=/\\(\\)?/g,dI=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,A_=/\w*$/,hI=/^[-+]0x[0-9a-f]+$/i,pI=/^0b[01]+$/i,gI=/^\[object .+?Constructor\]$/,_I=/^0o[0-7]+$/i,mI=/^(?:0|[1-9]\d*)$/,vI=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,va=/($^)/,yI=/['\n\r\u2028\u2029\\]/g,ya="\\ud800-\\udfff",wI="\\u0300-\\u036f",EI="\\ufe20-\\ufe2f",SI="\\u20d0-\\u20ff",P_=wI+EI+SI,O_="\\u2700-\\u27bf",L_="a-z\\xdf-\\xf6\\xf8-\\xff",CI="\\xac\\xb1\\xd7\\xf7",II="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",TI="\\u2000-\\u206f",kI=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",D_="A-Z\\xc0-\\xd6\\xd8-\\xde",M_="\\ufe0e\\ufe0f",b_=CI+II+TI+kI,Tf="['’]",RI="["+ya+"]",F_="["+b_+"]",wa="["+P_+"]",U_="\\d+",NI="["+O_+"]",W_="["+L_+"]",z_="[^"+ya+b_+U_+O_+L_+D_+"]",kf="\\ud83c[\\udffb-\\udfff]",xI="(?:"+wa+"|"+kf+")",B_="[^"+ya+"]",Rf="(?:\\ud83c[\\udde6-\\uddff]){2}",Nf="[\\ud800-\\udbff][\\udc00-\\udfff]",ts="["+D_+"]",H_="\\u200d",$_="(?:"+W_+"|"+z_+")",AI="(?:"+ts+"|"+z_+")",V_="(?:"+Tf+"(?:d|ll|m|re|s|t|ve))?",G_="(?:"+Tf+"(?:D|LL|M|RE|S|T|VE))?",j_=xI+"?",K_="["+M_+"]?",PI="(?:"+H_+"(?:"+[B_,Rf,Nf].join("|")+")"+K_+j_+")*",OI="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",LI="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Y_=K_+j_+PI,DI="(?:"+[NI,Rf,Nf].join("|")+")"+Y_,MI="(?:"+[B_+wa+"?",wa,Rf,Nf,RI].join("|")+")",bI=RegExp(Tf,"g"),FI=RegExp(wa,"g"),xf=RegExp(kf+"(?="+kf+")|"+MI+Y_,"g"),UI=RegExp([ts+"?"+W_+"+"+V_+"(?="+[F_,ts,"$"].join("|")+")",AI+"+"+G_+"(?="+[F_,ts+$_,"$"].join("|")+")",ts+"?"+$_+"+"+V_,ts+"+"+G_,LI,OI,U_,DI].join("|"),"g"),WI=RegExp("["+H_+ya+P_+M_+"]"),zI=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,BI=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],HI=-1,Ae={};Ae[pf]=Ae[gf]=Ae[_f]=Ae[mf]=Ae[vf]=Ae[yf]=Ae[wf]=Ae[Ef]=Ae[Sf]=!0,Ae[bn]=Ae[tn]=Ae[Co]=Ae[mo]=Ae[es]=Ae[vo]=Ae[ga]=Ae[_a]=Ae[vn]=Ae[yo]=Ae[Qn]=Ae[wo]=Ae[yn]=Ae[Eo]=Ae[So]=!1;var Re={};Re[bn]=Re[tn]=Re[Co]=Re[es]=Re[mo]=Re[vo]=Re[pf]=Re[gf]=Re[_f]=Re[mf]=Re[vf]=Re[vn]=Re[yo]=Re[Qn]=Re[wo]=Re[yn]=Re[Eo]=Re[ma]=Re[yf]=Re[wf]=Re[Ef]=Re[Sf]=!0,Re[ga]=Re[_a]=Re[So]=!1;var $I={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},VI={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},GI={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},jI={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},KI=parseFloat,YI=parseInt,q_=typeof Wo=="object"&&Wo&&Wo.Object===Object&&Wo,qI=typeof self=="object"&&self&&self.Object===Object&&self,ot=q_||qI||Function("return this")(),Af=e&&!e.nodeType&&e,gi=Af&&!0&&t&&!t.nodeType&&t,Q_=gi&&gi.exports===Af,Pf=Q_&&q_.process,nn=function(){try{var I=gi&&gi.require&&gi.require("util").types;return I||Pf&&Pf.binding&&Pf.binding("util")}catch{}}(),X_=nn&&nn.isArrayBuffer,J_=nn&&nn.isDate,Z_=nn&&nn.isMap,em=nn&&nn.isRegExp,tm=nn&&nn.isSet,nm=nn&&nn.isTypedArray;function Ht(I,A,x){switch(x.length){case 0:return I.call(A);case 1:return I.call(A,x[0]);case 2:return I.call(A,x[0],x[1]);case 3:return I.call(A,x[0],x[1],x[2])}return I.apply(A,x)}function QI(I,A,x,V){for(var ee=-1,we=I==null?0:I.length;++ee<we;){var Ye=I[ee];A(V,Ye,x(Ye),I)}return V}function rn(I,A){for(var x=-1,V=I==null?0:I.length;++x<V&&A(I[x],x,I)!==!1;);return I}function XI(I,A){for(var x=I==null?0:I.length;x--&&A(I[x],x,I)!==!1;);return I}function rm(I,A){for(var x=-1,V=I==null?0:I.length;++x<V;)if(!A(I[x],x,I))return!1;return!0}function Cr(I,A){for(var x=-1,V=I==null?0:I.length,ee=0,we=[];++x<V;){var Ye=I[x];A(Ye,x,I)&&(we[ee++]=Ye)}return we}function Ea(I,A){var x=I==null?0:I.length;return!!x&&ns(I,A,0)>-1}function Of(I,A,x){for(var V=-1,ee=I==null?0:I.length;++V<ee;)if(x(A,I[V]))return!0;return!1}function De(I,A){for(var x=-1,V=I==null?0:I.length,ee=Array(V);++x<V;)ee[x]=A(I[x],x,I);return ee}function Ir(I,A){for(var x=-1,V=A.length,ee=I.length;++x<V;)I[ee+x]=A[x];return I}function Lf(I,A,x,V){var ee=-1,we=I==null?0:I.length;for(V&&we&&(x=I[++ee]);++ee<we;)x=A(x,I[ee],ee,I);return x}function JI(I,A,x,V){var ee=I==null?0:I.length;for(V&&ee&&(x=I[--ee]);ee--;)x=A(x,I[ee],ee,I);return x}function Df(I,A){for(var x=-1,V=I==null?0:I.length;++x<V;)if(A(I[x],x,I))return!0;return!1}var ZI=Mf("length");function eT(I){return I.split("")}function tT(I){return I.match(uI)||[]}function im(I,A,x){var V;return x(I,function(ee,we,Ye){if(A(ee,we,Ye))return V=we,!1}),V}function Sa(I,A,x,V){for(var ee=I.length,we=x+(V?1:-1);V?we--:++we<ee;)if(A(I[we],we,I))return we;return-1}function ns(I,A,x){return A===A?hT(I,A,x):Sa(I,sm,x)}function nT(I,A,x,V){for(var ee=x-1,we=I.length;++ee<we;)if(V(I[ee],A))return ee;return-1}function sm(I){return I!==I}function om(I,A){var x=I==null?0:I.length;return x?Ff(I,A)/x:ne}function Mf(I){return function(A){return A==null?n:A[I]}}function bf(I){return function(A){return I==null?n:I[A]}}function lm(I,A,x,V,ee){return ee(I,function(we,Ye,Ie){x=V?(V=!1,we):A(x,we,Ye,Ie)}),x}function rT(I,A){var x=I.length;for(I.sort(A);x--;)I[x]=I[x].value;return I}function Ff(I,A){for(var x,V=-1,ee=I.length;++V<ee;){var we=A(I[V]);we!==n&&(x=x===n?we:x+we)}return x}function Uf(I,A){for(var x=-1,V=Array(I);++x<I;)V[x]=A(x);return V}function iT(I,A){return De(A,function(x){return[x,I[x]]})}function am(I){return I&&I.slice(0,dm(I)+1).replace(If,"")}function $t(I){return function(A){return I(A)}}function Wf(I,A){return De(A,function(x){return I[x]})}function Io(I,A){return I.has(A)}function um(I,A){for(var x=-1,V=I.length;++x<V&&ns(A,I[x],0)>-1;);return x}function cm(I,A){for(var x=I.length;x--&&ns(A,I[x],0)>-1;);return x}function sT(I,A){for(var x=I.length,V=0;x--;)I[x]===A&&++V;return V}var oT=bf($I),lT=bf(VI);function aT(I){return"\\"+jI[I]}function uT(I,A){return I==null?n:I[A]}function rs(I){return WI.test(I)}function cT(I){return zI.test(I)}function fT(I){for(var A,x=[];!(A=I.next()).done;)x.push(A.value);return x}function zf(I){var A=-1,x=Array(I.size);return I.forEach(function(V,ee){x[++A]=[ee,V]}),x}function fm(I,A){return function(x){return I(A(x))}}function Tr(I,A){for(var x=-1,V=I.length,ee=0,we=[];++x<V;){var Ye=I[x];(Ye===A||Ye===v)&&(I[x]=v,we[ee++]=x)}return we}function Ca(I){var A=-1,x=Array(I.size);return I.forEach(function(V){x[++A]=V}),x}function dT(I){var A=-1,x=Array(I.size);return I.forEach(function(V){x[++A]=[V,V]}),x}function hT(I,A,x){for(var V=x-1,ee=I.length;++V<ee;)if(I[V]===A)return V;return-1}function pT(I,A,x){for(var V=x+1;V--;)if(I[V]===A)return V;return V}function is(I){return rs(I)?_T(I):ZI(I)}function wn(I){return rs(I)?mT(I):eT(I)}function dm(I){for(var A=I.length;A--&&sI.test(I.charAt(A)););return A}var gT=bf(GI);function _T(I){for(var A=xf.lastIndex=0;xf.test(I);)++A;return A}function mT(I){return I.match(xf)||[]}function vT(I){return I.match(UI)||[]}var yT=function I(A){A=A==null?ot:ss.defaults(ot.Object(),A,ss.pick(ot,BI));var x=A.Array,V=A.Date,ee=A.Error,we=A.Function,Ye=A.Math,Ie=A.Object,Bf=A.RegExp,wT=A.String,sn=A.TypeError,Ia=x.prototype,ET=we.prototype,os=Ie.prototype,Ta=A["__core-js_shared__"],ka=ET.toString,Se=os.hasOwnProperty,ST=0,hm=function(){var i=/[^.]+$/.exec(Ta&&Ta.keys&&Ta.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),Ra=os.toString,CT=ka.call(Ie),IT=ot._,TT=Bf("^"+ka.call(Se).replace(Cf,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Na=Q_?A.Buffer:n,kr=A.Symbol,xa=A.Uint8Array,pm=Na?Na.allocUnsafe:n,Aa=fm(Ie.getPrototypeOf,Ie),gm=Ie.create,_m=os.propertyIsEnumerable,Pa=Ia.splice,mm=kr?kr.isConcatSpreadable:n,To=kr?kr.iterator:n,_i=kr?kr.toStringTag:n,Oa=function(){try{var i=Ei(Ie,"defineProperty");return i({},"",{}),i}catch{}}(),kT=A.clearTimeout!==ot.clearTimeout&&A.clearTimeout,RT=V&&V.now!==ot.Date.now&&V.now,NT=A.setTimeout!==ot.setTimeout&&A.setTimeout,La=Ye.ceil,Da=Ye.floor,Hf=Ie.getOwnPropertySymbols,xT=Na?Na.isBuffer:n,vm=A.isFinite,AT=Ia.join,PT=fm(Ie.keys,Ie),qe=Ye.max,dt=Ye.min,OT=V.now,LT=A.parseInt,ym=Ye.random,DT=Ia.reverse,$f=Ei(A,"DataView"),ko=Ei(A,"Map"),Vf=Ei(A,"Promise"),ls=Ei(A,"Set"),Ro=Ei(A,"WeakMap"),No=Ei(Ie,"create"),Ma=Ro&&new Ro,as={},MT=Si($f),bT=Si(ko),FT=Si(Vf),UT=Si(ls),WT=Si(Ro),ba=kr?kr.prototype:n,xo=ba?ba.valueOf:n,wm=ba?ba.toString:n;function g(i){if(ze(i)&&!re(i)&&!(i instanceof de)){if(i instanceof on)return i;if(Se.call(i,"__wrapped__"))return Ev(i)}return new on(i)}var us=function(){function i(){}return function(o){if(!be(o))return{};if(gm)return gm(o);i.prototype=o;var u=new i;return i.prototype=n,u}}();function Fa(){}function on(i,o){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=n}g.templateSettings={escape:ZC,evaluate:eI,interpolate:x_,variable:"",imports:{_:g}},g.prototype=Fa.prototype,g.prototype.constructor=g,on.prototype=us(Fa.prototype),on.prototype.constructor=on;function de(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=_e,this.__views__=[]}function zT(){var i=new de(this.__wrapped__);return i.__actions__=At(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=At(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=At(this.__views__),i}function BT(){if(this.__filtered__){var i=new de(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function HT(){var i=this.__wrapped__.value(),o=this.__dir__,u=re(i),f=o<0,p=u?i.length:0,_=eR(0,p,this.__views__),w=_.start,S=_.end,k=S-w,O=f?S:w-1,L=this.__iteratees__,M=L.length,z=0,K=dt(k,this.__takeCount__);if(!u||!f&&p==k&&K==k)return Vm(i,this.__actions__);var Q=[];e:for(;k--&&z<K;){O+=o;for(var oe=-1,X=i[O];++oe<M;){var ce=L[oe],pe=ce.iteratee,jt=ce.type,Ct=pe(X);if(jt==hf)X=Ct;else if(!Ct){if(jt==go)continue e;break e}}Q[z++]=X}return Q}de.prototype=us(Fa.prototype),de.prototype.constructor=de;function mi(i){var o=-1,u=i==null?0:i.length;for(this.clear();++o<u;){var f=i[o];this.set(f[0],f[1])}}function $T(){this.__data__=No?No(null):{},this.size=0}function VT(i){var o=this.has(i)&&delete this.__data__[i];return this.size-=o?1:0,o}function GT(i){var o=this.__data__;if(No){var u=o[i];return u===d?n:u}return Se.call(o,i)?o[i]:n}function jT(i){var o=this.__data__;return No?o[i]!==n:Se.call(o,i)}function KT(i,o){var u=this.__data__;return this.size+=this.has(i)?0:1,u[i]=No&&o===n?d:o,this}mi.prototype.clear=$T,mi.prototype.delete=VT,mi.prototype.get=GT,mi.prototype.has=jT,mi.prototype.set=KT;function Xn(i){var o=-1,u=i==null?0:i.length;for(this.clear();++o<u;){var f=i[o];this.set(f[0],f[1])}}function YT(){this.__data__=[],this.size=0}function qT(i){var o=this.__data__,u=Ua(o,i);if(u<0)return!1;var f=o.length-1;return u==f?o.pop():Pa.call(o,u,1),--this.size,!0}function QT(i){var o=this.__data__,u=Ua(o,i);return u<0?n:o[u][1]}function XT(i){return Ua(this.__data__,i)>-1}function JT(i,o){var u=this.__data__,f=Ua(u,i);return f<0?(++this.size,u.push([i,o])):u[f][1]=o,this}Xn.prototype.clear=YT,Xn.prototype.delete=qT,Xn.prototype.get=QT,Xn.prototype.has=XT,Xn.prototype.set=JT;function Jn(i){var o=-1,u=i==null?0:i.length;for(this.clear();++o<u;){var f=i[o];this.set(f[0],f[1])}}function ZT(){this.size=0,this.__data__={hash:new mi,map:new(ko||Xn),string:new mi}}function ek(i){var o=Qa(this,i).delete(i);return this.size-=o?1:0,o}function tk(i){return Qa(this,i).get(i)}function nk(i){return Qa(this,i).has(i)}function rk(i,o){var u=Qa(this,i),f=u.size;return u.set(i,o),this.size+=u.size==f?0:1,this}Jn.prototype.clear=ZT,Jn.prototype.delete=ek,Jn.prototype.get=tk,Jn.prototype.has=nk,Jn.prototype.set=rk;function vi(i){var o=-1,u=i==null?0:i.length;for(this.__data__=new Jn;++o<u;)this.add(i[o])}function ik(i){return this.__data__.set(i,d),this}function sk(i){return this.__data__.has(i)}vi.prototype.add=vi.prototype.push=ik,vi.prototype.has=sk;function En(i){var o=this.__data__=new Xn(i);this.size=o.size}function ok(){this.__data__=new Xn,this.size=0}function lk(i){var o=this.__data__,u=o.delete(i);return this.size=o.size,u}function ak(i){return this.__data__.get(i)}function uk(i){return this.__data__.has(i)}function ck(i,o){var u=this.__data__;if(u instanceof Xn){var f=u.__data__;if(!ko||f.length<s-1)return f.push([i,o]),this.size=++u.size,this;u=this.__data__=new Jn(f)}return u.set(i,o),this.size=u.size,this}En.prototype.clear=ok,En.prototype.delete=lk,En.prototype.get=ak,En.prototype.has=uk,En.prototype.set=ck;function Em(i,o){var u=re(i),f=!u&&Ci(i),p=!u&&!f&&Pr(i),_=!u&&!f&&!p&&hs(i),w=u||f||p||_,S=w?Uf(i.length,wT):[],k=S.length;for(var O in i)(o||Se.call(i,O))&&!(w&&(O=="length"||p&&(O=="offset"||O=="parent")||_&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||nr(O,k)))&&S.push(O);return S}function Sm(i){var o=i.length;return o?i[td(0,o-1)]:n}function fk(i,o){return Xa(At(i),yi(o,0,i.length))}function dk(i){return Xa(At(i))}function Gf(i,o,u){(u!==n&&!Sn(i[o],u)||u===n&&!(o in i))&&Zn(i,o,u)}function Ao(i,o,u){var f=i[o];(!(Se.call(i,o)&&Sn(f,u))||u===n&&!(o in i))&&Zn(i,o,u)}function Ua(i,o){for(var u=i.length;u--;)if(Sn(i[u][0],o))return u;return-1}function hk(i,o,u,f){return Rr(i,function(p,_,w){o(f,p,u(p),w)}),f}function Cm(i,o){return i&&Un(o,et(o),i)}function pk(i,o){return i&&Un(o,Ot(o),i)}function Zn(i,o,u){o=="__proto__"&&Oa?Oa(i,o,{configurable:!0,enumerable:!0,value:u,writable:!0}):i[o]=u}function jf(i,o){for(var u=-1,f=o.length,p=x(f),_=i==null;++u<f;)p[u]=_?n:kd(i,o[u]);return p}function yi(i,o,u){return i===i&&(u!==n&&(i=i<=u?i:u),o!==n&&(i=i>=o?i:o)),i}function ln(i,o,u,f,p,_){var w,S=o&m,k=o&y,O=o&R;if(u&&(w=p?u(i,f,p,_):u(i)),w!==n)return w;if(!be(i))return i;var L=re(i);if(L){if(w=nR(i),!S)return At(i,w)}else{var M=ht(i),z=M==_a||M==T_;if(Pr(i))return Km(i,S);if(M==Qn||M==bn||z&&!p){if(w=k||z?{}:dv(i),!S)return k?Gk(i,pk(w,i)):Vk(i,Cm(w,i))}else{if(!Re[M])return p?i:{};w=rR(i,M,S)}}_||(_=new En);var K=_.get(i);if(K)return K;_.set(i,w),Bv(i)?i.forEach(function(X){w.add(ln(X,o,u,X,i,_))}):Wv(i)&&i.forEach(function(X,ce){w.set(ce,ln(X,o,u,ce,i,_))});var Q=O?k?dd:fd:k?Ot:et,oe=L?n:Q(i);return rn(oe||i,function(X,ce){oe&&(ce=X,X=i[ce]),Ao(w,ce,ln(X,o,u,ce,i,_))}),w}function gk(i){var o=et(i);return function(u){return Im(u,i,o)}}function Im(i,o,u){var f=u.length;if(i==null)return!f;for(i=Ie(i);f--;){var p=u[f],_=o[p],w=i[p];if(w===n&&!(p in i)||!_(w))return!1}return!0}function Tm(i,o,u){if(typeof i!="function")throw new sn(a);return Fo(function(){i.apply(n,u)},o)}function Po(i,o,u,f){var p=-1,_=Ea,w=!0,S=i.length,k=[],O=o.length;if(!S)return k;u&&(o=De(o,$t(u))),f?(_=Of,w=!1):o.length>=s&&(_=Io,w=!1,o=new vi(o));e:for(;++p<S;){var L=i[p],M=u==null?L:u(L);if(L=f||L!==0?L:0,w&&M===M){for(var z=O;z--;)if(o[z]===M)continue e;k.push(L)}else _(o,M,f)||k.push(L)}return k}var Rr=Jm(Fn),km=Jm(Yf,!0);function _k(i,o){var u=!0;return Rr(i,function(f,p,_){return u=!!o(f,p,_),u}),u}function Wa(i,o,u){for(var f=-1,p=i.length;++f<p;){var _=i[f],w=o(_);if(w!=null&&(S===n?w===w&&!Gt(w):u(w,S)))var S=w,k=_}return k}function mk(i,o,u,f){var p=i.length;for(u=se(u),u<0&&(u=-u>p?0:p+u),f=f===n||f>p?p:se(f),f<0&&(f+=p),f=u>f?0:$v(f);u<f;)i[u++]=o;return i}function Rm(i,o){var u=[];return Rr(i,function(f,p,_){o(f,p,_)&&u.push(f)}),u}function lt(i,o,u,f,p){var _=-1,w=i.length;for(u||(u=sR),p||(p=[]);++_<w;){var S=i[_];o>0&&u(S)?o>1?lt(S,o-1,u,f,p):Ir(p,S):f||(p[p.length]=S)}return p}var Kf=Zm(),Nm=Zm(!0);function Fn(i,o){return i&&Kf(i,o,et)}function Yf(i,o){return i&&Nm(i,o,et)}function za(i,o){return Cr(o,function(u){return rr(i[u])})}function wi(i,o){o=xr(o,i);for(var u=0,f=o.length;i!=null&&u<f;)i=i[Wn(o[u++])];return u&&u==f?i:n}function xm(i,o,u){var f=o(i);return re(i)?f:Ir(f,u(i))}function Et(i){return i==null?i===n?jC:VC:_i&&_i in Ie(i)?Zk(i):dR(i)}function qf(i,o){return i>o}function vk(i,o){return i!=null&&Se.call(i,o)}function yk(i,o){return i!=null&&o in Ie(i)}function wk(i,o,u){return i>=dt(o,u)&&i<qe(o,u)}function Qf(i,o,u){for(var f=u?Of:Ea,p=i[0].length,_=i.length,w=_,S=x(_),k=1/0,O=[];w--;){var L=i[w];w&&o&&(L=De(L,$t(o))),k=dt(L.length,k),S[w]=!u&&(o||p>=120&&L.length>=120)?new vi(w&&L):n}L=i[0];var M=-1,z=S[0];e:for(;++M<p&&O.length<k;){var K=L[M],Q=o?o(K):K;if(K=u||K!==0?K:0,!(z?Io(z,Q):f(O,Q,u))){for(w=_;--w;){var oe=S[w];if(!(oe?Io(oe,Q):f(i[w],Q,u)))continue e}z&&z.push(Q),O.push(K)}}return O}function Ek(i,o,u,f){return Fn(i,function(p,_,w){o(f,u(p),_,w)}),f}function Oo(i,o,u){o=xr(o,i),i=_v(i,o);var f=i==null?i:i[Wn(un(o))];return f==null?n:Ht(f,i,u)}function Am(i){return ze(i)&&Et(i)==bn}function Sk(i){return ze(i)&&Et(i)==Co}function Ck(i){return ze(i)&&Et(i)==vo}function Lo(i,o,u,f,p){return i===o?!0:i==null||o==null||!ze(i)&&!ze(o)?i!==i&&o!==o:Ik(i,o,u,f,Lo,p)}function Ik(i,o,u,f,p,_){var w=re(i),S=re(o),k=w?tn:ht(i),O=S?tn:ht(o);k=k==bn?Qn:k,O=O==bn?Qn:O;var L=k==Qn,M=O==Qn,z=k==O;if(z&&Pr(i)){if(!Pr(o))return!1;w=!0,L=!1}if(z&&!L)return _||(_=new En),w||hs(i)?uv(i,o,u,f,p,_):Xk(i,o,k,u,f,p,_);if(!(u&N)){var K=L&&Se.call(i,"__wrapped__"),Q=M&&Se.call(o,"__wrapped__");if(K||Q){var oe=K?i.value():i,X=Q?o.value():o;return _||(_=new En),p(oe,X,u,f,_)}}return z?(_||(_=new En),Jk(i,o,u,f,p,_)):!1}function Tk(i){return ze(i)&&ht(i)==vn}function Xf(i,o,u,f){var p=u.length,_=p,w=!f;if(i==null)return!_;for(i=Ie(i);p--;){var S=u[p];if(w&&S[2]?S[1]!==i[S[0]]:!(S[0]in i))return!1}for(;++p<_;){S=u[p];var k=S[0],O=i[k],L=S[1];if(w&&S[2]){if(O===n&&!(k in i))return!1}else{var M=new En;if(f)var z=f(O,L,k,i,o,M);if(!(z===n?Lo(L,O,N|P,f,M):z))return!1}}return!0}function Pm(i){if(!be(i)||lR(i))return!1;var o=rr(i)?TT:gI;return o.test(Si(i))}function kk(i){return ze(i)&&Et(i)==wo}function Rk(i){return ze(i)&&ht(i)==yn}function Nk(i){return ze(i)&&ru(i.length)&&!!Ae[Et(i)]}function Om(i){return typeof i=="function"?i:i==null?Lt:typeof i=="object"?re(i)?Mm(i[0],i[1]):Dm(i):ey(i)}function Jf(i){if(!bo(i))return PT(i);var o=[];for(var u in Ie(i))Se.call(i,u)&&u!="constructor"&&o.push(u);return o}function xk(i){if(!be(i))return fR(i);var o=bo(i),u=[];for(var f in i)f=="constructor"&&(o||!Se.call(i,f))||u.push(f);return u}function Zf(i,o){return i<o}function Lm(i,o){var u=-1,f=Pt(i)?x(i.length):[];return Rr(i,function(p,_,w){f[++u]=o(p,_,w)}),f}function Dm(i){var o=pd(i);return o.length==1&&o[0][2]?pv(o[0][0],o[0][1]):function(u){return u===i||Xf(u,i,o)}}function Mm(i,o){return _d(i)&&hv(o)?pv(Wn(i),o):function(u){var f=kd(u,i);return f===n&&f===o?Rd(u,i):Lo(o,f,N|P)}}function Ba(i,o,u,f,p){i!==o&&Kf(o,function(_,w){if(p||(p=new En),be(_))Ak(i,o,w,u,Ba,f,p);else{var S=f?f(vd(i,w),_,w+"",i,o,p):n;S===n&&(S=_),Gf(i,w,S)}},Ot)}function Ak(i,o,u,f,p,_,w){var S=vd(i,u),k=vd(o,u),O=w.get(k);if(O){Gf(i,u,O);return}var L=_?_(S,k,u+"",i,o,w):n,M=L===n;if(M){var z=re(k),K=!z&&Pr(k),Q=!z&&!K&&hs(k);L=k,z||K||Q?re(S)?L=S:$e(S)?L=At(S):K?(M=!1,L=Km(k,!0)):Q?(M=!1,L=Ym(k,!0)):L=[]:Uo(k)||Ci(k)?(L=S,Ci(S)?L=Vv(S):(!be(S)||rr(S))&&(L=dv(k))):M=!1}M&&(w.set(k,L),p(L,k,f,_,w),w.delete(k)),Gf(i,u,L)}function bm(i,o){var u=i.length;if(u)return o+=o<0?u:0,nr(o,u)?i[o]:n}function Fm(i,o,u){o.length?o=De(o,function(_){return re(_)?function(w){return wi(w,_.length===1?_[0]:_)}:_}):o=[Lt];var f=-1;o=De(o,$t(Y()));var p=Lm(i,function(_,w,S){var k=De(o,function(O){return O(_)});return{criteria:k,index:++f,value:_}});return rT(p,function(_,w){return $k(_,w,u)})}function Pk(i,o){return Um(i,o,function(u,f){return Rd(i,f)})}function Um(i,o,u){for(var f=-1,p=o.length,_={};++f<p;){var w=o[f],S=wi(i,w);u(S,w)&&Do(_,xr(w,i),S)}return _}function Ok(i){return function(o){return wi(o,i)}}function ed(i,o,u,f){var p=f?nT:ns,_=-1,w=o.length,S=i;for(i===o&&(o=At(o)),u&&(S=De(i,$t(u)));++_<w;)for(var k=0,O=o[_],L=u?u(O):O;(k=p(S,L,k,f))>-1;)S!==i&&Pa.call(S,k,1),Pa.call(i,k,1);return i}function Wm(i,o){for(var u=i?o.length:0,f=u-1;u--;){var p=o[u];if(u==f||p!==_){var _=p;nr(p)?Pa.call(i,p,1):id(i,p)}}return i}function td(i,o){return i+Da(ym()*(o-i+1))}function Lk(i,o,u,f){for(var p=-1,_=qe(La((o-i)/(u||1)),0),w=x(_);_--;)w[f?_:++p]=i,i+=u;return w}function nd(i,o){var u="";if(!i||o<1||o>B)return u;do o%2&&(u+=i),o=Da(o/2),o&&(i+=i);while(o);return u}function le(i,o){return yd(gv(i,o,Lt),i+"")}function Dk(i){return Sm(ps(i))}function Mk(i,o){var u=ps(i);return Xa(u,yi(o,0,u.length))}function Do(i,o,u,f){if(!be(i))return i;o=xr(o,i);for(var p=-1,_=o.length,w=_-1,S=i;S!=null&&++p<_;){var k=Wn(o[p]),O=u;if(k==="__proto__"||k==="constructor"||k==="prototype")return i;if(p!=w){var L=S[k];O=f?f(L,k,S):n,O===n&&(O=be(L)?L:nr(o[p+1])?[]:{})}Ao(S,k,O),S=S[k]}return i}var zm=Ma?function(i,o){return Ma.set(i,o),i}:Lt,bk=Oa?function(i,o){return Oa(i,"toString",{configurable:!0,enumerable:!1,value:xd(o),writable:!0})}:Lt;function Fk(i){return Xa(ps(i))}function an(i,o,u){var f=-1,p=i.length;o<0&&(o=-o>p?0:p+o),u=u>p?p:u,u<0&&(u+=p),p=o>u?0:u-o>>>0,o>>>=0;for(var _=x(p);++f<p;)_[f]=i[f+o];return _}function Uk(i,o){var u;return Rr(i,function(f,p,_){return u=o(f,p,_),!u}),!!u}function Ha(i,o,u){var f=0,p=i==null?f:i.length;if(typeof o=="number"&&o===o&&p<=Ji){for(;f<p;){var _=f+p>>>1,w=i[_];w!==null&&!Gt(w)&&(u?w<=o:w<o)?f=_+1:p=_}return p}return rd(i,o,Lt,u)}function rd(i,o,u,f){var p=0,_=i==null?0:i.length;if(_===0)return 0;o=u(o);for(var w=o!==o,S=o===null,k=Gt(o),O=o===n;p<_;){var L=Da((p+_)/2),M=u(i[L]),z=M!==n,K=M===null,Q=M===M,oe=Gt(M);if(w)var X=f||Q;else O?X=Q&&(f||z):S?X=Q&&z&&(f||!K):k?X=Q&&z&&!K&&(f||!oe):K||oe?X=!1:X=f?M<=o:M<o;X?p=L+1:_=L}return dt(_,je)}function Bm(i,o){for(var u=-1,f=i.length,p=0,_=[];++u<f;){var w=i[u],S=o?o(w):w;if(!u||!Sn(S,k)){var k=S;_[p++]=w===0?0:w}}return _}function Hm(i){return typeof i=="number"?i:Gt(i)?ne:+i}function Vt(i){if(typeof i=="string")return i;if(re(i))return De(i,Vt)+"";if(Gt(i))return wm?wm.call(i):"";var o=i+"";return o=="0"&&1/i==-mn?"-0":o}function Nr(i,o,u){var f=-1,p=Ea,_=i.length,w=!0,S=[],k=S;if(u)w=!1,p=Of;else if(_>=s){var O=o?null:qk(i);if(O)return Ca(O);w=!1,p=Io,k=new vi}else k=o?[]:S;e:for(;++f<_;){var L=i[f],M=o?o(L):L;if(L=u||L!==0?L:0,w&&M===M){for(var z=k.length;z--;)if(k[z]===M)continue e;o&&k.push(M),S.push(L)}else p(k,M,u)||(k!==S&&k.push(M),S.push(L))}return S}function id(i,o){return o=xr(o,i),i=_v(i,o),i==null||delete i[Wn(un(o))]}function $m(i,o,u,f){return Do(i,o,u(wi(i,o)),f)}function $a(i,o,u,f){for(var p=i.length,_=f?p:-1;(f?_--:++_<p)&&o(i[_],_,i););return u?an(i,f?0:_,f?_+1:p):an(i,f?_+1:0,f?p:_)}function Vm(i,o){var u=i;return u instanceof de&&(u=u.value()),Lf(o,function(f,p){return p.func.apply(p.thisArg,Ir([f],p.args))},u)}function sd(i,o,u){var f=i.length;if(f<2)return f?Nr(i[0]):[];for(var p=-1,_=x(f);++p<f;)for(var w=i[p],S=-1;++S<f;)S!=p&&(_[p]=Po(_[p]||w,i[S],o,u));return Nr(lt(_,1),o,u)}function Gm(i,o,u){for(var f=-1,p=i.length,_=o.length,w={};++f<p;){var S=f<_?o[f]:n;u(w,i[f],S)}return w}function od(i){return $e(i)?i:[]}function ld(i){return typeof i=="function"?i:Lt}function xr(i,o){return re(i)?i:_d(i,o)?[i]:wv(Ee(i))}var Wk=le;function Ar(i,o,u){var f=i.length;return u=u===n?f:u,!o&&u>=f?i:an(i,o,u)}var jm=kT||function(i){return ot.clearTimeout(i)};function Km(i,o){if(o)return i.slice();var u=i.length,f=pm?pm(u):new i.constructor(u);return i.copy(f),f}function ad(i){var o=new i.constructor(i.byteLength);return new xa(o).set(new xa(i)),o}function zk(i,o){var u=o?ad(i.buffer):i.buffer;return new i.constructor(u,i.byteOffset,i.byteLength)}function Bk(i){var o=new i.constructor(i.source,A_.exec(i));return o.lastIndex=i.lastIndex,o}function Hk(i){return xo?Ie(xo.call(i)):{}}function Ym(i,o){var u=o?ad(i.buffer):i.buffer;return new i.constructor(u,i.byteOffset,i.length)}function qm(i,o){if(i!==o){var u=i!==n,f=i===null,p=i===i,_=Gt(i),w=o!==n,S=o===null,k=o===o,O=Gt(o);if(!S&&!O&&!_&&i>o||_&&w&&k&&!S&&!O||f&&w&&k||!u&&k||!p)return 1;if(!f&&!_&&!O&&i<o||O&&u&&p&&!f&&!_||S&&u&&p||!w&&p||!k)return-1}return 0}function $k(i,o,u){for(var f=-1,p=i.criteria,_=o.criteria,w=p.length,S=u.length;++f<w;){var k=qm(p[f],_[f]);if(k){if(f>=S)return k;var O=u[f];return k*(O=="desc"?-1:1)}}return i.index-o.index}function Qm(i,o,u,f){for(var p=-1,_=i.length,w=u.length,S=-1,k=o.length,O=qe(_-w,0),L=x(k+O),M=!f;++S<k;)L[S]=o[S];for(;++p<w;)(M||p<_)&&(L[u[p]]=i[p]);for(;O--;)L[S++]=i[p++];return L}function Xm(i,o,u,f){for(var p=-1,_=i.length,w=-1,S=u.length,k=-1,O=o.length,L=qe(_-S,0),M=x(L+O),z=!f;++p<L;)M[p]=i[p];for(var K=p;++k<O;)M[K+k]=o[k];for(;++w<S;)(z||p<_)&&(M[K+u[w]]=i[p++]);return M}function At(i,o){var u=-1,f=i.length;for(o||(o=x(f));++u<f;)o[u]=i[u];return o}function Un(i,o,u,f){var p=!u;u||(u={});for(var _=-1,w=o.length;++_<w;){var S=o[_],k=f?f(u[S],i[S],S,u,i):n;k===n&&(k=i[S]),p?Zn(u,S,k):Ao(u,S,k)}return u}function Vk(i,o){return Un(i,gd(i),o)}function Gk(i,o){return Un(i,cv(i),o)}function Va(i,o){return function(u,f){var p=re(u)?QI:hk,_=o?o():{};return p(u,i,Y(f,2),_)}}function cs(i){return le(function(o,u){var f=-1,p=u.length,_=p>1?u[p-1]:n,w=p>2?u[2]:n;for(_=i.length>3&&typeof _=="function"?(p--,_):n,w&&St(u[0],u[1],w)&&(_=p<3?n:_,p=1),o=Ie(o);++f<p;){var S=u[f];S&&i(o,S,f,_)}return o})}function Jm(i,o){return function(u,f){if(u==null)return u;if(!Pt(u))return i(u,f);for(var p=u.length,_=o?p:-1,w=Ie(u);(o?_--:++_<p)&&f(w[_],_,w)!==!1;);return u}}function Zm(i){return function(o,u,f){for(var p=-1,_=Ie(o),w=f(o),S=w.length;S--;){var k=w[i?S:++p];if(u(_[k],k,_)===!1)break}return o}}function jk(i,o,u){var f=o&j,p=Mo(i);function _(){var w=this&&this!==ot&&this instanceof _?p:i;return w.apply(f?u:this,arguments)}return _}function ev(i){return function(o){o=Ee(o);var u=rs(o)?wn(o):n,f=u?u[0]:o.charAt(0),p=u?Ar(u,1).join(""):o.slice(1);return f[i]()+p}}function fs(i){return function(o){return Lf(Jv(Xv(o).replace(bI,"")),i,"")}}function Mo(i){return function(){var o=arguments;switch(o.length){case 0:return new i;case 1:return new i(o[0]);case 2:return new i(o[0],o[1]);case 3:return new i(o[0],o[1],o[2]);case 4:return new i(o[0],o[1],o[2],o[3]);case 5:return new i(o[0],o[1],o[2],o[3],o[4]);case 6:return new i(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new i(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var u=us(i.prototype),f=i.apply(u,o);return be(f)?f:u}}function Kk(i,o,u){var f=Mo(i);function p(){for(var _=arguments.length,w=x(_),S=_,k=ds(p);S--;)w[S]=arguments[S];var O=_<3&&w[0]!==k&&w[_-1]!==k?[]:Tr(w,k);if(_-=O.length,_<u)return sv(i,o,Ga,p.placeholder,n,w,O,n,n,u-_);var L=this&&this!==ot&&this instanceof p?f:i;return Ht(L,this,w)}return p}function tv(i){return function(o,u,f){var p=Ie(o);if(!Pt(o)){var _=Y(u,3);o=et(o),u=function(S){return _(p[S],S,p)}}var w=i(o,u,f);return w>-1?p[_?o[w]:w]:n}}function nv(i){return tr(function(o){var u=o.length,f=u,p=on.prototype.thru;for(i&&o.reverse();f--;){var _=o[f];if(typeof _!="function")throw new sn(a);if(p&&!w&&qa(_)=="wrapper")var w=new on([],!0)}for(f=w?f:u;++f<u;){_=o[f];var S=qa(_),k=S=="wrapper"?hd(_):n;k&&md(k[0])&&k[1]==(W|T|U|H)&&!k[4].length&&k[9]==1?w=w[qa(k[0])].apply(w,k[3]):w=_.length==1&&md(_)?w[S]():w.thru(_)}return function(){var O=arguments,L=O[0];if(w&&O.length==1&&re(L))return w.plant(L).value();for(var M=0,z=u?o[M].apply(this,O):L;++M<u;)z=o[M].call(this,z);return z}})}function Ga(i,o,u,f,p,_,w,S,k,O){var L=o&W,M=o&j,z=o&C,K=o&(T|D),Q=o&ye,oe=z?n:Mo(i);function X(){for(var ce=arguments.length,pe=x(ce),jt=ce;jt--;)pe[jt]=arguments[jt];if(K)var Ct=ds(X),Kt=sT(pe,Ct);if(f&&(pe=Qm(pe,f,p,K)),_&&(pe=Xm(pe,_,w,K)),ce-=Kt,K&&ce<O){var Ve=Tr(pe,Ct);return sv(i,o,Ga,X.placeholder,u,pe,Ve,S,k,O-ce)}var Cn=M?u:this,sr=z?Cn[i]:i;return ce=pe.length,S?pe=hR(pe,S):Q&&ce>1&&pe.reverse(),L&&k<ce&&(pe.length=k),this&&this!==ot&&this instanceof X&&(sr=oe||Mo(sr)),sr.apply(Cn,pe)}return X}function rv(i,o){return function(u,f){return Ek(u,i,o(f),{})}}function ja(i,o){return function(u,f){var p;if(u===n&&f===n)return o;if(u!==n&&(p=u),f!==n){if(p===n)return f;typeof u=="string"||typeof f=="string"?(u=Vt(u),f=Vt(f)):(u=Hm(u),f=Hm(f)),p=i(u,f)}return p}}function ud(i){return tr(function(o){return o=De(o,$t(Y())),le(function(u){var f=this;return i(o,function(p){return Ht(p,f,u)})})})}function Ka(i,o){o=o===n?" ":Vt(o);var u=o.length;if(u<2)return u?nd(o,i):o;var f=nd(o,La(i/is(o)));return rs(o)?Ar(wn(f),0,i).join(""):f.slice(0,i)}function Yk(i,o,u,f){var p=o&j,_=Mo(i);function w(){for(var S=-1,k=arguments.length,O=-1,L=f.length,M=x(L+k),z=this&&this!==ot&&this instanceof w?_:i;++O<L;)M[O]=f[O];for(;k--;)M[O++]=arguments[++S];return Ht(z,p?u:this,M)}return w}function iv(i){return function(o,u,f){return f&&typeof f!="number"&&St(o,u,f)&&(u=f=n),o=ir(o),u===n?(u=o,o=0):u=ir(u),f=f===n?o<u?1:-1:ir(f),Lk(o,u,f,i)}}function Ya(i){return function(o,u){return typeof o=="string"&&typeof u=="string"||(o=cn(o),u=cn(u)),i(o,u)}}function sv(i,o,u,f,p,_,w,S,k,O){var L=o&T,M=L?w:n,z=L?n:w,K=L?_:n,Q=L?n:_;o|=L?U:$,o&=~(L?$:U),o&E||(o&=~(j|C));var oe=[i,o,p,K,M,Q,z,S,k,O],X=u.apply(n,oe);return md(i)&&mv(X,oe),X.placeholder=f,vv(X,i,o)}function cd(i){var o=Ye[i];return function(u,f){if(u=cn(u),f=f==null?0:dt(se(f),292),f&&vm(u)){var p=(Ee(u)+"e").split("e"),_=o(p[0]+"e"+(+p[1]+f));return p=(Ee(_)+"e").split("e"),+(p[0]+"e"+(+p[1]-f))}return o(u)}}var qk=ls&&1/Ca(new ls([,-0]))[1]==mn?function(i){return new ls(i)}:Od;function ov(i){return function(o){var u=ht(o);return u==vn?zf(o):u==yn?dT(o):iT(o,i(o))}}function er(i,o,u,f,p,_,w,S){var k=o&C;if(!k&&typeof i!="function")throw new sn(a);var O=f?f.length:0;if(O||(o&=~(U|$),f=p=n),w=w===n?w:qe(se(w),0),S=S===n?S:se(S),O-=p?p.length:0,o&$){var L=f,M=p;f=p=n}var z=k?n:hd(i),K=[i,o,u,f,p,L,M,_,w,S];if(z&&cR(K,z),i=K[0],o=K[1],u=K[2],f=K[3],p=K[4],S=K[9]=K[9]===n?k?0:i.length:qe(K[9]-O,0),!S&&o&(T|D)&&(o&=~(T|D)),!o||o==j)var Q=jk(i,o,u);else o==T||o==D?Q=Kk(i,o,S):(o==U||o==(j|U))&&!p.length?Q=Yk(i,o,u,f):Q=Ga.apply(n,K);var oe=z?zm:mv;return vv(oe(Q,K),i,o)}function lv(i,o,u,f){return i===n||Sn(i,os[u])&&!Se.call(f,u)?o:i}function av(i,o,u,f,p,_){return be(i)&&be(o)&&(_.set(o,i),Ba(i,o,n,av,_),_.delete(o)),i}function Qk(i){return Uo(i)?n:i}function uv(i,o,u,f,p,_){var w=u&N,S=i.length,k=o.length;if(S!=k&&!(w&&k>S))return!1;var O=_.get(i),L=_.get(o);if(O&&L)return O==o&&L==i;var M=-1,z=!0,K=u&P?new vi:n;for(_.set(i,o),_.set(o,i);++M<S;){var Q=i[M],oe=o[M];if(f)var X=w?f(oe,Q,M,o,i,_):f(Q,oe,M,i,o,_);if(X!==n){if(X)continue;z=!1;break}if(K){if(!Df(o,function(ce,pe){if(!Io(K,pe)&&(Q===ce||p(Q,ce,u,f,_)))return K.push(pe)})){z=!1;break}}else if(!(Q===oe||p(Q,oe,u,f,_))){z=!1;break}}return _.delete(i),_.delete(o),z}function Xk(i,o,u,f,p,_,w){switch(u){case es:if(i.byteLength!=o.byteLength||i.byteOffset!=o.byteOffset)return!1;i=i.buffer,o=o.buffer;case Co:return!(i.byteLength!=o.byteLength||!_(new xa(i),new xa(o)));case mo:case vo:case yo:return Sn(+i,+o);case ga:return i.name==o.name&&i.message==o.message;case wo:case Eo:return i==o+"";case vn:var S=zf;case yn:var k=f&N;if(S||(S=Ca),i.size!=o.size&&!k)return!1;var O=w.get(i);if(O)return O==o;f|=P,w.set(i,o);var L=uv(S(i),S(o),f,p,_,w);return w.delete(i),L;case ma:if(xo)return xo.call(i)==xo.call(o)}return!1}function Jk(i,o,u,f,p,_){var w=u&N,S=fd(i),k=S.length,O=fd(o),L=O.length;if(k!=L&&!w)return!1;for(var M=k;M--;){var z=S[M];if(!(w?z in o:Se.call(o,z)))return!1}var K=_.get(i),Q=_.get(o);if(K&&Q)return K==o&&Q==i;var oe=!0;_.set(i,o),_.set(o,i);for(var X=w;++M<k;){z=S[M];var ce=i[z],pe=o[z];if(f)var jt=w?f(pe,ce,z,o,i,_):f(ce,pe,z,i,o,_);if(!(jt===n?ce===pe||p(ce,pe,u,f,_):jt)){oe=!1;break}X||(X=z=="constructor")}if(oe&&!X){var Ct=i.constructor,Kt=o.constructor;Ct!=Kt&&"constructor"in i&&"constructor"in o&&!(typeof Ct=="function"&&Ct instanceof Ct&&typeof Kt=="function"&&Kt instanceof Kt)&&(oe=!1)}return _.delete(i),_.delete(o),oe}function tr(i){return yd(gv(i,n,Iv),i+"")}function fd(i){return xm(i,et,gd)}function dd(i){return xm(i,Ot,cv)}var hd=Ma?function(i){return Ma.get(i)}:Od;function qa(i){for(var o=i.name+"",u=as[o],f=Se.call(as,o)?u.length:0;f--;){var p=u[f],_=p.func;if(_==null||_==i)return p.name}return o}function ds(i){var o=Se.call(g,"placeholder")?g:i;return o.placeholder}function Y(){var i=g.iteratee||Ad;return i=i===Ad?Om:i,arguments.length?i(arguments[0],arguments[1]):i}function Qa(i,o){var u=i.__data__;return oR(o)?u[typeof o=="string"?"string":"hash"]:u.map}function pd(i){for(var o=et(i),u=o.length;u--;){var f=o[u],p=i[f];o[u]=[f,p,hv(p)]}return o}function Ei(i,o){var u=uT(i,o);return Pm(u)?u:n}function Zk(i){var o=Se.call(i,_i),u=i[_i];try{i[_i]=n;var f=!0}catch{}var p=Ra.call(i);return f&&(o?i[_i]=u:delete i[_i]),p}var gd=Hf?function(i){return i==null?[]:(i=Ie(i),Cr(Hf(i),function(o){return _m.call(i,o)}))}:Ld,cv=Hf?function(i){for(var o=[];i;)Ir(o,gd(i)),i=Aa(i);return o}:Ld,ht=Et;($f&&ht(new $f(new ArrayBuffer(1)))!=es||ko&&ht(new ko)!=vn||Vf&&ht(Vf.resolve())!=k_||ls&&ht(new ls)!=yn||Ro&&ht(new Ro)!=So)&&(ht=function(i){var o=Et(i),u=o==Qn?i.constructor:n,f=u?Si(u):"";if(f)switch(f){case MT:return es;case bT:return vn;case FT:return k_;case UT:return yn;case WT:return So}return o});function eR(i,o,u){for(var f=-1,p=u.length;++f<p;){var _=u[f],w=_.size;switch(_.type){case"drop":i+=w;break;case"dropRight":o-=w;break;case"take":o=dt(o,i+w);break;case"takeRight":i=qe(i,o-w);break}}return{start:i,end:o}}function tR(i){var o=i.match(lI);return o?o[1].split(aI):[]}function fv(i,o,u){o=xr(o,i);for(var f=-1,p=o.length,_=!1;++f<p;){var w=Wn(o[f]);if(!(_=i!=null&&u(i,w)))break;i=i[w]}return _||++f!=p?_:(p=i==null?0:i.length,!!p&&ru(p)&&nr(w,p)&&(re(i)||Ci(i)))}function nR(i){var o=i.length,u=new i.constructor(o);return o&&typeof i[0]=="string"&&Se.call(i,"index")&&(u.index=i.index,u.input=i.input),u}function dv(i){return typeof i.constructor=="function"&&!bo(i)?us(Aa(i)):{}}function rR(i,o,u){var f=i.constructor;switch(o){case Co:return ad(i);case mo:case vo:return new f(+i);case es:return zk(i,u);case pf:case gf:case _f:case mf:case vf:case yf:case wf:case Ef:case Sf:return Ym(i,u);case vn:return new f;case yo:case Eo:return new f(i);case wo:return Bk(i);case yn:return new f;case ma:return Hk(i)}}function iR(i,o){var u=o.length;if(!u)return i;var f=u-1;return o[f]=(u>1?"& ":"")+o[f],o=o.join(u>2?", ":" "),i.replace(oI,`{
/* [wrapped with `+o+`] */
`)}function sR(i){return re(i)||Ci(i)||!!(mm&&i&&i[mm])}function nr(i,o){var u=typeof i;return o=o??B,!!o&&(u=="number"||u!="symbol"&&mI.test(i))&&i>-1&&i%1==0&&i<o}function St(i,o,u){if(!be(u))return!1;var f=typeof o;return(f=="number"?Pt(u)&&nr(o,u.length):f=="string"&&o in u)?Sn(u[o],i):!1}function _d(i,o){if(re(i))return!1;var u=typeof i;return u=="number"||u=="symbol"||u=="boolean"||i==null||Gt(i)?!0:nI.test(i)||!tI.test(i)||o!=null&&i in Ie(o)}function oR(i){var o=typeof i;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?i!=="__proto__":i===null}function md(i){var o=qa(i),u=g[o];if(typeof u!="function"||!(o in de.prototype))return!1;if(i===u)return!0;var f=hd(u);return!!f&&i===f[0]}function lR(i){return!!hm&&hm in i}var aR=Ta?rr:Dd;function bo(i){var o=i&&i.constructor,u=typeof o=="function"&&o.prototype||os;return i===u}function hv(i){return i===i&&!be(i)}function pv(i,o){return function(u){return u==null?!1:u[i]===o&&(o!==n||i in Ie(u))}}function uR(i){var o=tu(i,function(f){return u.size===h&&u.clear(),f}),u=o.cache;return o}function cR(i,o){var u=i[1],f=o[1],p=u|f,_=p<(j|C|W),w=f==W&&u==T||f==W&&u==H&&i[7].length<=o[8]||f==(W|H)&&o[7].length<=o[8]&&u==T;if(!(_||w))return i;f&j&&(i[2]=o[2],p|=u&j?0:E);var S=o[3];if(S){var k=i[3];i[3]=k?Qm(k,S,o[4]):S,i[4]=k?Tr(i[3],v):o[4]}return S=o[5],S&&(k=i[5],i[5]=k?Xm(k,S,o[6]):S,i[6]=k?Tr(i[5],v):o[6]),S=o[7],S&&(i[7]=S),f&W&&(i[8]=i[8]==null?o[8]:dt(i[8],o[8])),i[9]==null&&(i[9]=o[9]),i[0]=o[0],i[1]=p,i}function fR(i){var o=[];if(i!=null)for(var u in Ie(i))o.push(u);return o}function dR(i){return Ra.call(i)}function gv(i,o,u){return o=qe(o===n?i.length-1:o,0),function(){for(var f=arguments,p=-1,_=qe(f.length-o,0),w=x(_);++p<_;)w[p]=f[o+p];p=-1;for(var S=x(o+1);++p<o;)S[p]=f[p];return S[o]=u(w),Ht(i,this,S)}}function _v(i,o){return o.length<2?i:wi(i,an(o,0,-1))}function hR(i,o){for(var u=i.length,f=dt(o.length,u),p=At(i);f--;){var _=o[f];i[f]=nr(_,u)?p[_]:n}return i}function vd(i,o){if(!(o==="constructor"&&typeof i[o]=="function")&&o!="__proto__")return i[o]}var mv=yv(zm),Fo=NT||function(i,o){return ot.setTimeout(i,o)},yd=yv(bk);function vv(i,o,u){var f=o+"";return yd(i,iR(f,pR(tR(f),u)))}function yv(i){var o=0,u=0;return function(){var f=OT(),p=pi-(f-u);if(u=f,p>0){if(++o>=hi)return arguments[0]}else o=0;return i.apply(n,arguments)}}function Xa(i,o){var u=-1,f=i.length,p=f-1;for(o=o===n?f:o;++u<o;){var _=td(u,p),w=i[_];i[_]=i[u],i[u]=w}return i.length=o,i}var wv=uR(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(rI,function(u,f,p,_){o.push(p?_.replace(fI,"$1"):f||u)}),o});function Wn(i){if(typeof i=="string"||Gt(i))return i;var o=i+"";return o=="0"&&1/i==-mn?"-0":o}function Si(i){if(i!=null){try{return ka.call(i)}catch{}try{return i+""}catch{}}return""}function pR(i,o){return rn(qn,function(u){var f="_."+u[0];o&u[1]&&!Ea(i,f)&&i.push(f)}),i.sort()}function Ev(i){if(i instanceof de)return i.clone();var o=new on(i.__wrapped__,i.__chain__);return o.__actions__=At(i.__actions__),o.__index__=i.__index__,o.__values__=i.__values__,o}function gR(i,o,u){(u?St(i,o,u):o===n)?o=1:o=qe(se(o),0);var f=i==null?0:i.length;if(!f||o<1)return[];for(var p=0,_=0,w=x(La(f/o));p<f;)w[_++]=an(i,p,p+=o);return w}function _R(i){for(var o=-1,u=i==null?0:i.length,f=0,p=[];++o<u;){var _=i[o];_&&(p[f++]=_)}return p}function mR(){var i=arguments.length;if(!i)return[];for(var o=x(i-1),u=arguments[0],f=i;f--;)o[f-1]=arguments[f];return Ir(re(u)?At(u):[u],lt(o,1))}var vR=le(function(i,o){return $e(i)?Po(i,lt(o,1,$e,!0)):[]}),yR=le(function(i,o){var u=un(o);return $e(u)&&(u=n),$e(i)?Po(i,lt(o,1,$e,!0),Y(u,2)):[]}),wR=le(function(i,o){var u=un(o);return $e(u)&&(u=n),$e(i)?Po(i,lt(o,1,$e,!0),n,u):[]});function ER(i,o,u){var f=i==null?0:i.length;return f?(o=u||o===n?1:se(o),an(i,o<0?0:o,f)):[]}function SR(i,o,u){var f=i==null?0:i.length;return f?(o=u||o===n?1:se(o),o=f-o,an(i,0,o<0?0:o)):[]}function CR(i,o){return i&&i.length?$a(i,Y(o,3),!0,!0):[]}function IR(i,o){return i&&i.length?$a(i,Y(o,3),!0):[]}function TR(i,o,u,f){var p=i==null?0:i.length;return p?(u&&typeof u!="number"&&St(i,o,u)&&(u=0,f=p),mk(i,o,u,f)):[]}function Sv(i,o,u){var f=i==null?0:i.length;if(!f)return-1;var p=u==null?0:se(u);return p<0&&(p=qe(f+p,0)),Sa(i,Y(o,3),p)}function Cv(i,o,u){var f=i==null?0:i.length;if(!f)return-1;var p=f-1;return u!==n&&(p=se(u),p=u<0?qe(f+p,0):dt(p,f-1)),Sa(i,Y(o,3),p,!0)}function Iv(i){var o=i==null?0:i.length;return o?lt(i,1):[]}function kR(i){var o=i==null?0:i.length;return o?lt(i,mn):[]}function RR(i,o){var u=i==null?0:i.length;return u?(o=o===n?1:se(o),lt(i,o)):[]}function NR(i){for(var o=-1,u=i==null?0:i.length,f={};++o<u;){var p=i[o];f[p[0]]=p[1]}return f}function Tv(i){return i&&i.length?i[0]:n}function xR(i,o,u){var f=i==null?0:i.length;if(!f)return-1;var p=u==null?0:se(u);return p<0&&(p=qe(f+p,0)),ns(i,o,p)}function AR(i){var o=i==null?0:i.length;return o?an(i,0,-1):[]}var PR=le(function(i){var o=De(i,od);return o.length&&o[0]===i[0]?Qf(o):[]}),OR=le(function(i){var o=un(i),u=De(i,od);return o===un(u)?o=n:u.pop(),u.length&&u[0]===i[0]?Qf(u,Y(o,2)):[]}),LR=le(function(i){var o=un(i),u=De(i,od);return o=typeof o=="function"?o:n,o&&u.pop(),u.length&&u[0]===i[0]?Qf(u,n,o):[]});function DR(i,o){return i==null?"":AT.call(i,o)}function un(i){var o=i==null?0:i.length;return o?i[o-1]:n}function MR(i,o,u){var f=i==null?0:i.length;if(!f)return-1;var p=f;return u!==n&&(p=se(u),p=p<0?qe(f+p,0):dt(p,f-1)),o===o?pT(i,o,p):Sa(i,sm,p,!0)}function bR(i,o){return i&&i.length?bm(i,se(o)):n}var FR=le(kv);function kv(i,o){return i&&i.length&&o&&o.length?ed(i,o):i}function UR(i,o,u){return i&&i.length&&o&&o.length?ed(i,o,Y(u,2)):i}function WR(i,o,u){return i&&i.length&&o&&o.length?ed(i,o,n,u):i}var zR=tr(function(i,o){var u=i==null?0:i.length,f=jf(i,o);return Wm(i,De(o,function(p){return nr(p,u)?+p:p}).sort(qm)),f});function BR(i,o){var u=[];if(!(i&&i.length))return u;var f=-1,p=[],_=i.length;for(o=Y(o,3);++f<_;){var w=i[f];o(w,f,i)&&(u.push(w),p.push(f))}return Wm(i,p),u}function wd(i){return i==null?i:DT.call(i)}function HR(i,o,u){var f=i==null?0:i.length;return f?(u&&typeof u!="number"&&St(i,o,u)?(o=0,u=f):(o=o==null?0:se(o),u=u===n?f:se(u)),an(i,o,u)):[]}function $R(i,o){return Ha(i,o)}function VR(i,o,u){return rd(i,o,Y(u,2))}function GR(i,o){var u=i==null?0:i.length;if(u){var f=Ha(i,o);if(f<u&&Sn(i[f],o))return f}return-1}function jR(i,o){return Ha(i,o,!0)}function KR(i,o,u){return rd(i,o,Y(u,2),!0)}function YR(i,o){var u=i==null?0:i.length;if(u){var f=Ha(i,o,!0)-1;if(Sn(i[f],o))return f}return-1}function qR(i){return i&&i.length?Bm(i):[]}function QR(i,o){return i&&i.length?Bm(i,Y(o,2)):[]}function XR(i){var o=i==null?0:i.length;return o?an(i,1,o):[]}function JR(i,o,u){return i&&i.length?(o=u||o===n?1:se(o),an(i,0,o<0?0:o)):[]}function ZR(i,o,u){var f=i==null?0:i.length;return f?(o=u||o===n?1:se(o),o=f-o,an(i,o<0?0:o,f)):[]}function eN(i,o){return i&&i.length?$a(i,Y(o,3),!1,!0):[]}function tN(i,o){return i&&i.length?$a(i,Y(o,3)):[]}var nN=le(function(i){return Nr(lt(i,1,$e,!0))}),rN=le(function(i){var o=un(i);return $e(o)&&(o=n),Nr(lt(i,1,$e,!0),Y(o,2))}),iN=le(function(i){var o=un(i);return o=typeof o=="function"?o:n,Nr(lt(i,1,$e,!0),n,o)});function sN(i){return i&&i.length?Nr(i):[]}function oN(i,o){return i&&i.length?Nr(i,Y(o,2)):[]}function lN(i,o){return o=typeof o=="function"?o:n,i&&i.length?Nr(i,n,o):[]}function Ed(i){if(!(i&&i.length))return[];var o=0;return i=Cr(i,function(u){if($e(u))return o=qe(u.length,o),!0}),Uf(o,function(u){return De(i,Mf(u))})}function Rv(i,o){if(!(i&&i.length))return[];var u=Ed(i);return o==null?u:De(u,function(f){return Ht(o,n,f)})}var aN=le(function(i,o){return $e(i)?Po(i,o):[]}),uN=le(function(i){return sd(Cr(i,$e))}),cN=le(function(i){var o=un(i);return $e(o)&&(o=n),sd(Cr(i,$e),Y(o,2))}),fN=le(function(i){var o=un(i);return o=typeof o=="function"?o:n,sd(Cr(i,$e),n,o)}),dN=le(Ed);function hN(i,o){return Gm(i||[],o||[],Ao)}function pN(i,o){return Gm(i||[],o||[],Do)}var gN=le(function(i){var o=i.length,u=o>1?i[o-1]:n;return u=typeof u=="function"?(i.pop(),u):n,Rv(i,u)});function Nv(i){var o=g(i);return o.__chain__=!0,o}function _N(i,o){return o(i),i}function Ja(i,o){return o(i)}var mN=tr(function(i){var o=i.length,u=o?i[0]:0,f=this.__wrapped__,p=function(_){return jf(_,i)};return o>1||this.__actions__.length||!(f instanceof de)||!nr(u)?this.thru(p):(f=f.slice(u,+u+(o?1:0)),f.__actions__.push({func:Ja,args:[p],thisArg:n}),new on(f,this.__chain__).thru(function(_){return o&&!_.length&&_.push(n),_}))});function vN(){return Nv(this)}function yN(){return new on(this.value(),this.__chain__)}function wN(){this.__values__===n&&(this.__values__=Hv(this.value()));var i=this.__index__>=this.__values__.length,o=i?n:this.__values__[this.__index__++];return{done:i,value:o}}function EN(){return this}function SN(i){for(var o,u=this;u instanceof Fa;){var f=Ev(u);f.__index__=0,f.__values__=n,o?p.__wrapped__=f:o=f;var p=f;u=u.__wrapped__}return p.__wrapped__=i,o}function CN(){var i=this.__wrapped__;if(i instanceof de){var o=i;return this.__actions__.length&&(o=new de(this)),o=o.reverse(),o.__actions__.push({func:Ja,args:[wd],thisArg:n}),new on(o,this.__chain__)}return this.thru(wd)}function IN(){return Vm(this.__wrapped__,this.__actions__)}var TN=Va(function(i,o,u){Se.call(i,u)?++i[u]:Zn(i,u,1)});function kN(i,o,u){var f=re(i)?rm:_k;return u&&St(i,o,u)&&(o=n),f(i,Y(o,3))}function RN(i,o){var u=re(i)?Cr:Rm;return u(i,Y(o,3))}var NN=tv(Sv),xN=tv(Cv);function AN(i,o){return lt(Za(i,o),1)}function PN(i,o){return lt(Za(i,o),mn)}function ON(i,o,u){return u=u===n?1:se(u),lt(Za(i,o),u)}function xv(i,o){var u=re(i)?rn:Rr;return u(i,Y(o,3))}function Av(i,o){var u=re(i)?XI:km;return u(i,Y(o,3))}var LN=Va(function(i,o,u){Se.call(i,u)?i[u].push(o):Zn(i,u,[o])});function DN(i,o,u,f){i=Pt(i)?i:ps(i),u=u&&!f?se(u):0;var p=i.length;return u<0&&(u=qe(p+u,0)),iu(i)?u<=p&&i.indexOf(o,u)>-1:!!p&&ns(i,o,u)>-1}var MN=le(function(i,o,u){var f=-1,p=typeof o=="function",_=Pt(i)?x(i.length):[];return Rr(i,function(w){_[++f]=p?Ht(o,w,u):Oo(w,o,u)}),_}),bN=Va(function(i,o,u){Zn(i,u,o)});function Za(i,o){var u=re(i)?De:Lm;return u(i,Y(o,3))}function FN(i,o,u,f){return i==null?[]:(re(o)||(o=o==null?[]:[o]),u=f?n:u,re(u)||(u=u==null?[]:[u]),Fm(i,o,u))}var UN=Va(function(i,o,u){i[u?0:1].push(o)},function(){return[[],[]]});function WN(i,o,u){var f=re(i)?Lf:lm,p=arguments.length<3;return f(i,Y(o,4),u,p,Rr)}function zN(i,o,u){var f=re(i)?JI:lm,p=arguments.length<3;return f(i,Y(o,4),u,p,km)}function BN(i,o){var u=re(i)?Cr:Rm;return u(i,nu(Y(o,3)))}function HN(i){var o=re(i)?Sm:Dk;return o(i)}function $N(i,o,u){(u?St(i,o,u):o===n)?o=1:o=se(o);var f=re(i)?fk:Mk;return f(i,o)}function VN(i){var o=re(i)?dk:Fk;return o(i)}function GN(i){if(i==null)return 0;if(Pt(i))return iu(i)?is(i):i.length;var o=ht(i);return o==vn||o==yn?i.size:Jf(i).length}function jN(i,o,u){var f=re(i)?Df:Uk;return u&&St(i,o,u)&&(o=n),f(i,Y(o,3))}var KN=le(function(i,o){if(i==null)return[];var u=o.length;return u>1&&St(i,o[0],o[1])?o=[]:u>2&&St(o[0],o[1],o[2])&&(o=[o[0]]),Fm(i,lt(o,1),[])}),eu=RT||function(){return ot.Date.now()};function YN(i,o){if(typeof o!="function")throw new sn(a);return i=se(i),function(){if(--i<1)return o.apply(this,arguments)}}function Pv(i,o,u){return o=u?n:o,o=i&&o==null?i.length:o,er(i,W,n,n,n,n,o)}function Ov(i,o){var u;if(typeof o!="function")throw new sn(a);return i=se(i),function(){return--i>0&&(u=o.apply(this,arguments)),i<=1&&(o=n),u}}var Sd=le(function(i,o,u){var f=j;if(u.length){var p=Tr(u,ds(Sd));f|=U}return er(i,f,o,u,p)}),Lv=le(function(i,o,u){var f=j|C;if(u.length){var p=Tr(u,ds(Lv));f|=U}return er(o,f,i,u,p)});function Dv(i,o,u){o=u?n:o;var f=er(i,T,n,n,n,n,n,o);return f.placeholder=Dv.placeholder,f}function Mv(i,o,u){o=u?n:o;var f=er(i,D,n,n,n,n,n,o);return f.placeholder=Mv.placeholder,f}function bv(i,o,u){var f,p,_,w,S,k,O=0,L=!1,M=!1,z=!0;if(typeof i!="function")throw new sn(a);o=cn(o)||0,be(u)&&(L=!!u.leading,M="maxWait"in u,_=M?qe(cn(u.maxWait)||0,o):_,z="trailing"in u?!!u.trailing:z);function K(Ve){var Cn=f,sr=p;return f=p=n,O=Ve,w=i.apply(sr,Cn),w}function Q(Ve){return O=Ve,S=Fo(ce,o),L?K(Ve):w}function oe(Ve){var Cn=Ve-k,sr=Ve-O,ty=o-Cn;return M?dt(ty,_-sr):ty}function X(Ve){var Cn=Ve-k,sr=Ve-O;return k===n||Cn>=o||Cn<0||M&&sr>=_}function ce(){var Ve=eu();if(X(Ve))return pe(Ve);S=Fo(ce,oe(Ve))}function pe(Ve){return S=n,z&&f?K(Ve):(f=p=n,w)}function jt(){S!==n&&jm(S),O=0,f=k=p=S=n}function Ct(){return S===n?w:pe(eu())}function Kt(){var Ve=eu(),Cn=X(Ve);if(f=arguments,p=this,k=Ve,Cn){if(S===n)return Q(k);if(M)return jm(S),S=Fo(ce,o),K(k)}return S===n&&(S=Fo(ce,o)),w}return Kt.cancel=jt,Kt.flush=Ct,Kt}var qN=le(function(i,o){return Tm(i,1,o)}),QN=le(function(i,o,u){return Tm(i,cn(o)||0,u)});function XN(i){return er(i,ye)}function tu(i,o){if(typeof i!="function"||o!=null&&typeof o!="function")throw new sn(a);var u=function(){var f=arguments,p=o?o.apply(this,f):f[0],_=u.cache;if(_.has(p))return _.get(p);var w=i.apply(this,f);return u.cache=_.set(p,w)||_,w};return u.cache=new(tu.Cache||Jn),u}tu.Cache=Jn;function nu(i){if(typeof i!="function")throw new sn(a);return function(){var o=arguments;switch(o.length){case 0:return!i.call(this);case 1:return!i.call(this,o[0]);case 2:return!i.call(this,o[0],o[1]);case 3:return!i.call(this,o[0],o[1],o[2])}return!i.apply(this,o)}}function JN(i){return Ov(2,i)}var ZN=Wk(function(i,o){o=o.length==1&&re(o[0])?De(o[0],$t(Y())):De(lt(o,1),$t(Y()));var u=o.length;return le(function(f){for(var p=-1,_=dt(f.length,u);++p<_;)f[p]=o[p].call(this,f[p]);return Ht(i,this,f)})}),Cd=le(function(i,o){var u=Tr(o,ds(Cd));return er(i,U,n,o,u)}),Fv=le(function(i,o){var u=Tr(o,ds(Fv));return er(i,$,n,o,u)}),ex=tr(function(i,o){return er(i,H,n,n,n,o)});function tx(i,o){if(typeof i!="function")throw new sn(a);return o=o===n?o:se(o),le(i,o)}function nx(i,o){if(typeof i!="function")throw new sn(a);return o=o==null?0:qe(se(o),0),le(function(u){var f=u[o],p=Ar(u,0,o);return f&&Ir(p,f),Ht(i,this,p)})}function rx(i,o,u){var f=!0,p=!0;if(typeof i!="function")throw new sn(a);return be(u)&&(f="leading"in u?!!u.leading:f,p="trailing"in u?!!u.trailing:p),bv(i,o,{leading:f,maxWait:o,trailing:p})}function ix(i){return Pv(i,1)}function sx(i,o){return Cd(ld(o),i)}function ox(){if(!arguments.length)return[];var i=arguments[0];return re(i)?i:[i]}function lx(i){return ln(i,R)}function ax(i,o){return o=typeof o=="function"?o:n,ln(i,R,o)}function ux(i){return ln(i,m|R)}function cx(i,o){return o=typeof o=="function"?o:n,ln(i,m|R,o)}function fx(i,o){return o==null||Im(i,o,et(o))}function Sn(i,o){return i===o||i!==i&&o!==o}var dx=Ya(qf),hx=Ya(function(i,o){return i>=o}),Ci=Am(function(){return arguments}())?Am:function(i){return ze(i)&&Se.call(i,"callee")&&!_m.call(i,"callee")},re=x.isArray,px=X_?$t(X_):Sk;function Pt(i){return i!=null&&ru(i.length)&&!rr(i)}function $e(i){return ze(i)&&Pt(i)}function gx(i){return i===!0||i===!1||ze(i)&&Et(i)==mo}var Pr=xT||Dd,_x=J_?$t(J_):Ck;function mx(i){return ze(i)&&i.nodeType===1&&!Uo(i)}function vx(i){if(i==null)return!0;if(Pt(i)&&(re(i)||typeof i=="string"||typeof i.splice=="function"||Pr(i)||hs(i)||Ci(i)))return!i.length;var o=ht(i);if(o==vn||o==yn)return!i.size;if(bo(i))return!Jf(i).length;for(var u in i)if(Se.call(i,u))return!1;return!0}function yx(i,o){return Lo(i,o)}function wx(i,o,u){u=typeof u=="function"?u:n;var f=u?u(i,o):n;return f===n?Lo(i,o,n,u):!!f}function Id(i){if(!ze(i))return!1;var o=Et(i);return o==ga||o==$C||typeof i.message=="string"&&typeof i.name=="string"&&!Uo(i)}function Ex(i){return typeof i=="number"&&vm(i)}function rr(i){if(!be(i))return!1;var o=Et(i);return o==_a||o==T_||o==Zi||o==GC}function Uv(i){return typeof i=="number"&&i==se(i)}function ru(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=B}function be(i){var o=typeof i;return i!=null&&(o=="object"||o=="function")}function ze(i){return i!=null&&typeof i=="object"}var Wv=Z_?$t(Z_):Tk;function Sx(i,o){return i===o||Xf(i,o,pd(o))}function Cx(i,o,u){return u=typeof u=="function"?u:n,Xf(i,o,pd(o),u)}function Ix(i){return zv(i)&&i!=+i}function Tx(i){if(aR(i))throw new ee(l);return Pm(i)}function kx(i){return i===null}function Rx(i){return i==null}function zv(i){return typeof i=="number"||ze(i)&&Et(i)==yo}function Uo(i){if(!ze(i)||Et(i)!=Qn)return!1;var o=Aa(i);if(o===null)return!0;var u=Se.call(o,"constructor")&&o.constructor;return typeof u=="function"&&u instanceof u&&ka.call(u)==CT}var Td=em?$t(em):kk;function Nx(i){return Uv(i)&&i>=-B&&i<=B}var Bv=tm?$t(tm):Rk;function iu(i){return typeof i=="string"||!re(i)&&ze(i)&&Et(i)==Eo}function Gt(i){return typeof i=="symbol"||ze(i)&&Et(i)==ma}var hs=nm?$t(nm):Nk;function xx(i){return i===n}function Ax(i){return ze(i)&&ht(i)==So}function Px(i){return ze(i)&&Et(i)==KC}var Ox=Ya(Zf),Lx=Ya(function(i,o){return i<=o});function Hv(i){if(!i)return[];if(Pt(i))return iu(i)?wn(i):At(i);if(To&&i[To])return fT(i[To]());var o=ht(i),u=o==vn?zf:o==yn?Ca:ps;return u(i)}function ir(i){if(!i)return i===0?i:0;if(i=cn(i),i===mn||i===-mn){var o=i<0?-1:1;return o*te}return i===i?i:0}function se(i){var o=ir(i),u=o%1;return o===o?u?o-u:o:0}function $v(i){return i?yi(se(i),0,_e):0}function cn(i){if(typeof i=="number")return i;if(Gt(i))return ne;if(be(i)){var o=typeof i.valueOf=="function"?i.valueOf():i;i=be(o)?o+"":o}if(typeof i!="string")return i===0?i:+i;i=am(i);var u=pI.test(i);return u||_I.test(i)?YI(i.slice(2),u?2:8):hI.test(i)?ne:+i}function Vv(i){return Un(i,Ot(i))}function Dx(i){return i?yi(se(i),-B,B):i===0?i:0}function Ee(i){return i==null?"":Vt(i)}var Mx=cs(function(i,o){if(bo(o)||Pt(o)){Un(o,et(o),i);return}for(var u in o)Se.call(o,u)&&Ao(i,u,o[u])}),Gv=cs(function(i,o){Un(o,Ot(o),i)}),su=cs(function(i,o,u,f){Un(o,Ot(o),i,f)}),bx=cs(function(i,o,u,f){Un(o,et(o),i,f)}),Fx=tr(jf);function Ux(i,o){var u=us(i);return o==null?u:Cm(u,o)}var Wx=le(function(i,o){i=Ie(i);var u=-1,f=o.length,p=f>2?o[2]:n;for(p&&St(o[0],o[1],p)&&(f=1);++u<f;)for(var _=o[u],w=Ot(_),S=-1,k=w.length;++S<k;){var O=w[S],L=i[O];(L===n||Sn(L,os[O])&&!Se.call(i,O))&&(i[O]=_[O])}return i}),zx=le(function(i){return i.push(n,av),Ht(jv,n,i)});function Bx(i,o){return im(i,Y(o,3),Fn)}function Hx(i,o){return im(i,Y(o,3),Yf)}function $x(i,o){return i==null?i:Kf(i,Y(o,3),Ot)}function Vx(i,o){return i==null?i:Nm(i,Y(o,3),Ot)}function Gx(i,o){return i&&Fn(i,Y(o,3))}function jx(i,o){return i&&Yf(i,Y(o,3))}function Kx(i){return i==null?[]:za(i,et(i))}function Yx(i){return i==null?[]:za(i,Ot(i))}function kd(i,o,u){var f=i==null?n:wi(i,o);return f===n?u:f}function qx(i,o){return i!=null&&fv(i,o,vk)}function Rd(i,o){return i!=null&&fv(i,o,yk)}var Qx=rv(function(i,o,u){o!=null&&typeof o.toString!="function"&&(o=Ra.call(o)),i[o]=u},xd(Lt)),Xx=rv(function(i,o,u){o!=null&&typeof o.toString!="function"&&(o=Ra.call(o)),Se.call(i,o)?i[o].push(u):i[o]=[u]},Y),Jx=le(Oo);function et(i){return Pt(i)?Em(i):Jf(i)}function Ot(i){return Pt(i)?Em(i,!0):xk(i)}function Zx(i,o){var u={};return o=Y(o,3),Fn(i,function(f,p,_){Zn(u,o(f,p,_),f)}),u}function eA(i,o){var u={};return o=Y(o,3),Fn(i,function(f,p,_){Zn(u,p,o(f,p,_))}),u}var tA=cs(function(i,o,u){Ba(i,o,u)}),jv=cs(function(i,o,u,f){Ba(i,o,u,f)}),nA=tr(function(i,o){var u={};if(i==null)return u;var f=!1;o=De(o,function(_){return _=xr(_,i),f||(f=_.length>1),_}),Un(i,dd(i),u),f&&(u=ln(u,m|y|R,Qk));for(var p=o.length;p--;)id(u,o[p]);return u});function rA(i,o){return Kv(i,nu(Y(o)))}var iA=tr(function(i,o){return i==null?{}:Pk(i,o)});function Kv(i,o){if(i==null)return{};var u=De(dd(i),function(f){return[f]});return o=Y(o),Um(i,u,function(f,p){return o(f,p[0])})}function sA(i,o,u){o=xr(o,i);var f=-1,p=o.length;for(p||(p=1,i=n);++f<p;){var _=i==null?n:i[Wn(o[f])];_===n&&(f=p,_=u),i=rr(_)?_.call(i):_}return i}function oA(i,o,u){return i==null?i:Do(i,o,u)}function lA(i,o,u,f){return f=typeof f=="function"?f:n,i==null?i:Do(i,o,u,f)}var Yv=ov(et),qv=ov(Ot);function aA(i,o,u){var f=re(i),p=f||Pr(i)||hs(i);if(o=Y(o,4),u==null){var _=i&&i.constructor;p?u=f?new _:[]:be(i)?u=rr(_)?us(Aa(i)):{}:u={}}return(p?rn:Fn)(i,function(w,S,k){return o(u,w,S,k)}),u}function uA(i,o){return i==null?!0:id(i,o)}function cA(i,o,u){return i==null?i:$m(i,o,ld(u))}function fA(i,o,u,f){return f=typeof f=="function"?f:n,i==null?i:$m(i,o,ld(u),f)}function ps(i){return i==null?[]:Wf(i,et(i))}function dA(i){return i==null?[]:Wf(i,Ot(i))}function hA(i,o,u){return u===n&&(u=o,o=n),u!==n&&(u=cn(u),u=u===u?u:0),o!==n&&(o=cn(o),o=o===o?o:0),yi(cn(i),o,u)}function pA(i,o,u){return o=ir(o),u===n?(u=o,o=0):u=ir(u),i=cn(i),wk(i,o,u)}function gA(i,o,u){if(u&&typeof u!="boolean"&&St(i,o,u)&&(o=u=n),u===n&&(typeof o=="boolean"?(u=o,o=n):typeof i=="boolean"&&(u=i,i=n)),i===n&&o===n?(i=0,o=1):(i=ir(i),o===n?(o=i,i=0):o=ir(o)),i>o){var f=i;i=o,o=f}if(u||i%1||o%1){var p=ym();return dt(i+p*(o-i+KI("1e-"+((p+"").length-1))),o)}return td(i,o)}var _A=fs(function(i,o,u){return o=o.toLowerCase(),i+(u?Qv(o):o)});function Qv(i){return Nd(Ee(i).toLowerCase())}function Xv(i){return i=Ee(i),i&&i.replace(vI,oT).replace(FI,"")}function mA(i,o,u){i=Ee(i),o=Vt(o);var f=i.length;u=u===n?f:yi(se(u),0,f);var p=u;return u-=o.length,u>=0&&i.slice(u,p)==o}function vA(i){return i=Ee(i),i&&JC.test(i)?i.replace(N_,lT):i}function yA(i){return i=Ee(i),i&&iI.test(i)?i.replace(Cf,"\\$&"):i}var wA=fs(function(i,o,u){return i+(u?"-":"")+o.toLowerCase()}),EA=fs(function(i,o,u){return i+(u?" ":"")+o.toLowerCase()}),SA=ev("toLowerCase");function CA(i,o,u){i=Ee(i),o=se(o);var f=o?is(i):0;if(!o||f>=o)return i;var p=(o-f)/2;return Ka(Da(p),u)+i+Ka(La(p),u)}function IA(i,o,u){i=Ee(i),o=se(o);var f=o?is(i):0;return o&&f<o?i+Ka(o-f,u):i}function TA(i,o,u){i=Ee(i),o=se(o);var f=o?is(i):0;return o&&f<o?Ka(o-f,u)+i:i}function kA(i,o,u){return u||o==null?o=0:o&&(o=+o),LT(Ee(i).replace(If,""),o||0)}function RA(i,o,u){return(u?St(i,o,u):o===n)?o=1:o=se(o),nd(Ee(i),o)}function NA(){var i=arguments,o=Ee(i[0]);return i.length<3?o:o.replace(i[1],i[2])}var xA=fs(function(i,o,u){return i+(u?"_":"")+o.toLowerCase()});function AA(i,o,u){return u&&typeof u!="number"&&St(i,o,u)&&(o=u=n),u=u===n?_e:u>>>0,u?(i=Ee(i),i&&(typeof o=="string"||o!=null&&!Td(o))&&(o=Vt(o),!o&&rs(i))?Ar(wn(i),0,u):i.split(o,u)):[]}var PA=fs(function(i,o,u){return i+(u?" ":"")+Nd(o)});function OA(i,o,u){return i=Ee(i),u=u==null?0:yi(se(u),0,i.length),o=Vt(o),i.slice(u,u+o.length)==o}function LA(i,o,u){var f=g.templateSettings;u&&St(i,o,u)&&(o=n),i=Ee(i),o=su({},o,f,lv);var p=su({},o.imports,f.imports,lv),_=et(p),w=Wf(p,_),S,k,O=0,L=o.interpolate||va,M="__p += '",z=Bf((o.escape||va).source+"|"+L.source+"|"+(L===x_?dI:va).source+"|"+(o.evaluate||va).source+"|$","g"),K="//# sourceURL="+(Se.call(o,"sourceURL")?(o.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++HI+"]")+`
`;i.replace(z,function(X,ce,pe,jt,Ct,Kt){return pe||(pe=jt),M+=i.slice(O,Kt).replace(yI,aT),ce&&(S=!0,M+=`' +
__e(`+ce+`) +
'`),Ct&&(k=!0,M+=`';
`+Ct+`;
__p += '`),pe&&(M+=`' +
((__t = (`+pe+`)) == null ? '' : __t) +
'`),O=Kt+X.length,X}),M+=`';
`;var Q=Se.call(o,"variable")&&o.variable;if(!Q)M=`with (obj) {
`+M+`
}
`;else if(cI.test(Q))throw new ee(c);M=(k?M.replace(YC,""):M).replace(qC,"$1").replace(QC,"$1;"),M="function("+(Q||"obj")+`) {
`+(Q?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(S?", __e = _.escape":"")+(k?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+M+`return __p
}`;var oe=Zv(function(){return we(_,K+"return "+M).apply(n,w)});if(oe.source=M,Id(oe))throw oe;return oe}function DA(i){return Ee(i).toLowerCase()}function MA(i){return Ee(i).toUpperCase()}function bA(i,o,u){if(i=Ee(i),i&&(u||o===n))return am(i);if(!i||!(o=Vt(o)))return i;var f=wn(i),p=wn(o),_=um(f,p),w=cm(f,p)+1;return Ar(f,_,w).join("")}function FA(i,o,u){if(i=Ee(i),i&&(u||o===n))return i.slice(0,dm(i)+1);if(!i||!(o=Vt(o)))return i;var f=wn(i),p=cm(f,wn(o))+1;return Ar(f,0,p).join("")}function UA(i,o,u){if(i=Ee(i),i&&(u||o===n))return i.replace(If,"");if(!i||!(o=Vt(o)))return i;var f=wn(i),p=um(f,wn(o));return Ar(f,p).join("")}function WA(i,o){var u=ie,f=wt;if(be(o)){var p="separator"in o?o.separator:p;u="length"in o?se(o.length):u,f="omission"in o?Vt(o.omission):f}i=Ee(i);var _=i.length;if(rs(i)){var w=wn(i);_=w.length}if(u>=_)return i;var S=u-is(f);if(S<1)return f;var k=w?Ar(w,0,S).join(""):i.slice(0,S);if(p===n)return k+f;if(w&&(S+=k.length-S),Td(p)){if(i.slice(S).search(p)){var O,L=k;for(p.global||(p=Bf(p.source,Ee(A_.exec(p))+"g")),p.lastIndex=0;O=p.exec(L);)var M=O.index;k=k.slice(0,M===n?S:M)}}else if(i.indexOf(Vt(p),S)!=S){var z=k.lastIndexOf(p);z>-1&&(k=k.slice(0,z))}return k+f}function zA(i){return i=Ee(i),i&&XC.test(i)?i.replace(R_,gT):i}var BA=fs(function(i,o,u){return i+(u?" ":"")+o.toUpperCase()}),Nd=ev("toUpperCase");function Jv(i,o,u){return i=Ee(i),o=u?n:o,o===n?cT(i)?vT(i):tT(i):i.match(o)||[]}var Zv=le(function(i,o){try{return Ht(i,n,o)}catch(u){return Id(u)?u:new ee(u)}}),HA=tr(function(i,o){return rn(o,function(u){u=Wn(u),Zn(i,u,Sd(i[u],i))}),i});function $A(i){var o=i==null?0:i.length,u=Y();return i=o?De(i,function(f){if(typeof f[1]!="function")throw new sn(a);return[u(f[0]),f[1]]}):[],le(function(f){for(var p=-1;++p<o;){var _=i[p];if(Ht(_[0],this,f))return Ht(_[1],this,f)}})}function VA(i){return gk(ln(i,m))}function xd(i){return function(){return i}}function GA(i,o){return i==null||i!==i?o:i}var jA=nv(),KA=nv(!0);function Lt(i){return i}function Ad(i){return Om(typeof i=="function"?i:ln(i,m))}function YA(i){return Dm(ln(i,m))}function qA(i,o){return Mm(i,ln(o,m))}var QA=le(function(i,o){return function(u){return Oo(u,i,o)}}),XA=le(function(i,o){return function(u){return Oo(i,u,o)}});function Pd(i,o,u){var f=et(o),p=za(o,f);u==null&&!(be(o)&&(p.length||!f.length))&&(u=o,o=i,i=this,p=za(o,et(o)));var _=!(be(u)&&"chain"in u)||!!u.chain,w=rr(i);return rn(p,function(S){var k=o[S];i[S]=k,w&&(i.prototype[S]=function(){var O=this.__chain__;if(_||O){var L=i(this.__wrapped__),M=L.__actions__=At(this.__actions__);return M.push({func:k,args:arguments,thisArg:i}),L.__chain__=O,L}return k.apply(i,Ir([this.value()],arguments))})}),i}function JA(){return ot._===this&&(ot._=IT),this}function Od(){}function ZA(i){return i=se(i),le(function(o){return bm(o,i)})}var eP=ud(De),tP=ud(rm),nP=ud(Df);function ey(i){return _d(i)?Mf(Wn(i)):Ok(i)}function rP(i){return function(o){return i==null?n:wi(i,o)}}var iP=iv(),sP=iv(!0);function Ld(){return[]}function Dd(){return!1}function oP(){return{}}function lP(){return""}function aP(){return!0}function uP(i,o){if(i=se(i),i<1||i>B)return[];var u=_e,f=dt(i,_e);o=Y(o),i-=_e;for(var p=Uf(f,o);++u<i;)o(u);return p}function cP(i){return re(i)?De(i,Wn):Gt(i)?[i]:At(wv(Ee(i)))}function fP(i){var o=++ST;return Ee(i)+o}var dP=ja(function(i,o){return i+o},0),hP=cd("ceil"),pP=ja(function(i,o){return i/o},1),gP=cd("floor");function _P(i){return i&&i.length?Wa(i,Lt,qf):n}function mP(i,o){return i&&i.length?Wa(i,Y(o,2),qf):n}function vP(i){return om(i,Lt)}function yP(i,o){return om(i,Y(o,2))}function wP(i){return i&&i.length?Wa(i,Lt,Zf):n}function EP(i,o){return i&&i.length?Wa(i,Y(o,2),Zf):n}var SP=ja(function(i,o){return i*o},1),CP=cd("round"),IP=ja(function(i,o){return i-o},0);function TP(i){return i&&i.length?Ff(i,Lt):0}function kP(i,o){return i&&i.length?Ff(i,Y(o,2)):0}return g.after=YN,g.ary=Pv,g.assign=Mx,g.assignIn=Gv,g.assignInWith=su,g.assignWith=bx,g.at=Fx,g.before=Ov,g.bind=Sd,g.bindAll=HA,g.bindKey=Lv,g.castArray=ox,g.chain=Nv,g.chunk=gR,g.compact=_R,g.concat=mR,g.cond=$A,g.conforms=VA,g.constant=xd,g.countBy=TN,g.create=Ux,g.curry=Dv,g.curryRight=Mv,g.debounce=bv,g.defaults=Wx,g.defaultsDeep=zx,g.defer=qN,g.delay=QN,g.difference=vR,g.differenceBy=yR,g.differenceWith=wR,g.drop=ER,g.dropRight=SR,g.dropRightWhile=CR,g.dropWhile=IR,g.fill=TR,g.filter=RN,g.flatMap=AN,g.flatMapDeep=PN,g.flatMapDepth=ON,g.flatten=Iv,g.flattenDeep=kR,g.flattenDepth=RR,g.flip=XN,g.flow=jA,g.flowRight=KA,g.fromPairs=NR,g.functions=Kx,g.functionsIn=Yx,g.groupBy=LN,g.initial=AR,g.intersection=PR,g.intersectionBy=OR,g.intersectionWith=LR,g.invert=Qx,g.invertBy=Xx,g.invokeMap=MN,g.iteratee=Ad,g.keyBy=bN,g.keys=et,g.keysIn=Ot,g.map=Za,g.mapKeys=Zx,g.mapValues=eA,g.matches=YA,g.matchesProperty=qA,g.memoize=tu,g.merge=tA,g.mergeWith=jv,g.method=QA,g.methodOf=XA,g.mixin=Pd,g.negate=nu,g.nthArg=ZA,g.omit=nA,g.omitBy=rA,g.once=JN,g.orderBy=FN,g.over=eP,g.overArgs=ZN,g.overEvery=tP,g.overSome=nP,g.partial=Cd,g.partialRight=Fv,g.partition=UN,g.pick=iA,g.pickBy=Kv,g.property=ey,g.propertyOf=rP,g.pull=FR,g.pullAll=kv,g.pullAllBy=UR,g.pullAllWith=WR,g.pullAt=zR,g.range=iP,g.rangeRight=sP,g.rearg=ex,g.reject=BN,g.remove=BR,g.rest=tx,g.reverse=wd,g.sampleSize=$N,g.set=oA,g.setWith=lA,g.shuffle=VN,g.slice=HR,g.sortBy=KN,g.sortedUniq=qR,g.sortedUniqBy=QR,g.split=AA,g.spread=nx,g.tail=XR,g.take=JR,g.takeRight=ZR,g.takeRightWhile=eN,g.takeWhile=tN,g.tap=_N,g.throttle=rx,g.thru=Ja,g.toArray=Hv,g.toPairs=Yv,g.toPairsIn=qv,g.toPath=cP,g.toPlainObject=Vv,g.transform=aA,g.unary=ix,g.union=nN,g.unionBy=rN,g.unionWith=iN,g.uniq=sN,g.uniqBy=oN,g.uniqWith=lN,g.unset=uA,g.unzip=Ed,g.unzipWith=Rv,g.update=cA,g.updateWith=fA,g.values=ps,g.valuesIn=dA,g.without=aN,g.words=Jv,g.wrap=sx,g.xor=uN,g.xorBy=cN,g.xorWith=fN,g.zip=dN,g.zipObject=hN,g.zipObjectDeep=pN,g.zipWith=gN,g.entries=Yv,g.entriesIn=qv,g.extend=Gv,g.extendWith=su,Pd(g,g),g.add=dP,g.attempt=Zv,g.camelCase=_A,g.capitalize=Qv,g.ceil=hP,g.clamp=hA,g.clone=lx,g.cloneDeep=ux,g.cloneDeepWith=cx,g.cloneWith=ax,g.conformsTo=fx,g.deburr=Xv,g.defaultTo=GA,g.divide=pP,g.endsWith=mA,g.eq=Sn,g.escape=vA,g.escapeRegExp=yA,g.every=kN,g.find=NN,g.findIndex=Sv,g.findKey=Bx,g.findLast=xN,g.findLastIndex=Cv,g.findLastKey=Hx,g.floor=gP,g.forEach=xv,g.forEachRight=Av,g.forIn=$x,g.forInRight=Vx,g.forOwn=Gx,g.forOwnRight=jx,g.get=kd,g.gt=dx,g.gte=hx,g.has=qx,g.hasIn=Rd,g.head=Tv,g.identity=Lt,g.includes=DN,g.indexOf=xR,g.inRange=pA,g.invoke=Jx,g.isArguments=Ci,g.isArray=re,g.isArrayBuffer=px,g.isArrayLike=Pt,g.isArrayLikeObject=$e,g.isBoolean=gx,g.isBuffer=Pr,g.isDate=_x,g.isElement=mx,g.isEmpty=vx,g.isEqual=yx,g.isEqualWith=wx,g.isError=Id,g.isFinite=Ex,g.isFunction=rr,g.isInteger=Uv,g.isLength=ru,g.isMap=Wv,g.isMatch=Sx,g.isMatchWith=Cx,g.isNaN=Ix,g.isNative=Tx,g.isNil=Rx,g.isNull=kx,g.isNumber=zv,g.isObject=be,g.isObjectLike=ze,g.isPlainObject=Uo,g.isRegExp=Td,g.isSafeInteger=Nx,g.isSet=Bv,g.isString=iu,g.isSymbol=Gt,g.isTypedArray=hs,g.isUndefined=xx,g.isWeakMap=Ax,g.isWeakSet=Px,g.join=DR,g.kebabCase=wA,g.last=un,g.lastIndexOf=MR,g.lowerCase=EA,g.lowerFirst=SA,g.lt=Ox,g.lte=Lx,g.max=_P,g.maxBy=mP,g.mean=vP,g.meanBy=yP,g.min=wP,g.minBy=EP,g.stubArray=Ld,g.stubFalse=Dd,g.stubObject=oP,g.stubString=lP,g.stubTrue=aP,g.multiply=SP,g.nth=bR,g.noConflict=JA,g.noop=Od,g.now=eu,g.pad=CA,g.padEnd=IA,g.padStart=TA,g.parseInt=kA,g.random=gA,g.reduce=WN,g.reduceRight=zN,g.repeat=RA,g.replace=NA,g.result=sA,g.round=CP,g.runInContext=I,g.sample=HN,g.size=GN,g.snakeCase=xA,g.some=jN,g.sortedIndex=$R,g.sortedIndexBy=VR,g.sortedIndexOf=GR,g.sortedLastIndex=jR,g.sortedLastIndexBy=KR,g.sortedLastIndexOf=YR,g.startCase=PA,g.startsWith=OA,g.subtract=IP,g.sum=TP,g.sumBy=kP,g.template=LA,g.times=uP,g.toFinite=ir,g.toInteger=se,g.toLength=$v,g.toLower=DA,g.toNumber=cn,g.toSafeInteger=Dx,g.toString=Ee,g.toUpper=MA,g.trim=bA,g.trimEnd=FA,g.trimStart=UA,g.truncate=WA,g.unescape=zA,g.uniqueId=fP,g.upperCase=BA,g.upperFirst=Nd,g.each=xv,g.eachRight=Av,g.first=Tv,Pd(g,function(){var i={};return Fn(g,function(o,u){Se.call(g.prototype,u)||(i[u]=o)}),i}(),{chain:!1}),g.VERSION=r,rn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){g[i].placeholder=g}),rn(["drop","take"],function(i,o){de.prototype[i]=function(u){u=u===n?1:qe(se(u),0);var f=this.__filtered__&&!o?new de(this):this.clone();return f.__filtered__?f.__takeCount__=dt(u,f.__takeCount__):f.__views__.push({size:dt(u,_e),type:i+(f.__dir__<0?"Right":"")}),f},de.prototype[i+"Right"]=function(u){return this.reverse()[i](u).reverse()}}),rn(["filter","map","takeWhile"],function(i,o){var u=o+1,f=u==go||u==_o;de.prototype[i]=function(p){var _=this.clone();return _.__iteratees__.push({iteratee:Y(p,3),type:u}),_.__filtered__=_.__filtered__||f,_}}),rn(["head","last"],function(i,o){var u="take"+(o?"Right":"");de.prototype[i]=function(){return this[u](1).value()[0]}}),rn(["initial","tail"],function(i,o){var u="drop"+(o?"":"Right");de.prototype[i]=function(){return this.__filtered__?new de(this):this[u](1)}}),de.prototype.compact=function(){return this.filter(Lt)},de.prototype.find=function(i){return this.filter(i).head()},de.prototype.findLast=function(i){return this.reverse().find(i)},de.prototype.invokeMap=le(function(i,o){return typeof i=="function"?new de(this):this.map(function(u){return Oo(u,i,o)})}),de.prototype.reject=function(i){return this.filter(nu(Y(i)))},de.prototype.slice=function(i,o){i=se(i);var u=this;return u.__filtered__&&(i>0||o<0)?new de(u):(i<0?u=u.takeRight(-i):i&&(u=u.drop(i)),o!==n&&(o=se(o),u=o<0?u.dropRight(-o):u.take(o-i)),u)},de.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},de.prototype.toArray=function(){return this.take(_e)},Fn(de.prototype,function(i,o){var u=/^(?:filter|find|map|reject)|While$/.test(o),f=/^(?:head|last)$/.test(o),p=g[f?"take"+(o=="last"?"Right":""):o],_=f||/^find/.test(o);p&&(g.prototype[o]=function(){var w=this.__wrapped__,S=f?[1]:arguments,k=w instanceof de,O=S[0],L=k||re(w),M=function(ce){var pe=p.apply(g,Ir([ce],S));return f&&z?pe[0]:pe};L&&u&&typeof O=="function"&&O.length!=1&&(k=L=!1);var z=this.__chain__,K=!!this.__actions__.length,Q=_&&!z,oe=k&&!K;if(!_&&L){w=oe?w:new de(this);var X=i.apply(w,S);return X.__actions__.push({func:Ja,args:[M],thisArg:n}),new on(X,z)}return Q&&oe?i.apply(this,S):(X=this.thru(M),Q?f?X.value()[0]:X.value():X)})}),rn(["pop","push","shift","sort","splice","unshift"],function(i){var o=Ia[i],u=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",f=/^(?:pop|shift)$/.test(i);g.prototype[i]=function(){var p=arguments;if(f&&!this.__chain__){var _=this.value();return o.apply(re(_)?_:[],p)}return this[u](function(w){return o.apply(re(w)?w:[],p)})}}),Fn(de.prototype,function(i,o){var u=g[o];if(u){var f=u.name+"";Se.call(as,f)||(as[f]=[]),as[f].push({name:o,func:u})}}),as[Ga(n,C).name]=[{name:"wrapper",func:n}],de.prototype.clone=zT,de.prototype.reverse=BT,de.prototype.value=HT,g.prototype.at=mN,g.prototype.chain=vN,g.prototype.commit=yN,g.prototype.next=wN,g.prototype.plant=SN,g.prototype.reverse=CN,g.prototype.toJSON=g.prototype.valueOf=g.prototype.value=IN,g.prototype.first=g.prototype.head,To&&(g.prototype[To]=EN),g},ss=yT();gi?((gi.exports=ss)._=ss,Af._=ss):ot._=ss}).call(Wo)})(Z3,ri);const e4=()=>{const[t,e]=me.useState(),[n,r]=me.useState(),[s,l]=me.useState(),[a,c]=me.useState();return qt("form",{onSubmit:h=>{h.preventDefault();const v=po.getMoviesRef(),m=kF(v);af(m,{title:t.value||"",year:n.value||"",image:s.value||"",comment:a.value||""})},children:[Z("h2",{children:"Add A Movie"}),Z("label",{htmlFor:"titleField",children:"Title"}),Z("input",{id:"titleField",type:"text",placeholder:"enter a title",ref:e}),Z("label",{htmlFor:"yearField",children:"Year"}),Z("input",{id:"yearField",type:"number",placeholder:"enter a year",ref:r}),Z("label",{htmlFor:"imageField",children:"Image Url"}),Z("input",{id:"imageField",type:"text",placeholder:"enter image url",ref:l}),Z("label",{htmlFor:"commentField",children:"Comments"}),Z("textarea",{id:"commentField",placeholder:"enter comments",ref:c}),Z("button",{type:"submit",children:"Add"})]})};var Tt={},t4={get exports(){return Tt},set exports(t){Tt=t}},n4="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",r4=n4,i4=r4;function UC(){}function WC(){}WC.resetWarningCache=UC;var s4=function(){function t(r,s,l,a,c,d){if(d!==i4){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:WC,resetWarningCache:UC};return n.PropTypes=n,n};t4.exports=s4();const _w=100,o4=600,zC=({children:t=""})=>{const[e,n]=me.useState(window.innerWidth);me.useEffect(()=>{const l=()=>n(window.innerWidth);return window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]);const r=e<o4,s=t.length>_w;return r&&s?Z("span",{className:"hand",onClick:()=>alert(t),children:ri.truncate(t,{length:_w})}):t};zC.propTypes={children:Tt.string};const sl=({id:t,field:e,handleUpdate:n,setEditing:r,handleRef:s,type:l="",fieldRef:a={}})=>{const c={placeholder:e,ref:s};return qt(Tw,{children:[Z("br",{}),l==="textarea"?Z("textarea",{common:c}):Z("input",{common:c,type:"text"}),Z("button",{className:"but",type:"button",onClick:()=>n({data:{id:t,[e]:a.value||""},callback:r}),children:"Save"}),Z("button",{className:"but-cancel",type:"button",onClick:()=>r(),children:"cancel"})]})};sl.propTypes={id:Tt.string.isRequired,field:Tt.string.isRequired,handleRef:Tt.func.isRequired,handleUpdate:Tt.func.isRequired,setEditing:Tt.func.isRequired,type:Tt.string,fieldRef:Tt.object};const l4=t=>{if(!confirm("Are You Sure"))return;const e=po.getMovieRef(t);RF(e)},BC=({movie:t={},admin:e=!1})=>{const[n,r]=me.useState(),[s,l]=me.useState(),[a,c]=me.useState(),[d,h]=me.useState(),[v,m]=me.useState(),[y,R]=me.useState(),[N,P]=me.useState(),[j,C]=me.useState(),E=({data:H,callback:ye})=>{const ie=po.getMovieRef(H.id);NF(ie).then(wt=>{af(ie,{...wt.val(),...H}),ye()})},T=H=>{!e||n||r(H)},D=H=>{!e||a||c(H)},U=H=>{!e||v||m(H)},$=H=>{!e||N||P(H)},W={id:t.id,handleUpdate:E};return qt("tr",{children:[qt("td",{className:"title",onClick:()=>T(t.id),children:[t.title,n===t.id&&Z(sl,{...W,field:"title",fieldRef:s,setEditing:r,handleRef:l})]}),qt("td",{className:"year",onClick:()=>D(t.id),children:[t.year,a===t.id&&Z(sl,{...W,field:"year",fieldRef:d,setEditing:c,handleRef:h})]}),qt("td",{className:"image",onClick:()=>U(t.id),children:[!ri.isEmpty(t.image)&&Z("img",{src:t.image}),v===t.id&&Z(sl,{...W,field:"image",fieldRef:y,setEditing:m,handleRef:R})]}),qt("td",{className:"comment",onClick:()=>$(t.id),children:[Z(zC,{children:t.comment}),N===t.id&&Z(sl,{...W,field:"comment",fieldRef:j,setEditing:P,handleRef:C,type:"textarea"})]}),e&&Z("td",{onClick:()=>l4(t.id),className:"delete-icon",children:"X"})]})};BC.propTypes={movie:Tt.object,admin:Tt.bool};const HC=({movies:t=[],admin:e=!1,sortMoviesBy:n})=>qt("table",{className:"movie-table",children:[Z("thead",{children:qt("tr",{children:[Z("th",{className:"title hand",onClick:()=>n("title"),children:"Title"}),Z("th",{className:"year hand",onClick:()=>n("year"),children:"Year"}),Z("th",{className:"image hand",onClick:()=>n("title"),children:"Poster"}),Z("th",{className:"comment hand",onClick:()=>n("comment"),children:"Comment"}),e&&Z("th",{className:"delete-icon"})]})}),Z("tbody",{children:t.map(r=>Z(BC,{movie:r,admin:e},r.id))})]});HC.propTypes={movies:Tt.array,admin:Tt.bool,sortMoviesBy:Tt.func};const a4=({setUser:t})=>{const[e,n]=me.useState({}),[r,s]=me.useState({}),[l,a]=me.useState(!1);return qt("form",{className:"login",onSubmit:d=>{d.preventDefault(),po.login({email:e.value,pass:r.value}).then(h=>{console.log("response: ",h),console.log("...you are signed in!"),t(h.user)}).catch(h=>{const v=h.code,m=h.message;console.log(v,m)})},children:[Z("h2",{onClick:()=>{a(d=>!d)},children:"Login to add or edit movies"}),l&&qt(Tw,{children:[Z("label",{htmlFor:"emailField",children:"Email"}),Z("input",{id:"emailField",type:"text",placeholder:"enter your email",ref:d=>n(d)}),Z("label",{htmlFor:"passField",children:"Password"}),Z("input",{id:"passField",type:"text",placeholder:"enter your password",ref:d=>s(d)}),Z("button",{className:"but",type:"submit",children:"login"})]})]})},u4=()=>{const[t,e]=me.useState({}),[n,r]=me.useState(!0);return me.useEffect(()=>{r(!0),po.getLoginObserver(()=>{e({name:t.email||"Guest",logged_in:!!t.email}),r(!1)})},[]),{loading:n,user:t}};const c4=()=>{const{user:t}=u4(),[e,n]=me.useState(!0),[r,s]=me.useState({}),[l,a]=me.useState([]),[c,d]=me.useState("title"),[h,v]=me.useState(!1),m=r.email==="slatron@gmail.com",y=R=>{let N=ri.sortBy(l,R),P;R===c&&!h?(N=N.reverse(),P=!0):P=!1,v(P),a(N),d(R)};return me.useEffect(()=>s(t),[t]),me.useEffect(()=>{const R=P=>ri.isNil(P.val())?[]:Object.entries(P.val()).map(([j,C])=>(C.id=j,C)),N=po.getMoviesRef();return AF(N,P=>{const j=R(P);j.sort((C,E)=>C.title>E.title?1:-1),a(j),n(!1)}),()=>{PF(N)}},[]),e||ri.isEmpty(r)?Z("div",{className:"loading",children:"loading..."}):qt("div",{className:"App",children:[qt("div",{className:"header-container",children:[Z("h1",{children:"Mike's Halloween Marathon Suggestions"}),r.name==="Guest"&&Z(a4,{setUser:s}),m&&Z("div",{className:"header-button",children:Z("button",{className:"but",children:"logout"})})]}),Z(HC,{movies:l,admin:m,sortMoviesBy:y}),r.email==="slatron@gmail.com"&&Z(e4,{})]})};Eh.createRoot(document.getElementById("root")).render(Z(GP.StrictMode,{children:Z(c4,{})}));
