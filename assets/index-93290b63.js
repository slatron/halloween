(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();var Wo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function CP(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wl={},IP={get exports(){return wl},set exports(t){wl=t}},Mc={},Ce={},TP={get exports(){return Ce},set exports(t){Ce=t}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ql=Symbol.for("react.element"),kP=Symbol.for("react.portal"),RP=Symbol.for("react.fragment"),NP=Symbol.for("react.strict_mode"),xP=Symbol.for("react.profiler"),AP=Symbol.for("react.provider"),PP=Symbol.for("react.context"),OP=Symbol.for("react.forward_ref"),LP=Symbol.for("react.suspense"),DP=Symbol.for("react.memo"),MP=Symbol.for("react.lazy"),ny=Symbol.iterator;function bP(t){return t===null||typeof t!="object"?null:(t=ny&&t[ny]||t["@@iterator"],typeof t=="function"?t:null)}var _w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mw=Object.assign,vw={};function ro(t,e,n){this.props=t,this.context=e,this.refs=vw,this.updater=n||_w}ro.prototype.isReactComponent={};ro.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ro.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function yw(){}yw.prototype=ro.prototype;function Fp(t,e,n){this.props=t,this.context=e,this.refs=vw,this.updater=n||_w}var Up=Fp.prototype=new yw;Up.constructor=Fp;mw(Up,ro.prototype);Up.isPureReactComponent=!0;var ry=Array.isArray,ww=Object.prototype.hasOwnProperty,Wp={current:null},Ew={key:!0,ref:!0,__self:!0,__source:!0};function Sw(t,e,n){var r,s={},l=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(l=""+e.key),e)ww.call(e,r)&&!Ew.hasOwnProperty(r)&&(s[r]=e[r]);var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){for(var d=Array(c),h=0;h<c;h++)d[h]=arguments[h+2];s.children=d}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)s[r]===void 0&&(s[r]=c[r]);return{$$typeof:Ql,type:t,key:l,ref:a,props:s,_owner:Wp.current}}function FP(t,e){return{$$typeof:Ql,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ql}function UP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var iy=/\/+/g;function Md(t,e){return typeof t=="object"&&t!==null&&t.key!=null?UP(""+t.key):e.toString(36)}function ku(t,e,n,r,s){var l=typeof t;(l==="undefined"||l==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(l){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ql:case kP:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+Md(a,0):r,ry(s)?(n="",t!=null&&(n=t.replace(iy,"$&/")+"/"),ku(s,e,n,"",function(h){return h})):s!=null&&(zp(s)&&(s=FP(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(iy,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",ry(t))for(var c=0;c<t.length;c++){l=t[c];var d=r+Md(l,c);a+=ku(l,e,n,d,s)}else if(d=bP(t),typeof d=="function")for(t=d.call(t),c=0;!(l=t.next()).done;)l=l.value,d=r+Md(l,c++),a+=ku(l,e,n,d,s);else if(l==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function ou(t,e,n){if(t==null)return t;var r=[],s=0;return ku(t,r,"","",function(l){return e.call(n,l,s++)}),r}function WP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Nt={current:null},Ru={transition:null},zP={ReactCurrentDispatcher:Nt,ReactCurrentBatchConfig:Ru,ReactCurrentOwner:Wp};pe.Children={map:ou,forEach:function(t,e,n){ou(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ou(t,function(){e++}),e},toArray:function(t){return ou(t,function(e){return e})||[]},only:function(t){if(!zp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};pe.Component=ro;pe.Fragment=RP;pe.Profiler=xP;pe.PureComponent=Fp;pe.StrictMode=NP;pe.Suspense=LP;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zP;pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=mw({},t.props),s=t.key,l=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(l=e.ref,a=Wp.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(d in e)ww.call(e,d)&&!Ew.hasOwnProperty(d)&&(r[d]=e[d]===void 0&&c!==void 0?c[d]:e[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){c=Array(d);for(var h=0;h<d;h++)c[h]=arguments[h+2];r.children=c}return{$$typeof:Ql,type:t.type,key:s,ref:l,props:r,_owner:a}};pe.createContext=function(t){return t={$$typeof:PP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:AP,_context:t},t.Consumer=t};pe.createElement=Sw;pe.createFactory=function(t){var e=Sw.bind(null,t);return e.type=t,e};pe.createRef=function(){return{current:null}};pe.forwardRef=function(t){return{$$typeof:OP,render:t}};pe.isValidElement=zp;pe.lazy=function(t){return{$$typeof:MP,_payload:{_status:-1,_result:t},_init:WP}};pe.memo=function(t,e){return{$$typeof:DP,type:t,compare:e===void 0?null:e}};pe.startTransition=function(t){var e=Ru.transition;Ru.transition={};try{t()}finally{Ru.transition=e}};pe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};pe.useCallback=function(t,e){return Nt.current.useCallback(t,e)};pe.useContext=function(t){return Nt.current.useContext(t)};pe.useDebugValue=function(){};pe.useDeferredValue=function(t){return Nt.current.useDeferredValue(t)};pe.useEffect=function(t,e){return Nt.current.useEffect(t,e)};pe.useId=function(){return Nt.current.useId()};pe.useImperativeHandle=function(t,e,n){return Nt.current.useImperativeHandle(t,e,n)};pe.useInsertionEffect=function(t,e){return Nt.current.useInsertionEffect(t,e)};pe.useLayoutEffect=function(t,e){return Nt.current.useLayoutEffect(t,e)};pe.useMemo=function(t,e){return Nt.current.useMemo(t,e)};pe.useReducer=function(t,e,n){return Nt.current.useReducer(t,e,n)};pe.useRef=function(t){return Nt.current.useRef(t)};pe.useState=function(t){return Nt.current.useState(t)};pe.useSyncExternalStore=function(t,e,n){return Nt.current.useSyncExternalStore(t,e,n)};pe.useTransition=function(){return Nt.current.useTransition()};pe.version="18.2.0";(function(t){t.exports=pe})(TP);const BP=CP(Ce);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HP=Ce,$P=Symbol.for("react.element"),VP=Symbol.for("react.fragment"),GP=Object.prototype.hasOwnProperty,jP=HP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KP={key:!0,ref:!0,__self:!0,__source:!0};function Cw(t,e,n){var r,s={},l=null,a=null;n!==void 0&&(l=""+n),e.key!==void 0&&(l=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)GP.call(e,r)&&!KP.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:$P,type:t,key:l,ref:a,props:s,_owner:jP.current}}Mc.Fragment=VP;Mc.jsx=Cw;Mc.jsxs=Cw;(function(t){t.exports=Mc})(IP);const Zo=wl.Fragment,se=wl.jsx,It=wl.jsxs;var Eh={},Sh={},YP={get exports(){return Sh},set exports(t){Sh=t}},Jt={},Ch={},qP={get exports(){return Ch},set exports(t){Ch=t}},Iw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,ne){var re=z.length;z.push(ne);e:for(;0<re;){var me=re-1>>>1,Ke=z[me];if(0<s(Ke,ne))z[me]=ne,z[re]=Ke,re=me;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var ne=z[0],re=z.pop();if(re!==ne){z[0]=re;e:for(var me=0,Ke=z.length,Zi=Ke>>>1;me<Zi;){var Qn=2*(me+1)-1,Fn=z[Qn],en=Qn+1,es=z[en];if(0>s(Fn,re))en<Ke&&0>s(es,Fn)?(z[me]=es,z[en]=re,me=en):(z[me]=Fn,z[Qn]=re,me=Qn);else if(en<Ke&&0>s(es,re))z[me]=es,z[en]=re,me=en;else break e}}return ne}function s(z,ne){var re=z.sortIndex-ne.sortIndex;return re!==0?re:z.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var d=[],h=[],v=1,m=null,y=3,R=!1,x=!1,D=!1,j=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(z){for(var ne=n(h);ne!==null;){if(ne.callback===null)r(h);else if(ne.startTime<=z)r(h),ne.sortIndex=ne.expirationTime,e(d,ne);else break;ne=n(h)}}function L(z){if(D=!1,T(z),!x)if(n(d)!==null)x=!0,gi(F);else{var ne=n(h);ne!==null&&_n(L,ne.startTime-z)}}function F(z,ne){x=!1,D&&(D=!1,C(G),G=-1),R=!0;var re=y;try{for(T(ne),m=n(d);m!==null&&(!(m.expirationTime>ne)||z&&!Y());){var me=m.callback;if(typeof me=="function"){m.callback=null,y=m.priorityLevel;var Ke=me(m.expirationTime<=ne);ne=t.unstable_now(),typeof Ke=="function"?m.callback=Ke:m===n(d)&&r(d),T(ne)}else r(d);m=n(d)}if(m!==null)var Zi=!0;else{var Qn=n(h);Qn!==null&&_n(L,Qn.startTime-ne),Zi=!1}return Zi}finally{m=null,y=re,R=!1}}var H=!1,B=null,G=-1,ye=5,ee=-1;function Y(){return!(t.unstable_now()-ee<ye)}function Mn(){if(B!==null){var z=t.unstable_now();ee=z;var ne=!0;try{ne=B(!0,z)}finally{ne?bn():(H=!1,B=null)}}else H=!1}var bn;if(typeof E=="function")bn=function(){E(Mn)};else if(typeof MessageChannel<"u"){var Ir=new MessageChannel,_o=Ir.port2;Ir.port1.onmessage=Mn,bn=function(){_o.postMessage(null)}}else bn=function(){j(Mn,0)};function gi(z){B=z,H||(H=!0,bn())}function _n(z,ne){G=j(function(){z(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){x||R||(x=!0,gi(F))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ye=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(z){switch(y){case 1:case 2:case 3:var ne=3;break;default:ne=y}var re=y;y=ne;try{return z()}finally{y=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,ne){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var re=y;y=z;try{return ne()}finally{y=re}},t.unstable_scheduleCallback=function(z,ne,re){var me=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?me+re:me):re=me,z){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=re+Ke,z={id:v++,callback:ne,priorityLevel:z,startTime:re,expirationTime:Ke,sortIndex:-1},re>me?(z.sortIndex=re,e(h,z),n(d)===null&&z===n(h)&&(D?(C(G),G=-1):D=!0,_n(L,re-me))):(z.sortIndex=Ke,e(d,z),x||R||(x=!0,gi(F))),z},t.unstable_shouldYield=Y,t.unstable_wrapCallback=function(z){var ne=y;return function(){var re=y;y=ne;try{return z.apply(this,arguments)}finally{y=re}}}})(Iw);(function(t){t.exports=Iw})(qP);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tw=Ce,Xt=Ch;function b(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kw=new Set,El={};function Qi(t,e){$s(t,e),$s(t+"Capture",e)}function $s(t,e){for(El[t]=e,t=0;t<e.length;t++)kw.add(e[t])}var _r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ih=Object.prototype.hasOwnProperty,QP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sy={},oy={};function XP(t){return Ih.call(oy,t)?!0:Ih.call(sy,t)?!1:QP.test(t)?oy[t]=!0:(sy[t]=!0,!1)}function JP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ZP(t,e,n,r){if(e===null||typeof e>"u"||JP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xt(t,e,n,r,s,l,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=l,this.removeEmptyString=a}var ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ft[t]=new xt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ft[e]=new xt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ft[t]=new xt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ft[t]=new xt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ft[t]=new xt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ft[t]=new xt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ft[t]=new xt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ft[t]=new xt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ft[t]=new xt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Bp=/[\-:]([a-z])/g;function Hp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Bp,Hp);ft[e]=new xt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Bp,Hp);ft[e]=new xt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Bp,Hp);ft[e]=new xt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ft[t]=new xt(t,1,!1,t.toLowerCase(),null,!1,!1)});ft.xlinkHref=new xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ft[t]=new xt(t,1,!1,t.toLowerCase(),null,!0,!0)});function $p(t,e,n,r){var s=ft.hasOwnProperty(e)?ft[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ZP(e,n,s,r)&&(n=null),r||s===null?XP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Sr=Tw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lu=Symbol.for("react.element"),vs=Symbol.for("react.portal"),ys=Symbol.for("react.fragment"),Vp=Symbol.for("react.strict_mode"),Th=Symbol.for("react.profiler"),Rw=Symbol.for("react.provider"),Nw=Symbol.for("react.context"),Gp=Symbol.for("react.forward_ref"),kh=Symbol.for("react.suspense"),Rh=Symbol.for("react.suspense_list"),jp=Symbol.for("react.memo"),br=Symbol.for("react.lazy"),xw=Symbol.for("react.offscreen"),ly=Symbol.iterator;function zo(t){return t===null||typeof t!="object"?null:(t=ly&&t[ly]||t["@@iterator"],typeof t=="function"?t:null)}var ze=Object.assign,bd;function el(t){if(bd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);bd=e&&e[1]||""}return`
`+bd+t}var Fd=!1;function Ud(t,e){if(!t||Fd)return"";Fd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var s=h.stack.split(`
`),l=r.stack.split(`
`),a=s.length-1,c=l.length-1;1<=a&&0<=c&&s[a]!==l[c];)c--;for(;1<=a&&0<=c;a--,c--)if(s[a]!==l[c]){if(a!==1||c!==1)do if(a--,c--,0>c||s[a]!==l[c]){var d=`
`+s[a].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=a&&0<=c);break}}}finally{Fd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?el(t):""}function eO(t){switch(t.tag){case 5:return el(t.type);case 16:return el("Lazy");case 13:return el("Suspense");case 19:return el("SuspenseList");case 0:case 2:case 15:return t=Ud(t.type,!1),t;case 11:return t=Ud(t.type.render,!1),t;case 1:return t=Ud(t.type,!0),t;default:return""}}function Nh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ys:return"Fragment";case vs:return"Portal";case Th:return"Profiler";case Vp:return"StrictMode";case kh:return"Suspense";case Rh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Nw:return(t.displayName||"Context")+".Consumer";case Rw:return(t._context.displayName||"Context")+".Provider";case Gp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case jp:return e=t.displayName||null,e!==null?e:Nh(t.type)||"Memo";case br:e=t._payload,t=t._init;try{return Nh(t(e))}catch{}}return null}function tO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nh(e);case 8:return e===Vp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function oi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Aw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nO(t){var e=Aw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,l=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,l.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function au(t){t._valueTracker||(t._valueTracker=nO(t))}function Pw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Aw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Hu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xh(t,e){var n=e.checked;return ze({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ay(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=oi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ow(t,e){e=e.checked,e!=null&&$p(t,"checked",e,!1)}function Ah(t,e){Ow(t,e);var n=oi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ph(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ph(t,e.type,oi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function uy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ph(t,e,n){(e!=="number"||Hu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var tl=Array.isArray;function Os(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+oi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Oh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(b(91));return ze({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function cy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(b(92));if(tl(n)){if(1<n.length)throw Error(b(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:oi(n)}}function Lw(t,e){var n=oi(e.value),r=oi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function fy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Dw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Dw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var uu,Mw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(uu=uu||document.createElement("div"),uu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=uu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Sl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ol={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rO=["Webkit","ms","Moz","O"];Object.keys(ol).forEach(function(t){rO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ol[e]=ol[t]})});function bw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ol.hasOwnProperty(t)&&ol[t]?(""+e).trim():e+"px"}function Fw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=bw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var iO=ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dh(t,e){if(e){if(iO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(b(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(b(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(b(61))}if(e.style!=null&&typeof e.style!="object")throw Error(b(62))}}function Mh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bh=null;function Kp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fh=null,Ls=null,Ds=null;function dy(t){if(t=Zl(t)){if(typeof Fh!="function")throw Error(b(280));var e=t.stateNode;e&&(e=zc(e),Fh(t.stateNode,t.type,e))}}function Uw(t){Ls?Ds?Ds.push(t):Ds=[t]:Ls=t}function Ww(){if(Ls){var t=Ls,e=Ds;if(Ds=Ls=null,dy(t),e)for(t=0;t<e.length;t++)dy(e[t])}}function zw(t,e){return t(e)}function Bw(){}var Wd=!1;function Hw(t,e,n){if(Wd)return t(e,n);Wd=!0;try{return zw(t,e,n)}finally{Wd=!1,(Ls!==null||Ds!==null)&&(Bw(),Ww())}}function Cl(t,e){var n=t.stateNode;if(n===null)return null;var r=zc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(b(231,e,typeof n));return n}var Uh=!1;if(_r)try{var Bo={};Object.defineProperty(Bo,"passive",{get:function(){Uh=!0}}),window.addEventListener("test",Bo,Bo),window.removeEventListener("test",Bo,Bo)}catch{Uh=!1}function sO(t,e,n,r,s,l,a,c,d){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(v){this.onError(v)}}var ll=!1,$u=null,Vu=!1,Wh=null,oO={onError:function(t){ll=!0,$u=t}};function lO(t,e,n,r,s,l,a,c,d){ll=!1,$u=null,sO.apply(oO,arguments)}function aO(t,e,n,r,s,l,a,c,d){if(lO.apply(this,arguments),ll){if(ll){var h=$u;ll=!1,$u=null}else throw Error(b(198));Vu||(Vu=!0,Wh=h)}}function Xi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function $w(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hy(t){if(Xi(t)!==t)throw Error(b(188))}function uO(t){var e=t.alternate;if(!e){if(e=Xi(t),e===null)throw Error(b(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var l=s.alternate;if(l===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return hy(s),t;if(l===r)return hy(s),e;l=l.sibling}throw Error(b(188))}if(n.return!==r.return)n=s,r=l;else{for(var a=!1,c=s.child;c;){if(c===n){a=!0,n=s,r=l;break}if(c===r){a=!0,r=s,n=l;break}c=c.sibling}if(!a){for(c=l.child;c;){if(c===n){a=!0,n=l,r=s;break}if(c===r){a=!0,r=l,n=s;break}c=c.sibling}if(!a)throw Error(b(189))}}if(n.alternate!==r)throw Error(b(190))}if(n.tag!==3)throw Error(b(188));return n.stateNode.current===n?t:e}function Vw(t){return t=uO(t),t!==null?Gw(t):null}function Gw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Gw(t);if(e!==null)return e;t=t.sibling}return null}var jw=Xt.unstable_scheduleCallback,py=Xt.unstable_cancelCallback,cO=Xt.unstable_shouldYield,fO=Xt.unstable_requestPaint,je=Xt.unstable_now,dO=Xt.unstable_getCurrentPriorityLevel,Yp=Xt.unstable_ImmediatePriority,Kw=Xt.unstable_UserBlockingPriority,Gu=Xt.unstable_NormalPriority,hO=Xt.unstable_LowPriority,Yw=Xt.unstable_IdlePriority,bc=null,Vn=null;function pO(t){if(Vn&&typeof Vn.onCommitFiberRoot=="function")try{Vn.onCommitFiberRoot(bc,t,void 0,(t.current.flags&128)===128)}catch{}}var An=Math.clz32?Math.clz32:mO,gO=Math.log,_O=Math.LN2;function mO(t){return t>>>=0,t===0?32:31-(gO(t)/_O|0)|0}var cu=64,fu=4194304;function nl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ju(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,l=t.pingedLanes,a=n&268435455;if(a!==0){var c=a&~s;c!==0?r=nl(c):(l&=a,l!==0&&(r=nl(l)))}else a=n&~s,a!==0?r=nl(a):l!==0&&(r=nl(l));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,l=e&-e,s>=l||s===16&&(l&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-An(e),s=1<<n,r|=t[n],e&=~s;return r}function vO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,l=t.pendingLanes;0<l;){var a=31-An(l),c=1<<a,d=s[a];d===-1?(!(c&n)||c&r)&&(s[a]=vO(c,e)):d<=e&&(t.expiredLanes|=c),l&=~c}}function zh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function qw(){var t=cu;return cu<<=1,!(cu&4194240)&&(cu=64),t}function zd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Xl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-An(e),t[e]=n}function wO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-An(n),l=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~l}}function qp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-An(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ie=0;function Qw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Xw,Qp,Jw,Zw,eE,Bh=!1,du=[],jr=null,Kr=null,Yr=null,Il=new Map,Tl=new Map,Ur=[],EO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gy(t,e){switch(t){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Yr=null;break;case"pointerover":case"pointerout":Il.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tl.delete(e.pointerId)}}function Ho(t,e,n,r,s,l){return t===null||t.nativeEvent!==l?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[s]},e!==null&&(e=Zl(e),e!==null&&Qp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function SO(t,e,n,r,s){switch(e){case"focusin":return jr=Ho(jr,t,e,n,r,s),!0;case"dragenter":return Kr=Ho(Kr,t,e,n,r,s),!0;case"mouseover":return Yr=Ho(Yr,t,e,n,r,s),!0;case"pointerover":var l=s.pointerId;return Il.set(l,Ho(Il.get(l)||null,t,e,n,r,s)),!0;case"gotpointercapture":return l=s.pointerId,Tl.set(l,Ho(Tl.get(l)||null,t,e,n,r,s)),!0}return!1}function tE(t){var e=xi(t.target);if(e!==null){var n=Xi(e);if(n!==null){if(e=n.tag,e===13){if(e=$w(n),e!==null){t.blockedOn=e,eE(t.priority,function(){Jw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Hh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);bh=r,n.target.dispatchEvent(r),bh=null}else return e=Zl(n),e!==null&&Qp(e),t.blockedOn=n,!1;e.shift()}return!0}function _y(t,e,n){Nu(t)&&n.delete(e)}function CO(){Bh=!1,jr!==null&&Nu(jr)&&(jr=null),Kr!==null&&Nu(Kr)&&(Kr=null),Yr!==null&&Nu(Yr)&&(Yr=null),Il.forEach(_y),Tl.forEach(_y)}function $o(t,e){t.blockedOn===e&&(t.blockedOn=null,Bh||(Bh=!0,Xt.unstable_scheduleCallback(Xt.unstable_NormalPriority,CO)))}function kl(t){function e(s){return $o(s,t)}if(0<du.length){$o(du[0],t);for(var n=1;n<du.length;n++){var r=du[n];r.blockedOn===t&&(r.blockedOn=null)}}for(jr!==null&&$o(jr,t),Kr!==null&&$o(Kr,t),Yr!==null&&$o(Yr,t),Il.forEach(e),Tl.forEach(e),n=0;n<Ur.length;n++)r=Ur[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ur.length&&(n=Ur[0],n.blockedOn===null);)tE(n),n.blockedOn===null&&Ur.shift()}var Ms=Sr.ReactCurrentBatchConfig,Ku=!0;function IO(t,e,n,r){var s=Ie,l=Ms.transition;Ms.transition=null;try{Ie=1,Xp(t,e,n,r)}finally{Ie=s,Ms.transition=l}}function TO(t,e,n,r){var s=Ie,l=Ms.transition;Ms.transition=null;try{Ie=4,Xp(t,e,n,r)}finally{Ie=s,Ms.transition=l}}function Xp(t,e,n,r){if(Ku){var s=Hh(t,e,n,r);if(s===null)Qd(t,e,r,Yu,n),gy(t,r);else if(SO(s,t,e,n,r))r.stopPropagation();else if(gy(t,r),e&4&&-1<EO.indexOf(t)){for(;s!==null;){var l=Zl(s);if(l!==null&&Xw(l),l=Hh(t,e,n,r),l===null&&Qd(t,e,r,Yu,n),l===s)break;s=l}s!==null&&r.stopPropagation()}else Qd(t,e,r,null,n)}}var Yu=null;function Hh(t,e,n,r){if(Yu=null,t=Kp(r),t=xi(t),t!==null)if(e=Xi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=$w(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yu=t,null}function nE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dO()){case Yp:return 1;case Kw:return 4;case Gu:case hO:return 16;case Yw:return 536870912;default:return 16}default:return 16}}var Vr=null,Jp=null,xu=null;function rE(){if(xu)return xu;var t,e=Jp,n=e.length,r,s="value"in Vr?Vr.value:Vr.textContent,l=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[l-r];r++);return xu=s.slice(t,1<r?1-r:void 0)}function Au(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function hu(){return!0}function my(){return!1}function Zt(t){function e(n,r,s,l,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=l,this.target=a,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(l):l[c]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?hu:my,this.isPropagationStopped=my,this}return ze(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hu)},persist:function(){},isPersistent:hu}),e}var io={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zp=Zt(io),Jl=ze({},io,{view:0,detail:0}),kO=Zt(Jl),Bd,Hd,Vo,Fc=ze({},Jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vo&&(Vo&&t.type==="mousemove"?(Bd=t.screenX-Vo.screenX,Hd=t.screenY-Vo.screenY):Hd=Bd=0,Vo=t),Bd)},movementY:function(t){return"movementY"in t?t.movementY:Hd}}),vy=Zt(Fc),RO=ze({},Fc,{dataTransfer:0}),NO=Zt(RO),xO=ze({},Jl,{relatedTarget:0}),$d=Zt(xO),AO=ze({},io,{animationName:0,elapsedTime:0,pseudoElement:0}),PO=Zt(AO),OO=ze({},io,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),LO=Zt(OO),DO=ze({},io,{data:0}),yy=Zt(DO),MO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=FO[t])?!!e[t]:!1}function eg(){return UO}var WO=ze({},Jl,{key:function(t){if(t.key){var e=MO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Au(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eg,charCode:function(t){return t.type==="keypress"?Au(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Au(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zO=Zt(WO),BO=ze({},Fc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wy=Zt(BO),HO=ze({},Jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eg}),$O=Zt(HO),VO=ze({},io,{propertyName:0,elapsedTime:0,pseudoElement:0}),GO=Zt(VO),jO=ze({},Fc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),KO=Zt(jO),YO=[9,13,27,32],tg=_r&&"CompositionEvent"in window,al=null;_r&&"documentMode"in document&&(al=document.documentMode);var qO=_r&&"TextEvent"in window&&!al,iE=_r&&(!tg||al&&8<al&&11>=al),Ey=String.fromCharCode(32),Sy=!1;function sE(t,e){switch(t){case"keyup":return YO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ws=!1;function QO(t,e){switch(t){case"compositionend":return oE(e);case"keypress":return e.which!==32?null:(Sy=!0,Ey);case"textInput":return t=e.data,t===Ey&&Sy?null:t;default:return null}}function XO(t,e){if(ws)return t==="compositionend"||!tg&&sE(t,e)?(t=rE(),xu=Jp=Vr=null,ws=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return iE&&e.locale!=="ko"?null:e.data;default:return null}}var JO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!JO[t.type]:e==="textarea"}function lE(t,e,n,r){Uw(r),e=qu(e,"onChange"),0<e.length&&(n=new Zp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ul=null,Rl=null;function ZO(t){vE(t,0)}function Uc(t){var e=Cs(t);if(Pw(e))return t}function eL(t,e){if(t==="change")return e}var aE=!1;if(_r){var Vd;if(_r){var Gd="oninput"in document;if(!Gd){var Iy=document.createElement("div");Iy.setAttribute("oninput","return;"),Gd=typeof Iy.oninput=="function"}Vd=Gd}else Vd=!1;aE=Vd&&(!document.documentMode||9<document.documentMode)}function Ty(){ul&&(ul.detachEvent("onpropertychange",uE),Rl=ul=null)}function uE(t){if(t.propertyName==="value"&&Uc(Rl)){var e=[];lE(e,Rl,t,Kp(t)),Hw(ZO,e)}}function tL(t,e,n){t==="focusin"?(Ty(),ul=e,Rl=n,ul.attachEvent("onpropertychange",uE)):t==="focusout"&&Ty()}function nL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uc(Rl)}function rL(t,e){if(t==="click")return Uc(e)}function iL(t,e){if(t==="input"||t==="change")return Uc(e)}function sL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ln=typeof Object.is=="function"?Object.is:sL;function Nl(t,e){if(Ln(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ih.call(e,s)||!Ln(t[s],e[s]))return!1}return!0}function ky(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ry(t,e){var n=ky(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ky(n)}}function cE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?cE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function fE(){for(var t=window,e=Hu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Hu(t.document)}return e}function ng(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function oL(t){var e=fE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&cE(n.ownerDocument.documentElement,n)){if(r!==null&&ng(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,l=Math.min(r.start,s);r=r.end===void 0?l:Math.min(r.end,s),!t.extend&&l>r&&(s=r,r=l,l=s),s=Ry(n,l);var a=Ry(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),l>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var lL=_r&&"documentMode"in document&&11>=document.documentMode,Es=null,$h=null,cl=null,Vh=!1;function Ny(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vh||Es==null||Es!==Hu(r)||(r=Es,"selectionStart"in r&&ng(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),cl&&Nl(cl,r)||(cl=r,r=qu($h,"onSelect"),0<r.length&&(e=new Zp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Es)))}function pu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ss={animationend:pu("Animation","AnimationEnd"),animationiteration:pu("Animation","AnimationIteration"),animationstart:pu("Animation","AnimationStart"),transitionend:pu("Transition","TransitionEnd")},jd={},dE={};_r&&(dE=document.createElement("div").style,"AnimationEvent"in window||(delete Ss.animationend.animation,delete Ss.animationiteration.animation,delete Ss.animationstart.animation),"TransitionEvent"in window||delete Ss.transitionend.transition);function Wc(t){if(jd[t])return jd[t];if(!Ss[t])return t;var e=Ss[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in dE)return jd[t]=e[n];return t}var hE=Wc("animationend"),pE=Wc("animationiteration"),gE=Wc("animationstart"),_E=Wc("transitionend"),mE=new Map,xy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fi(t,e){mE.set(t,e),Qi(e,[t])}for(var Kd=0;Kd<xy.length;Kd++){var Yd=xy[Kd],aL=Yd.toLowerCase(),uL=Yd[0].toUpperCase()+Yd.slice(1);fi(aL,"on"+uL)}fi(hE,"onAnimationEnd");fi(pE,"onAnimationIteration");fi(gE,"onAnimationStart");fi("dblclick","onDoubleClick");fi("focusin","onFocus");fi("focusout","onBlur");fi(_E,"onTransitionEnd");$s("onMouseEnter",["mouseout","mouseover"]);$s("onMouseLeave",["mouseout","mouseover"]);$s("onPointerEnter",["pointerout","pointerover"]);$s("onPointerLeave",["pointerout","pointerover"]);Qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cL=new Set("cancel close invalid load scroll toggle".split(" ").concat(rl));function Ay(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,aO(r,e,void 0,t),t.currentTarget=null}function vE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var l=void 0;if(e)for(var a=r.length-1;0<=a;a--){var c=r[a],d=c.instance,h=c.currentTarget;if(c=c.listener,d!==l&&s.isPropagationStopped())break e;Ay(s,c,h),l=d}else for(a=0;a<r.length;a++){if(c=r[a],d=c.instance,h=c.currentTarget,c=c.listener,d!==l&&s.isPropagationStopped())break e;Ay(s,c,h),l=d}}}if(Vu)throw t=Wh,Vu=!1,Wh=null,t}function Oe(t,e){var n=e[qh];n===void 0&&(n=e[qh]=new Set);var r=t+"__bubble";n.has(r)||(yE(e,t,2,!1),n.add(r))}function qd(t,e,n){var r=0;e&&(r|=4),yE(n,t,r,e)}var gu="_reactListening"+Math.random().toString(36).slice(2);function xl(t){if(!t[gu]){t[gu]=!0,kw.forEach(function(n){n!=="selectionchange"&&(cL.has(n)||qd(n,!1,t),qd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[gu]||(e[gu]=!0,qd("selectionchange",!1,e))}}function yE(t,e,n,r){switch(nE(e)){case 1:var s=IO;break;case 4:s=TO;break;default:s=Xp}n=s.bind(null,e,n,t),s=void 0,!Uh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Qd(t,e,n,r,s){var l=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var c=r.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var d=a.tag;if((d===3||d===4)&&(d=a.stateNode.containerInfo,d===s||d.nodeType===8&&d.parentNode===s))return;a=a.return}for(;c!==null;){if(a=xi(c),a===null)return;if(d=a.tag,d===5||d===6){r=l=a;continue e}c=c.parentNode}}r=r.return}Hw(function(){var h=l,v=Kp(n),m=[];e:{var y=mE.get(t);if(y!==void 0){var R=Zp,x=t;switch(t){case"keypress":if(Au(n)===0)break e;case"keydown":case"keyup":R=zO;break;case"focusin":x="focus",R=$d;break;case"focusout":x="blur",R=$d;break;case"beforeblur":case"afterblur":R=$d;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=vy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=NO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=$O;break;case hE:case pE:case gE:R=PO;break;case _E:R=GO;break;case"scroll":R=kO;break;case"wheel":R=KO;break;case"copy":case"cut":case"paste":R=LO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=wy}var D=(e&4)!==0,j=!D&&t==="scroll",C=D?y!==null?y+"Capture":null:y;D=[];for(var E=h,T;E!==null;){T=E;var L=T.stateNode;if(T.tag===5&&L!==null&&(T=L,C!==null&&(L=Cl(E,C),L!=null&&D.push(Al(E,L,T)))),j)break;E=E.return}0<D.length&&(y=new R(y,x,null,n,v),m.push({event:y,listeners:D}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",R=t==="mouseout"||t==="pointerout",y&&n!==bh&&(x=n.relatedTarget||n.fromElement)&&(xi(x)||x[mr]))break e;if((R||y)&&(y=v.window===v?v:(y=v.ownerDocument)?y.defaultView||y.parentWindow:window,R?(x=n.relatedTarget||n.toElement,R=h,x=x?xi(x):null,x!==null&&(j=Xi(x),x!==j||x.tag!==5&&x.tag!==6)&&(x=null)):(R=null,x=h),R!==x)){if(D=vy,L="onMouseLeave",C="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(D=wy,L="onPointerLeave",C="onPointerEnter",E="pointer"),j=R==null?y:Cs(R),T=x==null?y:Cs(x),y=new D(L,E+"leave",R,n,v),y.target=j,y.relatedTarget=T,L=null,xi(v)===h&&(D=new D(C,E+"enter",x,n,v),D.target=T,D.relatedTarget=j,L=D),j=L,R&&x)t:{for(D=R,C=x,E=0,T=D;T;T=_s(T))E++;for(T=0,L=C;L;L=_s(L))T++;for(;0<E-T;)D=_s(D),E--;for(;0<T-E;)C=_s(C),T--;for(;E--;){if(D===C||C!==null&&D===C.alternate)break t;D=_s(D),C=_s(C)}D=null}else D=null;R!==null&&Py(m,y,R,D,!1),x!==null&&j!==null&&Py(m,j,x,D,!0)}}e:{if(y=h?Cs(h):window,R=y.nodeName&&y.nodeName.toLowerCase(),R==="select"||R==="input"&&y.type==="file")var F=eL;else if(Cy(y))if(aE)F=iL;else{F=nL;var H=tL}else(R=y.nodeName)&&R.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(F=rL);if(F&&(F=F(t,h))){lE(m,F,n,v);break e}H&&H(t,y,h),t==="focusout"&&(H=y._wrapperState)&&H.controlled&&y.type==="number"&&Ph(y,"number",y.value)}switch(H=h?Cs(h):window,t){case"focusin":(Cy(H)||H.contentEditable==="true")&&(Es=H,$h=h,cl=null);break;case"focusout":cl=$h=Es=null;break;case"mousedown":Vh=!0;break;case"contextmenu":case"mouseup":case"dragend":Vh=!1,Ny(m,n,v);break;case"selectionchange":if(lL)break;case"keydown":case"keyup":Ny(m,n,v)}var B;if(tg)e:{switch(t){case"compositionstart":var G="onCompositionStart";break e;case"compositionend":G="onCompositionEnd";break e;case"compositionupdate":G="onCompositionUpdate";break e}G=void 0}else ws?sE(t,n)&&(G="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(G="onCompositionStart");G&&(iE&&n.locale!=="ko"&&(ws||G!=="onCompositionStart"?G==="onCompositionEnd"&&ws&&(B=rE()):(Vr=v,Jp="value"in Vr?Vr.value:Vr.textContent,ws=!0)),H=qu(h,G),0<H.length&&(G=new yy(G,t,null,n,v),m.push({event:G,listeners:H}),B?G.data=B:(B=oE(n),B!==null&&(G.data=B)))),(B=qO?QO(t,n):XO(t,n))&&(h=qu(h,"onBeforeInput"),0<h.length&&(v=new yy("onBeforeInput","beforeinput",null,n,v),m.push({event:v,listeners:h}),v.data=B))}vE(m,e)})}function Al(t,e,n){return{instance:t,listener:e,currentTarget:n}}function qu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=Cl(t,n),l!=null&&r.unshift(Al(t,l,s)),l=Cl(t,e),l!=null&&r.push(Al(t,l,s))),t=t.return}return r}function _s(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Py(t,e,n,r,s){for(var l=e._reactName,a=[];n!==null&&n!==r;){var c=n,d=c.alternate,h=c.stateNode;if(d!==null&&d===r)break;c.tag===5&&h!==null&&(c=h,s?(d=Cl(n,l),d!=null&&a.unshift(Al(n,d,c))):s||(d=Cl(n,l),d!=null&&a.push(Al(n,d,c)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var fL=/\r\n?/g,dL=/\u0000|\uFFFD/g;function Oy(t){return(typeof t=="string"?t:""+t).replace(fL,`
`).replace(dL,"")}function _u(t,e,n){if(e=Oy(e),Oy(t)!==e&&n)throw Error(b(425))}function Qu(){}var Gh=null,jh=null;function Kh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Yh=typeof setTimeout=="function"?setTimeout:void 0,hL=typeof clearTimeout=="function"?clearTimeout:void 0,Ly=typeof Promise=="function"?Promise:void 0,pL=typeof queueMicrotask=="function"?queueMicrotask:typeof Ly<"u"?function(t){return Ly.resolve(null).then(t).catch(gL)}:Yh;function gL(t){setTimeout(function(){throw t})}function Xd(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),kl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);kl(e)}function qr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Dy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var so=Math.random().toString(36).slice(2),$n="__reactFiber$"+so,Pl="__reactProps$"+so,mr="__reactContainer$"+so,qh="__reactEvents$"+so,_L="__reactListeners$"+so,mL="__reactHandles$"+so;function xi(t){var e=t[$n];if(e)return e;for(var n=t.parentNode;n;){if(e=n[mr]||n[$n]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Dy(t);t!==null;){if(n=t[$n])return n;t=Dy(t)}return e}t=n,n=t.parentNode}return null}function Zl(t){return t=t[$n]||t[mr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Cs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(b(33))}function zc(t){return t[Pl]||null}var Qh=[],Is=-1;function di(t){return{current:t}}function De(t){0>Is||(t.current=Qh[Is],Qh[Is]=null,Is--)}function Ae(t,e){Is++,Qh[Is]=t.current,t.current=e}var li={},yt=di(li),Ft=di(!1),Ui=li;function Vs(t,e){var n=t.type.contextTypes;if(!n)return li;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in n)s[l]=e[l];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ut(t){return t=t.childContextTypes,t!=null}function Xu(){De(Ft),De(yt)}function My(t,e,n){if(yt.current!==li)throw Error(b(168));Ae(yt,e),Ae(Ft,n)}function wE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(b(108,tO(t)||"Unknown",s));return ze({},n,r)}function Ju(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||li,Ui=yt.current,Ae(yt,t),Ae(Ft,Ft.current),!0}function by(t,e,n){var r=t.stateNode;if(!r)throw Error(b(169));n?(t=wE(t,e,Ui),r.__reactInternalMemoizedMergedChildContext=t,De(Ft),De(yt),Ae(yt,t)):De(Ft),Ae(Ft,n)}var ar=null,Bc=!1,Jd=!1;function EE(t){ar===null?ar=[t]:ar.push(t)}function vL(t){Bc=!0,EE(t)}function hi(){if(!Jd&&ar!==null){Jd=!0;var t=0,e=Ie;try{var n=ar;for(Ie=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ar=null,Bc=!1}catch(s){throw ar!==null&&(ar=ar.slice(t+1)),jw(Yp,hi),s}finally{Ie=e,Jd=!1}}return null}var Ts=[],ks=0,Zu=null,ec=0,cn=[],fn=0,Wi=null,ur=1,cr="";function Ti(t,e){Ts[ks++]=ec,Ts[ks++]=Zu,Zu=t,ec=e}function SE(t,e,n){cn[fn++]=ur,cn[fn++]=cr,cn[fn++]=Wi,Wi=t;var r=ur;t=cr;var s=32-An(r)-1;r&=~(1<<s),n+=1;var l=32-An(e)+s;if(30<l){var a=s-s%5;l=(r&(1<<a)-1).toString(32),r>>=a,s-=a,ur=1<<32-An(e)+s|n<<s|r,cr=l+t}else ur=1<<l|n<<s|r,cr=t}function rg(t){t.return!==null&&(Ti(t,1),SE(t,1,0))}function ig(t){for(;t===Zu;)Zu=Ts[--ks],Ts[ks]=null,ec=Ts[--ks],Ts[ks]=null;for(;t===Wi;)Wi=cn[--fn],cn[fn]=null,cr=cn[--fn],cn[fn]=null,ur=cn[--fn],cn[fn]=null}var Qt=null,qt=null,be=!1,kn=null;function CE(t,e){var n=dn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Fy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Qt=t,qt=qr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Qt=t,qt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Wi!==null?{id:ur,overflow:cr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=dn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Qt=t,qt=null,!0):!1;default:return!1}}function Xh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Jh(t){if(be){var e=qt;if(e){var n=e;if(!Fy(t,e)){if(Xh(t))throw Error(b(418));e=qr(n.nextSibling);var r=Qt;e&&Fy(t,e)?CE(r,n):(t.flags=t.flags&-4097|2,be=!1,Qt=t)}}else{if(Xh(t))throw Error(b(418));t.flags=t.flags&-4097|2,be=!1,Qt=t}}}function Uy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qt=t}function mu(t){if(t!==Qt)return!1;if(!be)return Uy(t),be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Kh(t.type,t.memoizedProps)),e&&(e=qt)){if(Xh(t))throw IE(),Error(b(418));for(;e;)CE(t,e),e=qr(e.nextSibling)}if(Uy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(b(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){qt=qr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}qt=null}}else qt=Qt?qr(t.stateNode.nextSibling):null;return!0}function IE(){for(var t=qt;t;)t=qr(t.nextSibling)}function Gs(){qt=Qt=null,be=!1}function sg(t){kn===null?kn=[t]:kn.push(t)}var yL=Sr.ReactCurrentBatchConfig;function In(t,e){if(t&&t.defaultProps){e=ze({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var tc=di(null),nc=null,Rs=null,og=null;function lg(){og=Rs=nc=null}function ag(t){var e=tc.current;De(tc),t._currentValue=e}function Zh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function bs(t,e){nc=t,og=Rs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Mt=!0),t.firstContext=null)}function pn(t){var e=t._currentValue;if(og!==t)if(t={context:t,memoizedValue:e,next:null},Rs===null){if(nc===null)throw Error(b(308));Rs=t,nc.dependencies={lanes:0,firstContext:t}}else Rs=Rs.next=t;return e}var Ai=null;function ug(t){Ai===null?Ai=[t]:Ai.push(t)}function TE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,ug(e)):(n.next=s.next,s.next=n),e.interleaved=n,vr(t,r)}function vr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Fr=!1;function cg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Qr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,_e&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,vr(t,n)}return s=r.interleaved,s===null?(e.next=e,ug(r)):(e.next=s.next,s.next=e),r.interleaved=e,vr(t,n)}function Pu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qp(t,n)}}function Wy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?s=l=a:l=l.next=a,n=n.next}while(n!==null);l===null?s=l=e:l=l.next=e}else s=l=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function rc(t,e,n,r){var s=t.updateQueue;Fr=!1;var l=s.firstBaseUpdate,a=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var d=c,h=d.next;d.next=null,a===null?l=h:a.next=h,a=d;var v=t.alternate;v!==null&&(v=v.updateQueue,c=v.lastBaseUpdate,c!==a&&(c===null?v.firstBaseUpdate=h:c.next=h,v.lastBaseUpdate=d))}if(l!==null){var m=s.baseState;a=0,v=h=d=null,c=l;do{var y=c.lane,R=c.eventTime;if((r&y)===y){v!==null&&(v=v.next={eventTime:R,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var x=t,D=c;switch(y=e,R=n,D.tag){case 1:if(x=D.payload,typeof x=="function"){m=x.call(R,m,y);break e}m=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=D.payload,y=typeof x=="function"?x.call(R,m,y):x,y==null)break e;m=ze({},m,y);break e;case 2:Fr=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,y=s.effects,y===null?s.effects=[c]:y.push(c))}else R={eventTime:R,lane:y,tag:c.tag,payload:c.payload,callback:c.callback,next:null},v===null?(h=v=R,d=m):v=v.next=R,a|=y;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;y=c,c=y.next,y.next=null,s.lastBaseUpdate=y,s.shared.pending=null}}while(1);if(v===null&&(d=m),s.baseState=d,s.firstBaseUpdate=h,s.lastBaseUpdate=v,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else l===null&&(s.shared.lanes=0);Bi|=a,t.lanes=a,t.memoizedState=m}}function zy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(b(191,s));s.call(r)}}}var RE=new Tw.Component().refs;function ep(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ze({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hc={isMounted:function(t){return(t=t._reactInternals)?Xi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Rt(),s=Jr(t),l=pr(r,s);l.payload=e,n!=null&&(l.callback=n),e=Qr(t,l,s),e!==null&&(Pn(e,t,s,r),Pu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Rt(),s=Jr(t),l=pr(r,s);l.tag=1,l.payload=e,n!=null&&(l.callback=n),e=Qr(t,l,s),e!==null&&(Pn(e,t,s,r),Pu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Rt(),r=Jr(t),s=pr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Qr(t,s,r),e!==null&&(Pn(e,t,r,n),Pu(e,t,r))}};function By(t,e,n,r,s,l,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,l,a):e.prototype&&e.prototype.isPureReactComponent?!Nl(n,r)||!Nl(s,l):!0}function NE(t,e,n){var r=!1,s=li,l=e.contextType;return typeof l=="object"&&l!==null?l=pn(l):(s=Ut(e)?Ui:yt.current,r=e.contextTypes,l=(r=r!=null)?Vs(t,s):li),e=new e(n,l),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=l),e}function Hy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Hc.enqueueReplaceState(e,e.state,null)}function tp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=RE,cg(t);var l=e.contextType;typeof l=="object"&&l!==null?s.context=pn(l):(l=Ut(e)?Ui:yt.current,s.context=Vs(t,l)),s.state=t.memoizedState,l=e.getDerivedStateFromProps,typeof l=="function"&&(ep(t,e,l,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Hc.enqueueReplaceState(s,s.state,null),rc(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Go(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(b(309));var r=n.stateNode}if(!r)throw Error(b(147,t));var s=r,l=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===l?e.ref:(e=function(a){var c=s.refs;c===RE&&(c=s.refs={}),a===null?delete c[l]:c[l]=a},e._stringRef=l,e)}if(typeof t!="string")throw Error(b(284));if(!n._owner)throw Error(b(290,t))}return t}function vu(t,e){throw t=Object.prototype.toString.call(e),Error(b(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $y(t){var e=t._init;return e(t._payload)}function xE(t){function e(C,E){if(t){var T=C.deletions;T===null?(C.deletions=[E],C.flags|=16):T.push(E)}}function n(C,E){if(!t)return null;for(;E!==null;)e(C,E),E=E.sibling;return null}function r(C,E){for(C=new Map;E!==null;)E.key!==null?C.set(E.key,E):C.set(E.index,E),E=E.sibling;return C}function s(C,E){return C=Zr(C,E),C.index=0,C.sibling=null,C}function l(C,E,T){return C.index=T,t?(T=C.alternate,T!==null?(T=T.index,T<E?(C.flags|=2,E):T):(C.flags|=2,E)):(C.flags|=1048576,E)}function a(C){return t&&C.alternate===null&&(C.flags|=2),C}function c(C,E,T,L){return E===null||E.tag!==6?(E=sh(T,C.mode,L),E.return=C,E):(E=s(E,T),E.return=C,E)}function d(C,E,T,L){var F=T.type;return F===ys?v(C,E,T.props.children,L,T.key):E!==null&&(E.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===br&&$y(F)===E.type)?(L=s(E,T.props),L.ref=Go(C,E,T),L.return=C,L):(L=Fu(T.type,T.key,T.props,null,C.mode,L),L.ref=Go(C,E,T),L.return=C,L)}function h(C,E,T,L){return E===null||E.tag!==4||E.stateNode.containerInfo!==T.containerInfo||E.stateNode.implementation!==T.implementation?(E=oh(T,C.mode,L),E.return=C,E):(E=s(E,T.children||[]),E.return=C,E)}function v(C,E,T,L,F){return E===null||E.tag!==7?(E=Mi(T,C.mode,L,F),E.return=C,E):(E=s(E,T),E.return=C,E)}function m(C,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return E=sh(""+E,C.mode,T),E.return=C,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case lu:return T=Fu(E.type,E.key,E.props,null,C.mode,T),T.ref=Go(C,null,E),T.return=C,T;case vs:return E=oh(E,C.mode,T),E.return=C,E;case br:var L=E._init;return m(C,L(E._payload),T)}if(tl(E)||zo(E))return E=Mi(E,C.mode,T,null),E.return=C,E;vu(C,E)}return null}function y(C,E,T,L){var F=E!==null?E.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return F!==null?null:c(C,E,""+T,L);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case lu:return T.key===F?d(C,E,T,L):null;case vs:return T.key===F?h(C,E,T,L):null;case br:return F=T._init,y(C,E,F(T._payload),L)}if(tl(T)||zo(T))return F!==null?null:v(C,E,T,L,null);vu(C,T)}return null}function R(C,E,T,L,F){if(typeof L=="string"&&L!==""||typeof L=="number")return C=C.get(T)||null,c(E,C,""+L,F);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case lu:return C=C.get(L.key===null?T:L.key)||null,d(E,C,L,F);case vs:return C=C.get(L.key===null?T:L.key)||null,h(E,C,L,F);case br:var H=L._init;return R(C,E,T,H(L._payload),F)}if(tl(L)||zo(L))return C=C.get(T)||null,v(E,C,L,F,null);vu(E,L)}return null}function x(C,E,T,L){for(var F=null,H=null,B=E,G=E=0,ye=null;B!==null&&G<T.length;G++){B.index>G?(ye=B,B=null):ye=B.sibling;var ee=y(C,B,T[G],L);if(ee===null){B===null&&(B=ye);break}t&&B&&ee.alternate===null&&e(C,B),E=l(ee,E,G),H===null?F=ee:H.sibling=ee,H=ee,B=ye}if(G===T.length)return n(C,B),be&&Ti(C,G),F;if(B===null){for(;G<T.length;G++)B=m(C,T[G],L),B!==null&&(E=l(B,E,G),H===null?F=B:H.sibling=B,H=B);return be&&Ti(C,G),F}for(B=r(C,B);G<T.length;G++)ye=R(B,C,G,T[G],L),ye!==null&&(t&&ye.alternate!==null&&B.delete(ye.key===null?G:ye.key),E=l(ye,E,G),H===null?F=ye:H.sibling=ye,H=ye);return t&&B.forEach(function(Y){return e(C,Y)}),be&&Ti(C,G),F}function D(C,E,T,L){var F=zo(T);if(typeof F!="function")throw Error(b(150));if(T=F.call(T),T==null)throw Error(b(151));for(var H=F=null,B=E,G=E=0,ye=null,ee=T.next();B!==null&&!ee.done;G++,ee=T.next()){B.index>G?(ye=B,B=null):ye=B.sibling;var Y=y(C,B,ee.value,L);if(Y===null){B===null&&(B=ye);break}t&&B&&Y.alternate===null&&e(C,B),E=l(Y,E,G),H===null?F=Y:H.sibling=Y,H=Y,B=ye}if(ee.done)return n(C,B),be&&Ti(C,G),F;if(B===null){for(;!ee.done;G++,ee=T.next())ee=m(C,ee.value,L),ee!==null&&(E=l(ee,E,G),H===null?F=ee:H.sibling=ee,H=ee);return be&&Ti(C,G),F}for(B=r(C,B);!ee.done;G++,ee=T.next())ee=R(B,C,G,ee.value,L),ee!==null&&(t&&ee.alternate!==null&&B.delete(ee.key===null?G:ee.key),E=l(ee,E,G),H===null?F=ee:H.sibling=ee,H=ee);return t&&B.forEach(function(Mn){return e(C,Mn)}),be&&Ti(C,G),F}function j(C,E,T,L){if(typeof T=="object"&&T!==null&&T.type===ys&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case lu:e:{for(var F=T.key,H=E;H!==null;){if(H.key===F){if(F=T.type,F===ys){if(H.tag===7){n(C,H.sibling),E=s(H,T.props.children),E.return=C,C=E;break e}}else if(H.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===br&&$y(F)===H.type){n(C,H.sibling),E=s(H,T.props),E.ref=Go(C,H,T),E.return=C,C=E;break e}n(C,H);break}else e(C,H);H=H.sibling}T.type===ys?(E=Mi(T.props.children,C.mode,L,T.key),E.return=C,C=E):(L=Fu(T.type,T.key,T.props,null,C.mode,L),L.ref=Go(C,E,T),L.return=C,C=L)}return a(C);case vs:e:{for(H=T.key;E!==null;){if(E.key===H)if(E.tag===4&&E.stateNode.containerInfo===T.containerInfo&&E.stateNode.implementation===T.implementation){n(C,E.sibling),E=s(E,T.children||[]),E.return=C,C=E;break e}else{n(C,E);break}else e(C,E);E=E.sibling}E=oh(T,C.mode,L),E.return=C,C=E}return a(C);case br:return H=T._init,j(C,E,H(T._payload),L)}if(tl(T))return x(C,E,T,L);if(zo(T))return D(C,E,T,L);vu(C,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,E!==null&&E.tag===6?(n(C,E.sibling),E=s(E,T),E.return=C,C=E):(n(C,E),E=sh(T,C.mode,L),E.return=C,C=E),a(C)):n(C,E)}return j}var js=xE(!0),AE=xE(!1),ea={},Gn=di(ea),Ol=di(ea),Ll=di(ea);function Pi(t){if(t===ea)throw Error(b(174));return t}function fg(t,e){switch(Ae(Ll,e),Ae(Ol,t),Ae(Gn,ea),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Lh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Lh(e,t)}De(Gn),Ae(Gn,e)}function Ks(){De(Gn),De(Ol),De(Ll)}function PE(t){Pi(Ll.current);var e=Pi(Gn.current),n=Lh(e,t.type);e!==n&&(Ae(Ol,t),Ae(Gn,n))}function dg(t){Ol.current===t&&(De(Gn),De(Ol))}var Ue=di(0);function ic(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Zd=[];function hg(){for(var t=0;t<Zd.length;t++)Zd[t]._workInProgressVersionPrimary=null;Zd.length=0}var Ou=Sr.ReactCurrentDispatcher,eh=Sr.ReactCurrentBatchConfig,zi=0,We=null,Xe=null,rt=null,sc=!1,fl=!1,Dl=0,wL=0;function gt(){throw Error(b(321))}function pg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ln(t[n],e[n]))return!1;return!0}function gg(t,e,n,r,s,l){if(zi=l,We=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ou.current=t===null||t.memoizedState===null?IL:TL,t=n(r,s),fl){l=0;do{if(fl=!1,Dl=0,25<=l)throw Error(b(301));l+=1,rt=Xe=null,e.updateQueue=null,Ou.current=kL,t=n(r,s)}while(fl)}if(Ou.current=oc,e=Xe!==null&&Xe.next!==null,zi=0,rt=Xe=We=null,sc=!1,e)throw Error(b(300));return t}function _g(){var t=Dl!==0;return Dl=0,t}function Hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?We.memoizedState=rt=t:rt=rt.next=t,rt}function gn(){if(Xe===null){var t=We.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var e=rt===null?We.memoizedState:rt.next;if(e!==null)rt=e,Xe=t;else{if(t===null)throw Error(b(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},rt===null?We.memoizedState=rt=t:rt=rt.next=t}return rt}function Ml(t,e){return typeof e=="function"?e(t):e}function th(t){var e=gn(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var r=Xe,s=r.baseQueue,l=n.pending;if(l!==null){if(s!==null){var a=s.next;s.next=l.next,l.next=a}r.baseQueue=s=l,n.pending=null}if(s!==null){l=s.next,r=r.baseState;var c=a=null,d=null,h=l;do{var v=h.lane;if((zi&v)===v)d!==null&&(d=d.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var m={lane:v,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};d===null?(c=d=m,a=r):d=d.next=m,We.lanes|=v,Bi|=v}h=h.next}while(h!==null&&h!==l);d===null?a=r:d.next=c,Ln(r,e.memoizedState)||(Mt=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=d,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do l=s.lane,We.lanes|=l,Bi|=l,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function nh(t){var e=gn(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,l=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do l=t(l,a.action),a=a.next;while(a!==s);Ln(l,e.memoizedState)||(Mt=!0),e.memoizedState=l,e.baseQueue===null&&(e.baseState=l),n.lastRenderedState=l}return[l,r]}function OE(){}function LE(t,e){var n=We,r=gn(),s=e(),l=!Ln(r.memoizedState,s);if(l&&(r.memoizedState=s,Mt=!0),r=r.queue,mg(bE.bind(null,n,r,t),[t]),r.getSnapshot!==e||l||rt!==null&&rt.memoizedState.tag&1){if(n.flags|=2048,bl(9,ME.bind(null,n,r,s,e),void 0,null),ot===null)throw Error(b(349));zi&30||DE(n,e,s)}return s}function DE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ME(t,e,n,r){e.value=n,e.getSnapshot=r,FE(e)&&UE(t)}function bE(t,e,n){return n(function(){FE(e)&&UE(t)})}function FE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ln(t,n)}catch{return!0}}function UE(t){var e=vr(t,1);e!==null&&Pn(e,t,1,-1)}function Vy(t){var e=Hn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ml,lastRenderedState:t},e.queue=t,t=t.dispatch=CL.bind(null,We,t),[e.memoizedState,t]}function bl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function WE(){return gn().memoizedState}function Lu(t,e,n,r){var s=Hn();We.flags|=t,s.memoizedState=bl(1|e,n,void 0,r===void 0?null:r)}function $c(t,e,n,r){var s=gn();r=r===void 0?null:r;var l=void 0;if(Xe!==null){var a=Xe.memoizedState;if(l=a.destroy,r!==null&&pg(r,a.deps)){s.memoizedState=bl(e,n,l,r);return}}We.flags|=t,s.memoizedState=bl(1|e,n,l,r)}function Gy(t,e){return Lu(8390656,8,t,e)}function mg(t,e){return $c(2048,8,t,e)}function zE(t,e){return $c(4,2,t,e)}function BE(t,e){return $c(4,4,t,e)}function HE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $E(t,e,n){return n=n!=null?n.concat([t]):null,$c(4,4,HE.bind(null,e,t),n)}function vg(){}function VE(t,e){var n=gn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function GE(t,e){var n=gn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function jE(t,e,n){return zi&21?(Ln(n,e)||(n=qw(),We.lanes|=n,Bi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Mt=!0),t.memoizedState=n)}function EL(t,e){var n=Ie;Ie=n!==0&&4>n?n:4,t(!0);var r=eh.transition;eh.transition={};try{t(!1),e()}finally{Ie=n,eh.transition=r}}function KE(){return gn().memoizedState}function SL(t,e,n){var r=Jr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},YE(t))qE(e,n);else if(n=TE(t,e,n,r),n!==null){var s=Rt();Pn(n,t,r,s),QE(n,e,r)}}function CL(t,e,n){var r=Jr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(YE(t))qE(e,s);else{var l=t.alternate;if(t.lanes===0&&(l===null||l.lanes===0)&&(l=e.lastRenderedReducer,l!==null))try{var a=e.lastRenderedState,c=l(a,n);if(s.hasEagerState=!0,s.eagerState=c,Ln(c,a)){var d=e.interleaved;d===null?(s.next=s,ug(e)):(s.next=d.next,d.next=s),e.interleaved=s;return}}catch{}finally{}n=TE(t,e,s,r),n!==null&&(s=Rt(),Pn(n,t,r,s),QE(n,e,r))}}function YE(t){var e=t.alternate;return t===We||e!==null&&e===We}function qE(t,e){fl=sc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function QE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qp(t,n)}}var oc={readContext:pn,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useInsertionEffect:gt,useLayoutEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useMutableSource:gt,useSyncExternalStore:gt,useId:gt,unstable_isNewReconciler:!1},IL={readContext:pn,useCallback:function(t,e){return Hn().memoizedState=[t,e===void 0?null:e],t},useContext:pn,useEffect:Gy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Lu(4194308,4,HE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Lu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Lu(4,2,t,e)},useMemo:function(t,e){var n=Hn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Hn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=SL.bind(null,We,t),[r.memoizedState,t]},useRef:function(t){var e=Hn();return t={current:t},e.memoizedState=t},useState:Vy,useDebugValue:vg,useDeferredValue:function(t){return Hn().memoizedState=t},useTransition:function(){var t=Vy(!1),e=t[0];return t=EL.bind(null,t[1]),Hn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=We,s=Hn();if(be){if(n===void 0)throw Error(b(407));n=n()}else{if(n=e(),ot===null)throw Error(b(349));zi&30||DE(r,e,n)}s.memoizedState=n;var l={value:n,getSnapshot:e};return s.queue=l,Gy(bE.bind(null,r,l,t),[t]),r.flags|=2048,bl(9,ME.bind(null,r,l,n,e),void 0,null),n},useId:function(){var t=Hn(),e=ot.identifierPrefix;if(be){var n=cr,r=ur;n=(r&~(1<<32-An(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Dl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=wL++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},TL={readContext:pn,useCallback:VE,useContext:pn,useEffect:mg,useImperativeHandle:$E,useInsertionEffect:zE,useLayoutEffect:BE,useMemo:GE,useReducer:th,useRef:WE,useState:function(){return th(Ml)},useDebugValue:vg,useDeferredValue:function(t){var e=gn();return jE(e,Xe.memoizedState,t)},useTransition:function(){var t=th(Ml)[0],e=gn().memoizedState;return[t,e]},useMutableSource:OE,useSyncExternalStore:LE,useId:KE,unstable_isNewReconciler:!1},kL={readContext:pn,useCallback:VE,useContext:pn,useEffect:mg,useImperativeHandle:$E,useInsertionEffect:zE,useLayoutEffect:BE,useMemo:GE,useReducer:nh,useRef:WE,useState:function(){return nh(Ml)},useDebugValue:vg,useDeferredValue:function(t){var e=gn();return Xe===null?e.memoizedState=t:jE(e,Xe.memoizedState,t)},useTransition:function(){var t=nh(Ml)[0],e=gn().memoizedState;return[t,e]},useMutableSource:OE,useSyncExternalStore:LE,useId:KE,unstable_isNewReconciler:!1};function Ys(t,e){try{var n="",r=e;do n+=eO(r),r=r.return;while(r);var s=n}catch(l){s=`
Error generating stack: `+l.message+`
`+l.stack}return{value:t,source:e,stack:s,digest:null}}function rh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function np(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var RL=typeof WeakMap=="function"?WeakMap:Map;function XE(t,e,n){n=pr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ac||(ac=!0,dp=r),np(t,e)},n}function JE(t,e,n){n=pr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){np(t,e)}}var l=t.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){np(t,e),typeof r!="function"&&(Xr===null?Xr=new Set([this]):Xr.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function jy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new RL;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=BL.bind(null,t,e,n),e.then(t,t))}function Ky(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Yy(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pr(-1,1),e.tag=2,Qr(n,e,1))),n.lanes|=1),t)}var NL=Sr.ReactCurrentOwner,Mt=!1;function Tt(t,e,n,r){e.child=t===null?AE(e,null,n,r):js(e,t.child,n,r)}function qy(t,e,n,r,s){n=n.render;var l=e.ref;return bs(e,s),r=gg(t,e,n,r,l,s),n=_g(),t!==null&&!Mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,yr(t,e,s)):(be&&n&&rg(e),e.flags|=1,Tt(t,e,r,s),e.child)}function Qy(t,e,n,r,s){if(t===null){var l=n.type;return typeof l=="function"&&!kg(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=l,ZE(t,e,l,r,s)):(t=Fu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(l=t.child,!(t.lanes&s)){var a=l.memoizedProps;if(n=n.compare,n=n!==null?n:Nl,n(a,r)&&t.ref===e.ref)return yr(t,e,s)}return e.flags|=1,t=Zr(l,r),t.ref=e.ref,t.return=e,e.child=t}function ZE(t,e,n,r,s){if(t!==null){var l=t.memoizedProps;if(Nl(l,r)&&t.ref===e.ref)if(Mt=!1,e.pendingProps=r=l,(t.lanes&s)!==0)t.flags&131072&&(Mt=!0);else return e.lanes=t.lanes,yr(t,e,s)}return rp(t,e,n,r,s)}function e1(t,e,n){var r=e.pendingProps,s=r.children,l=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(xs,Yt),Yt|=n;else{if(!(n&1073741824))return t=l!==null?l.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ae(xs,Yt),Yt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,Ae(xs,Yt),Yt|=r}else l!==null?(r=l.baseLanes|n,e.memoizedState=null):r=n,Ae(xs,Yt),Yt|=r;return Tt(t,e,s,n),e.child}function t1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function rp(t,e,n,r,s){var l=Ut(n)?Ui:yt.current;return l=Vs(e,l),bs(e,s),n=gg(t,e,n,r,l,s),r=_g(),t!==null&&!Mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,yr(t,e,s)):(be&&r&&rg(e),e.flags|=1,Tt(t,e,n,s),e.child)}function Xy(t,e,n,r,s){if(Ut(n)){var l=!0;Ju(e)}else l=!1;if(bs(e,s),e.stateNode===null)Du(t,e),NE(e,n,r),tp(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,c=e.memoizedProps;a.props=c;var d=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=pn(h):(h=Ut(n)?Ui:yt.current,h=Vs(e,h));var v=n.getDerivedStateFromProps,m=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==r||d!==h)&&Hy(e,a,r,h),Fr=!1;var y=e.memoizedState;a.state=y,rc(e,r,a,s),d=e.memoizedState,c!==r||y!==d||Ft.current||Fr?(typeof v=="function"&&(ep(e,n,v,r),d=e.memoizedState),(c=Fr||By(e,n,c,r,y,d,h))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=d),a.props=r,a.state=d,a.context=h,r=c):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,kE(t,e),c=e.memoizedProps,h=e.type===e.elementType?c:In(e.type,c),a.props=h,m=e.pendingProps,y=a.context,d=n.contextType,typeof d=="object"&&d!==null?d=pn(d):(d=Ut(n)?Ui:yt.current,d=Vs(e,d));var R=n.getDerivedStateFromProps;(v=typeof R=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==m||y!==d)&&Hy(e,a,r,d),Fr=!1,y=e.memoizedState,a.state=y,rc(e,r,a,s);var x=e.memoizedState;c!==m||y!==x||Ft.current||Fr?(typeof R=="function"&&(ep(e,n,R,r),x=e.memoizedState),(h=Fr||By(e,n,h,r,y,x,d)||!1)?(v||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,x,d),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,x,d)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),a.props=r,a.state=x,a.context=d,r=h):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return ip(t,e,n,r,l,s)}function ip(t,e,n,r,s,l){t1(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&by(e,n,!1),yr(t,e,l);r=e.stateNode,NL.current=e;var c=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=js(e,t.child,null,l),e.child=js(e,null,c,l)):Tt(t,e,c,l),e.memoizedState=r.state,s&&by(e,n,!0),e.child}function n1(t){var e=t.stateNode;e.pendingContext?My(t,e.pendingContext,e.pendingContext!==e.context):e.context&&My(t,e.context,!1),fg(t,e.containerInfo)}function Jy(t,e,n,r,s){return Gs(),sg(s),e.flags|=256,Tt(t,e,n,r),e.child}var sp={dehydrated:null,treeContext:null,retryLane:0};function op(t){return{baseLanes:t,cachePool:null,transitions:null}}function r1(t,e,n){var r=e.pendingProps,s=Ue.current,l=!1,a=(e.flags&128)!==0,c;if((c=a)||(c=t!==null&&t.memoizedState===null?!1:(s&2)!==0),c?(l=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ae(Ue,s&1),t===null)return Jh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,l?(r=e.mode,l=e.child,a={mode:"hidden",children:a},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=a):l=jc(a,r,0,null),t=Mi(t,r,n,null),l.return=e,t.return=e,l.sibling=t,e.child=l,e.child.memoizedState=op(n),e.memoizedState=sp,t):yg(e,a));if(s=t.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return xL(t,e,a,r,c,s,n);if(l){l=r.fallback,a=e.mode,s=t.child,c=s.sibling;var d={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=d,e.deletions=null):(r=Zr(s,d),r.subtreeFlags=s.subtreeFlags&14680064),c!==null?l=Zr(c,l):(l=Mi(l,a,n,null),l.flags|=2),l.return=e,r.return=e,r.sibling=l,e.child=r,r=l,l=e.child,a=t.child.memoizedState,a=a===null?op(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},l.memoizedState=a,l.childLanes=t.childLanes&~n,e.memoizedState=sp,r}return l=t.child,t=l.sibling,r=Zr(l,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function yg(t,e){return e=jc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yu(t,e,n,r){return r!==null&&sg(r),js(e,t.child,null,n),t=yg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function xL(t,e,n,r,s,l,a){if(n)return e.flags&256?(e.flags&=-257,r=rh(Error(b(422))),yu(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(l=r.fallback,s=e.mode,r=jc({mode:"visible",children:r.children},s,0,null),l=Mi(l,s,a,null),l.flags|=2,r.return=e,l.return=e,r.sibling=l,e.child=r,e.mode&1&&js(e,t.child,null,a),e.child.memoizedState=op(a),e.memoizedState=sp,l);if(!(e.mode&1))return yu(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var c=r.dgst;return r=c,l=Error(b(419)),r=rh(l,r,void 0),yu(t,e,a,r)}if(c=(a&t.childLanes)!==0,Mt||c){if(r=ot,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,vr(t,s),Pn(r,t,s,-1))}return Tg(),r=rh(Error(b(421))),yu(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=HL.bind(null,t),s._reactRetry=e,null):(t=l.treeContext,qt=qr(s.nextSibling),Qt=e,be=!0,kn=null,t!==null&&(cn[fn++]=ur,cn[fn++]=cr,cn[fn++]=Wi,ur=t.id,cr=t.overflow,Wi=e),e=yg(e,r.children),e.flags|=4096,e)}function Zy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Zh(t.return,e,n)}function ih(t,e,n,r,s){var l=t.memoizedState;l===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(l.isBackwards=e,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=s)}function i1(t,e,n){var r=e.pendingProps,s=r.revealOrder,l=r.tail;if(Tt(t,e,r.children,n),r=Ue.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Zy(t,n,e);else if(t.tag===19)Zy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ae(Ue,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ic(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),ih(e,!1,s,n,l);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ic(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}ih(e,!0,n,null,l);break;case"together":ih(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Du(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function yr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Bi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(b(153));if(e.child!==null){for(t=e.child,n=Zr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Zr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function AL(t,e,n){switch(e.tag){case 3:n1(e),Gs();break;case 5:PE(e);break;case 1:Ut(e.type)&&Ju(e);break;case 4:fg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ae(tc,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ae(Ue,Ue.current&1),e.flags|=128,null):n&e.child.childLanes?r1(t,e,n):(Ae(Ue,Ue.current&1),t=yr(t,e,n),t!==null?t.sibling:null);Ae(Ue,Ue.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return i1(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ae(Ue,Ue.current),r)break;return null;case 22:case 23:return e.lanes=0,e1(t,e,n)}return yr(t,e,n)}var s1,lp,o1,l1;s1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};lp=function(){};o1=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Pi(Gn.current);var l=null;switch(n){case"input":s=xh(t,s),r=xh(t,r),l=[];break;case"select":s=ze({},s,{value:void 0}),r=ze({},r,{value:void 0}),l=[];break;case"textarea":s=Oh(t,s),r=Oh(t,r),l=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Qu)}Dh(n,r);var a;n=null;for(h in s)if(!r.hasOwnProperty(h)&&s.hasOwnProperty(h)&&s[h]!=null)if(h==="style"){var c=s[h];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(El.hasOwnProperty(h)?l||(l=[]):(l=l||[]).push(h,null));for(h in r){var d=r[h];if(c=s!=null?s[h]:void 0,r.hasOwnProperty(h)&&d!==c&&(d!=null||c!=null))if(h==="style")if(c){for(a in c)!c.hasOwnProperty(a)||d&&d.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in d)d.hasOwnProperty(a)&&c[a]!==d[a]&&(n||(n={}),n[a]=d[a])}else n||(l||(l=[]),l.push(h,n)),n=d;else h==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,c=c?c.__html:void 0,d!=null&&c!==d&&(l=l||[]).push(h,d)):h==="children"?typeof d!="string"&&typeof d!="number"||(l=l||[]).push(h,""+d):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(El.hasOwnProperty(h)?(d!=null&&h==="onScroll"&&Oe("scroll",t),l||c===d||(l=[])):(l=l||[]).push(h,d))}n&&(l=l||[]).push("style",n);var h=l;(e.updateQueue=h)&&(e.flags|=4)}};l1=function(t,e,n,r){n!==r&&(e.flags|=4)};function jo(t,e){if(!be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function _t(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function PL(t,e,n){var r=e.pendingProps;switch(ig(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(e),null;case 1:return Ut(e.type)&&Xu(),_t(e),null;case 3:return r=e.stateNode,Ks(),De(Ft),De(yt),hg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(mu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,kn!==null&&(gp(kn),kn=null))),lp(t,e),_t(e),null;case 5:dg(e);var s=Pi(Ll.current);if(n=e.type,t!==null&&e.stateNode!=null)o1(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(b(166));return _t(e),null}if(t=Pi(Gn.current),mu(e)){r=e.stateNode,n=e.type;var l=e.memoizedProps;switch(r[$n]=e,r[Pl]=l,t=(e.mode&1)!==0,n){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(s=0;s<rl.length;s++)Oe(rl[s],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":ay(r,l),Oe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},Oe("invalid",r);break;case"textarea":cy(r,l),Oe("invalid",r)}Dh(n,l),s=null;for(var a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="children"?typeof c=="string"?r.textContent!==c&&(l.suppressHydrationWarning!==!0&&_u(r.textContent,c,t),s=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(l.suppressHydrationWarning!==!0&&_u(r.textContent,c,t),s=["children",""+c]):El.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&Oe("scroll",r)}switch(n){case"input":au(r),uy(r,l,!0);break;case"textarea":au(r),fy(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=Qu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Dw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[$n]=e,t[Pl]=r,s1(t,e,!1,!1),e.stateNode=t;e:{switch(a=Mh(n,r),n){case"dialog":Oe("cancel",t),Oe("close",t),s=r;break;case"iframe":case"object":case"embed":Oe("load",t),s=r;break;case"video":case"audio":for(s=0;s<rl.length;s++)Oe(rl[s],t);s=r;break;case"source":Oe("error",t),s=r;break;case"img":case"image":case"link":Oe("error",t),Oe("load",t),s=r;break;case"details":Oe("toggle",t),s=r;break;case"input":ay(t,r),s=xh(t,r),Oe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ze({},r,{value:void 0}),Oe("invalid",t);break;case"textarea":cy(t,r),s=Oh(t,r),Oe("invalid",t);break;default:s=r}Dh(n,s),c=s;for(l in c)if(c.hasOwnProperty(l)){var d=c[l];l==="style"?Fw(t,d):l==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Mw(t,d)):l==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&Sl(t,d):typeof d=="number"&&Sl(t,""+d):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(El.hasOwnProperty(l)?d!=null&&l==="onScroll"&&Oe("scroll",t):d!=null&&$p(t,l,d,a))}switch(n){case"input":au(t),uy(t,r,!1);break;case"textarea":au(t),fy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+oi(r.value));break;case"select":t.multiple=!!r.multiple,l=r.value,l!=null?Os(t,!!r.multiple,l,!1):r.defaultValue!=null&&Os(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Qu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _t(e),null;case 6:if(t&&e.stateNode!=null)l1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(b(166));if(n=Pi(Ll.current),Pi(Gn.current),mu(e)){if(r=e.stateNode,n=e.memoizedProps,r[$n]=e,(l=r.nodeValue!==n)&&(t=Qt,t!==null))switch(t.tag){case 3:_u(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&_u(r.nodeValue,n,(t.mode&1)!==0)}l&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$n]=e,e.stateNode=r}return _t(e),null;case 13:if(De(Ue),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(be&&qt!==null&&e.mode&1&&!(e.flags&128))IE(),Gs(),e.flags|=98560,l=!1;else if(l=mu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!l)throw Error(b(318));if(l=e.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(b(317));l[$n]=e}else Gs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_t(e),l=!1}else kn!==null&&(gp(kn),kn=null),l=!0;if(!l)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ue.current&1?et===0&&(et=3):Tg())),e.updateQueue!==null&&(e.flags|=4),_t(e),null);case 4:return Ks(),lp(t,e),t===null&&xl(e.stateNode.containerInfo),_t(e),null;case 10:return ag(e.type._context),_t(e),null;case 17:return Ut(e.type)&&Xu(),_t(e),null;case 19:if(De(Ue),l=e.memoizedState,l===null)return _t(e),null;if(r=(e.flags&128)!==0,a=l.rendering,a===null)if(r)jo(l,!1);else{if(et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=ic(t),a!==null){for(e.flags|=128,jo(l,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)l=n,t=r,l.flags&=14680066,a=l.alternate,a===null?(l.childLanes=0,l.lanes=t,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,l.type=a.type,t=a.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ae(Ue,Ue.current&1|2),e.child}t=t.sibling}l.tail!==null&&je()>qs&&(e.flags|=128,r=!0,jo(l,!1),e.lanes=4194304)}else{if(!r)if(t=ic(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),jo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!a.alternate&&!be)return _t(e),null}else 2*je()-l.renderingStartTime>qs&&n!==1073741824&&(e.flags|=128,r=!0,jo(l,!1),e.lanes=4194304);l.isBackwards?(a.sibling=e.child,e.child=a):(n=l.last,n!==null?n.sibling=a:e.child=a,l.last=a)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=je(),e.sibling=null,n=Ue.current,Ae(Ue,r?n&1|2:n&1),e):(_t(e),null);case 22:case 23:return Ig(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Yt&1073741824&&(_t(e),e.subtreeFlags&6&&(e.flags|=8192)):_t(e),null;case 24:return null;case 25:return null}throw Error(b(156,e.tag))}function OL(t,e){switch(ig(e),e.tag){case 1:return Ut(e.type)&&Xu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ks(),De(Ft),De(yt),hg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return dg(e),null;case 13:if(De(Ue),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(b(340));Gs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return De(Ue),null;case 4:return Ks(),null;case 10:return ag(e.type._context),null;case 22:case 23:return Ig(),null;case 24:return null;default:return null}}var wu=!1,mt=!1,LL=typeof WeakSet=="function"?WeakSet:Set,V=null;function Ns(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){He(t,e,r)}else n.current=null}function ap(t,e,n){try{n()}catch(r){He(t,e,r)}}var e0=!1;function DL(t,e){if(Gh=Ku,t=fE(),ng(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var a=0,c=-1,d=-1,h=0,v=0,m=t,y=null;t:for(;;){for(var R;m!==n||s!==0&&m.nodeType!==3||(c=a+s),m!==l||r!==0&&m.nodeType!==3||(d=a+r),m.nodeType===3&&(a+=m.nodeValue.length),(R=m.firstChild)!==null;)y=m,m=R;for(;;){if(m===t)break t;if(y===n&&++h===s&&(c=a),y===l&&++v===r&&(d=a),(R=m.nextSibling)!==null)break;m=y,y=m.parentNode}m=R}n=c===-1||d===-1?null:{start:c,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(jh={focusedElem:t,selectionRange:n},Ku=!1,V=e;V!==null;)if(e=V,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,V=t;else for(;V!==null;){e=V;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var D=x.memoizedProps,j=x.memoizedState,C=e.stateNode,E=C.getSnapshotBeforeUpdate(e.elementType===e.type?D:In(e.type,D),j);C.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(L){He(e,e.return,L)}if(t=e.sibling,t!==null){t.return=e.return,V=t;break}V=e.return}return x=e0,e0=!1,x}function dl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var l=s.destroy;s.destroy=void 0,l!==void 0&&ap(e,n,l)}s=s.next}while(s!==r)}}function Vc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function up(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function a1(t){var e=t.alternate;e!==null&&(t.alternate=null,a1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[$n],delete e[Pl],delete e[qh],delete e[_L],delete e[mL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function u1(t){return t.tag===5||t.tag===3||t.tag===4}function t0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||u1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Qu));else if(r!==4&&(t=t.child,t!==null))for(cp(t,e,n),t=t.sibling;t!==null;)cp(t,e,n),t=t.sibling}function fp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(fp(t,e,n),t=t.sibling;t!==null;)fp(t,e,n),t=t.sibling}var ut=null,Tn=!1;function Dr(t,e,n){for(n=n.child;n!==null;)c1(t,e,n),n=n.sibling}function c1(t,e,n){if(Vn&&typeof Vn.onCommitFiberUnmount=="function")try{Vn.onCommitFiberUnmount(bc,n)}catch{}switch(n.tag){case 5:mt||Ns(n,e);case 6:var r=ut,s=Tn;ut=null,Dr(t,e,n),ut=r,Tn=s,ut!==null&&(Tn?(t=ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ut.removeChild(n.stateNode));break;case 18:ut!==null&&(Tn?(t=ut,n=n.stateNode,t.nodeType===8?Xd(t.parentNode,n):t.nodeType===1&&Xd(t,n),kl(t)):Xd(ut,n.stateNode));break;case 4:r=ut,s=Tn,ut=n.stateNode.containerInfo,Tn=!0,Dr(t,e,n),ut=r,Tn=s;break;case 0:case 11:case 14:case 15:if(!mt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var l=s,a=l.destroy;l=l.tag,a!==void 0&&(l&2||l&4)&&ap(n,e,a),s=s.next}while(s!==r)}Dr(t,e,n);break;case 1:if(!mt&&(Ns(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){He(n,e,c)}Dr(t,e,n);break;case 21:Dr(t,e,n);break;case 22:n.mode&1?(mt=(r=mt)||n.memoizedState!==null,Dr(t,e,n),mt=r):Dr(t,e,n);break;default:Dr(t,e,n)}}function n0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new LL),e.forEach(function(r){var s=$L.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Cn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var l=t,a=e,c=a;e:for(;c!==null;){switch(c.tag){case 5:ut=c.stateNode,Tn=!1;break e;case 3:ut=c.stateNode.containerInfo,Tn=!0;break e;case 4:ut=c.stateNode.containerInfo,Tn=!0;break e}c=c.return}if(ut===null)throw Error(b(160));c1(l,a,s),ut=null,Tn=!1;var d=s.alternate;d!==null&&(d.return=null),s.return=null}catch(h){He(s,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)f1(e,t),e=e.sibling}function f1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Cn(e,t),Bn(t),r&4){try{dl(3,t,t.return),Vc(3,t)}catch(D){He(t,t.return,D)}try{dl(5,t,t.return)}catch(D){He(t,t.return,D)}}break;case 1:Cn(e,t),Bn(t),r&512&&n!==null&&Ns(n,n.return);break;case 5:if(Cn(e,t),Bn(t),r&512&&n!==null&&Ns(n,n.return),t.flags&32){var s=t.stateNode;try{Sl(s,"")}catch(D){He(t,t.return,D)}}if(r&4&&(s=t.stateNode,s!=null)){var l=t.memoizedProps,a=n!==null?n.memoizedProps:l,c=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{c==="input"&&l.type==="radio"&&l.name!=null&&Ow(s,l),Mh(c,a);var h=Mh(c,l);for(a=0;a<d.length;a+=2){var v=d[a],m=d[a+1];v==="style"?Fw(s,m):v==="dangerouslySetInnerHTML"?Mw(s,m):v==="children"?Sl(s,m):$p(s,v,m,h)}switch(c){case"input":Ah(s,l);break;case"textarea":Lw(s,l);break;case"select":var y=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var R=l.value;R!=null?Os(s,!!l.multiple,R,!1):y!==!!l.multiple&&(l.defaultValue!=null?Os(s,!!l.multiple,l.defaultValue,!0):Os(s,!!l.multiple,l.multiple?[]:"",!1))}s[Pl]=l}catch(D){He(t,t.return,D)}}break;case 6:if(Cn(e,t),Bn(t),r&4){if(t.stateNode===null)throw Error(b(162));s=t.stateNode,l=t.memoizedProps;try{s.nodeValue=l}catch(D){He(t,t.return,D)}}break;case 3:if(Cn(e,t),Bn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{kl(e.containerInfo)}catch(D){He(t,t.return,D)}break;case 4:Cn(e,t),Bn(t);break;case 13:Cn(e,t),Bn(t),s=t.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||(Sg=je())),r&4&&n0(t);break;case 22:if(v=n!==null&&n.memoizedState!==null,t.mode&1?(mt=(h=mt)||v,Cn(e,t),mt=h):Cn(e,t),Bn(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!v&&t.mode&1)for(V=t,v=t.child;v!==null;){for(m=V=v;V!==null;){switch(y=V,R=y.child,y.tag){case 0:case 11:case 14:case 15:dl(4,y,y.return);break;case 1:Ns(y,y.return);var x=y.stateNode;if(typeof x.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(D){He(r,n,D)}}break;case 5:Ns(y,y.return);break;case 22:if(y.memoizedState!==null){i0(m);continue}}R!==null?(R.return=y,V=R):i0(m)}v=v.sibling}e:for(v=null,m=t;;){if(m.tag===5){if(v===null){v=m;try{s=m.stateNode,h?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(c=m.stateNode,d=m.memoizedProps.style,a=d!=null&&d.hasOwnProperty("display")?d.display:null,c.style.display=bw("display",a))}catch(D){He(t,t.return,D)}}}else if(m.tag===6){if(v===null)try{m.stateNode.nodeValue=h?"":m.memoizedProps}catch(D){He(t,t.return,D)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;v===m&&(v=null),m=m.return}v===m&&(v=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Cn(e,t),Bn(t),r&4&&n0(t);break;case 21:break;default:Cn(e,t),Bn(t)}}function Bn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(u1(n)){var r=n;break e}n=n.return}throw Error(b(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Sl(s,""),r.flags&=-33);var l=t0(t);fp(t,l,s);break;case 3:case 4:var a=r.stateNode.containerInfo,c=t0(t);cp(t,c,a);break;default:throw Error(b(161))}}catch(d){He(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ML(t,e,n){V=t,d1(t)}function d1(t,e,n){for(var r=(t.mode&1)!==0;V!==null;){var s=V,l=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||wu;if(!a){var c=s.alternate,d=c!==null&&c.memoizedState!==null||mt;c=wu;var h=mt;if(wu=a,(mt=d)&&!h)for(V=s;V!==null;)a=V,d=a.child,a.tag===22&&a.memoizedState!==null?s0(s):d!==null?(d.return=a,V=d):s0(s);for(;l!==null;)V=l,d1(l),l=l.sibling;V=s,wu=c,mt=h}r0(t)}else s.subtreeFlags&8772&&l!==null?(l.return=s,V=l):r0(t)}}function r0(t){for(;V!==null;){var e=V;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:mt||Vc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!mt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:In(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=e.updateQueue;l!==null&&zy(e,l,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}zy(e,a,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var v=h.memoizedState;if(v!==null){var m=v.dehydrated;m!==null&&kl(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}mt||e.flags&512&&up(e)}catch(y){He(e,e.return,y)}}if(e===t){V=null;break}if(n=e.sibling,n!==null){n.return=e.return,V=n;break}V=e.return}}function i0(t){for(;V!==null;){var e=V;if(e===t){V=null;break}var n=e.sibling;if(n!==null){n.return=e.return,V=n;break}V=e.return}}function s0(t){for(;V!==null;){var e=V;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Vc(4,e)}catch(d){He(e,n,d)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(d){He(e,s,d)}}var l=e.return;try{up(e)}catch(d){He(e,l,d)}break;case 5:var a=e.return;try{up(e)}catch(d){He(e,a,d)}}}catch(d){He(e,e.return,d)}if(e===t){V=null;break}var c=e.sibling;if(c!==null){c.return=e.return,V=c;break}V=e.return}}var bL=Math.ceil,lc=Sr.ReactCurrentDispatcher,wg=Sr.ReactCurrentOwner,hn=Sr.ReactCurrentBatchConfig,_e=0,ot=null,Ye=null,ct=0,Yt=0,xs=di(0),et=0,Fl=null,Bi=0,Gc=0,Eg=0,hl=null,Dt=null,Sg=0,qs=1/0,lr=null,ac=!1,dp=null,Xr=null,Eu=!1,Gr=null,uc=0,pl=0,hp=null,Mu=-1,bu=0;function Rt(){return _e&6?je():Mu!==-1?Mu:Mu=je()}function Jr(t){return t.mode&1?_e&2&&ct!==0?ct&-ct:yL.transition!==null?(bu===0&&(bu=qw()),bu):(t=Ie,t!==0||(t=window.event,t=t===void 0?16:nE(t.type)),t):1}function Pn(t,e,n,r){if(50<pl)throw pl=0,hp=null,Error(b(185));Xl(t,n,r),(!(_e&2)||t!==ot)&&(t===ot&&(!(_e&2)&&(Gc|=n),et===4&&Wr(t,ct)),Wt(t,r),n===1&&_e===0&&!(e.mode&1)&&(qs=je()+500,Bc&&hi()))}function Wt(t,e){var n=t.callbackNode;yO(t,e);var r=ju(t,t===ot?ct:0);if(r===0)n!==null&&py(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&py(n),e===1)t.tag===0?vL(o0.bind(null,t)):EE(o0.bind(null,t)),pL(function(){!(_e&6)&&hi()}),n=null;else{switch(Qw(r)){case 1:n=Yp;break;case 4:n=Kw;break;case 16:n=Gu;break;case 536870912:n=Yw;break;default:n=Gu}n=w1(n,h1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function h1(t,e){if(Mu=-1,bu=0,_e&6)throw Error(b(327));var n=t.callbackNode;if(Fs()&&t.callbackNode!==n)return null;var r=ju(t,t===ot?ct:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=cc(t,r);else{e=r;var s=_e;_e|=2;var l=g1();(ot!==t||ct!==e)&&(lr=null,qs=je()+500,Di(t,e));do try{WL();break}catch(c){p1(t,c)}while(1);lg(),lc.current=l,_e=s,Ye!==null?e=0:(ot=null,ct=0,e=et)}if(e!==0){if(e===2&&(s=zh(t),s!==0&&(r=s,e=pp(t,s))),e===1)throw n=Fl,Di(t,0),Wr(t,r),Wt(t,je()),n;if(e===6)Wr(t,r);else{if(s=t.current.alternate,!(r&30)&&!FL(s)&&(e=cc(t,r),e===2&&(l=zh(t),l!==0&&(r=l,e=pp(t,l))),e===1))throw n=Fl,Di(t,0),Wr(t,r),Wt(t,je()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(b(345));case 2:ki(t,Dt,lr);break;case 3:if(Wr(t,r),(r&130023424)===r&&(e=Sg+500-je(),10<e)){if(ju(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Rt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Yh(ki.bind(null,t,Dt,lr),e);break}ki(t,Dt,lr);break;case 4:if(Wr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-An(r);l=1<<a,a=e[a],a>s&&(s=a),r&=~l}if(r=s,r=je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bL(r/1960))-r,10<r){t.timeoutHandle=Yh(ki.bind(null,t,Dt,lr),r);break}ki(t,Dt,lr);break;case 5:ki(t,Dt,lr);break;default:throw Error(b(329))}}}return Wt(t,je()),t.callbackNode===n?h1.bind(null,t):null}function pp(t,e){var n=hl;return t.current.memoizedState.isDehydrated&&(Di(t,e).flags|=256),t=cc(t,e),t!==2&&(e=Dt,Dt=n,e!==null&&gp(e)),t}function gp(t){Dt===null?Dt=t:Dt.push.apply(Dt,t)}function FL(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],l=s.getSnapshot;s=s.value;try{if(!Ln(l(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wr(t,e){for(e&=~Eg,e&=~Gc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-An(e),r=1<<n;t[n]=-1,e&=~r}}function o0(t){if(_e&6)throw Error(b(327));Fs();var e=ju(t,0);if(!(e&1))return Wt(t,je()),null;var n=cc(t,e);if(t.tag!==0&&n===2){var r=zh(t);r!==0&&(e=r,n=pp(t,r))}if(n===1)throw n=Fl,Di(t,0),Wr(t,e),Wt(t,je()),n;if(n===6)throw Error(b(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ki(t,Dt,lr),Wt(t,je()),null}function Cg(t,e){var n=_e;_e|=1;try{return t(e)}finally{_e=n,_e===0&&(qs=je()+500,Bc&&hi())}}function Hi(t){Gr!==null&&Gr.tag===0&&!(_e&6)&&Fs();var e=_e;_e|=1;var n=hn.transition,r=Ie;try{if(hn.transition=null,Ie=1,t)return t()}finally{Ie=r,hn.transition=n,_e=e,!(_e&6)&&hi()}}function Ig(){Yt=xs.current,De(xs)}function Di(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,hL(n)),Ye!==null)for(n=Ye.return;n!==null;){var r=n;switch(ig(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xu();break;case 3:Ks(),De(Ft),De(yt),hg();break;case 5:dg(r);break;case 4:Ks();break;case 13:De(Ue);break;case 19:De(Ue);break;case 10:ag(r.type._context);break;case 22:case 23:Ig()}n=n.return}if(ot=t,Ye=t=Zr(t.current,null),ct=Yt=e,et=0,Fl=null,Eg=Gc=Bi=0,Dt=hl=null,Ai!==null){for(e=0;e<Ai.length;e++)if(n=Ai[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,l=n.pending;if(l!==null){var a=l.next;l.next=s,r.next=a}n.pending=r}Ai=null}return t}function p1(t,e){do{var n=Ye;try{if(lg(),Ou.current=oc,sc){for(var r=We.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}sc=!1}if(zi=0,rt=Xe=We=null,fl=!1,Dl=0,wg.current=null,n===null||n.return===null){et=1,Fl=e,Ye=null;break}e:{var l=t,a=n.return,c=n,d=e;if(e=ct,c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var h=d,v=c,m=v.tag;if(!(v.mode&1)&&(m===0||m===11||m===15)){var y=v.alternate;y?(v.updateQueue=y.updateQueue,v.memoizedState=y.memoizedState,v.lanes=y.lanes):(v.updateQueue=null,v.memoizedState=null)}var R=Ky(a);if(R!==null){R.flags&=-257,Yy(R,a,c,l,e),R.mode&1&&jy(l,h,e),e=R,d=h;var x=e.updateQueue;if(x===null){var D=new Set;D.add(d),e.updateQueue=D}else x.add(d);break e}else{if(!(e&1)){jy(l,h,e),Tg();break e}d=Error(b(426))}}else if(be&&c.mode&1){var j=Ky(a);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Yy(j,a,c,l,e),sg(Ys(d,c));break e}}l=d=Ys(d,c),et!==4&&(et=2),hl===null?hl=[l]:hl.push(l),l=a;do{switch(l.tag){case 3:l.flags|=65536,e&=-e,l.lanes|=e;var C=XE(l,d,e);Wy(l,C);break e;case 1:c=d;var E=l.type,T=l.stateNode;if(!(l.flags&128)&&(typeof E.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Xr===null||!Xr.has(T)))){l.flags|=65536,e&=-e,l.lanes|=e;var L=JE(l,c,e);Wy(l,L);break e}}l=l.return}while(l!==null)}m1(n)}catch(F){e=F,Ye===n&&n!==null&&(Ye=n=n.return);continue}break}while(1)}function g1(){var t=lc.current;return lc.current=oc,t===null?oc:t}function Tg(){(et===0||et===3||et===2)&&(et=4),ot===null||!(Bi&268435455)&&!(Gc&268435455)||Wr(ot,ct)}function cc(t,e){var n=_e;_e|=2;var r=g1();(ot!==t||ct!==e)&&(lr=null,Di(t,e));do try{UL();break}catch(s){p1(t,s)}while(1);if(lg(),_e=n,lc.current=r,Ye!==null)throw Error(b(261));return ot=null,ct=0,et}function UL(){for(;Ye!==null;)_1(Ye)}function WL(){for(;Ye!==null&&!cO();)_1(Ye)}function _1(t){var e=y1(t.alternate,t,Yt);t.memoizedProps=t.pendingProps,e===null?m1(t):Ye=e,wg.current=null}function m1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=OL(n,e),n!==null){n.flags&=32767,Ye=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{et=6,Ye=null;return}}else if(n=PL(n,e,Yt),n!==null){Ye=n;return}if(e=e.sibling,e!==null){Ye=e;return}Ye=e=t}while(e!==null);et===0&&(et=5)}function ki(t,e,n){var r=Ie,s=hn.transition;try{hn.transition=null,Ie=1,zL(t,e,n,r)}finally{hn.transition=s,Ie=r}return null}function zL(t,e,n,r){do Fs();while(Gr!==null);if(_e&6)throw Error(b(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(b(177));t.callbackNode=null,t.callbackPriority=0;var l=n.lanes|n.childLanes;if(wO(t,l),t===ot&&(Ye=ot=null,ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Eu||(Eu=!0,w1(Gu,function(){return Fs(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=hn.transition,hn.transition=null;var a=Ie;Ie=1;var c=_e;_e|=4,wg.current=null,DL(t,n),f1(n,t),oL(jh),Ku=!!Gh,jh=Gh=null,t.current=n,ML(n),fO(),_e=c,Ie=a,hn.transition=l}else t.current=n;if(Eu&&(Eu=!1,Gr=t,uc=s),l=t.pendingLanes,l===0&&(Xr=null),pO(n.stateNode),Wt(t,je()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ac)throw ac=!1,t=dp,dp=null,t;return uc&1&&t.tag!==0&&Fs(),l=t.pendingLanes,l&1?t===hp?pl++:(pl=0,hp=t):pl=0,hi(),null}function Fs(){if(Gr!==null){var t=Qw(uc),e=hn.transition,n=Ie;try{if(hn.transition=null,Ie=16>t?16:t,Gr===null)var r=!1;else{if(t=Gr,Gr=null,uc=0,_e&6)throw Error(b(331));var s=_e;for(_e|=4,V=t.current;V!==null;){var l=V,a=l.child;if(V.flags&16){var c=l.deletions;if(c!==null){for(var d=0;d<c.length;d++){var h=c[d];for(V=h;V!==null;){var v=V;switch(v.tag){case 0:case 11:case 15:dl(8,v,l)}var m=v.child;if(m!==null)m.return=v,V=m;else for(;V!==null;){v=V;var y=v.sibling,R=v.return;if(a1(v),v===h){V=null;break}if(y!==null){y.return=R,V=y;break}V=R}}}var x=l.alternate;if(x!==null){var D=x.child;if(D!==null){x.child=null;do{var j=D.sibling;D.sibling=null,D=j}while(D!==null)}}V=l}}if(l.subtreeFlags&2064&&a!==null)a.return=l,V=a;else e:for(;V!==null;){if(l=V,l.flags&2048)switch(l.tag){case 0:case 11:case 15:dl(9,l,l.return)}var C=l.sibling;if(C!==null){C.return=l.return,V=C;break e}V=l.return}}var E=t.current;for(V=E;V!==null;){a=V;var T=a.child;if(a.subtreeFlags&2064&&T!==null)T.return=a,V=T;else e:for(a=E;V!==null;){if(c=V,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Vc(9,c)}}catch(F){He(c,c.return,F)}if(c===a){V=null;break e}var L=c.sibling;if(L!==null){L.return=c.return,V=L;break e}V=c.return}}if(_e=s,hi(),Vn&&typeof Vn.onPostCommitFiberRoot=="function")try{Vn.onPostCommitFiberRoot(bc,t)}catch{}r=!0}return r}finally{Ie=n,hn.transition=e}}return!1}function l0(t,e,n){e=Ys(n,e),e=XE(t,e,1),t=Qr(t,e,1),e=Rt(),t!==null&&(Xl(t,1,e),Wt(t,e))}function He(t,e,n){if(t.tag===3)l0(t,t,n);else for(;e!==null;){if(e.tag===3){l0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xr===null||!Xr.has(r))){t=Ys(n,t),t=JE(e,t,1),e=Qr(e,t,1),t=Rt(),e!==null&&(Xl(e,1,t),Wt(e,t));break}}e=e.return}}function BL(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Rt(),t.pingedLanes|=t.suspendedLanes&n,ot===t&&(ct&n)===n&&(et===4||et===3&&(ct&130023424)===ct&&500>je()-Sg?Di(t,0):Eg|=n),Wt(t,e)}function v1(t,e){e===0&&(t.mode&1?(e=fu,fu<<=1,!(fu&130023424)&&(fu=4194304)):e=1);var n=Rt();t=vr(t,e),t!==null&&(Xl(t,e,n),Wt(t,n))}function HL(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),v1(t,n)}function $L(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(b(314))}r!==null&&r.delete(e),v1(t,n)}var y1;y1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ft.current)Mt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Mt=!1,AL(t,e,n);Mt=!!(t.flags&131072)}else Mt=!1,be&&e.flags&1048576&&SE(e,ec,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Du(t,e),t=e.pendingProps;var s=Vs(e,yt.current);bs(e,n),s=gg(null,e,r,t,s,n);var l=_g();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ut(r)?(l=!0,Ju(e)):l=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,cg(e),s.updater=Hc,e.stateNode=s,s._reactInternals=e,tp(e,r,t,n),e=ip(null,e,r,!0,l,n)):(e.tag=0,be&&l&&rg(e),Tt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Du(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=GL(r),t=In(r,t),s){case 0:e=rp(null,e,r,t,n);break e;case 1:e=Xy(null,e,r,t,n);break e;case 11:e=qy(null,e,r,t,n);break e;case 14:e=Qy(null,e,r,In(r.type,t),n);break e}throw Error(b(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:In(r,s),rp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:In(r,s),Xy(t,e,r,s,n);case 3:e:{if(n1(e),t===null)throw Error(b(387));r=e.pendingProps,l=e.memoizedState,s=l.element,kE(t,e),rc(e,r,null,n);var a=e.memoizedState;if(r=a.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=l,e.memoizedState=l,e.flags&256){s=Ys(Error(b(423)),e),e=Jy(t,e,r,n,s);break e}else if(r!==s){s=Ys(Error(b(424)),e),e=Jy(t,e,r,n,s);break e}else for(qt=qr(e.stateNode.containerInfo.firstChild),Qt=e,be=!0,kn=null,n=AE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Gs(),r===s){e=yr(t,e,n);break e}Tt(t,e,r,n)}e=e.child}return e;case 5:return PE(e),t===null&&Jh(e),r=e.type,s=e.pendingProps,l=t!==null?t.memoizedProps:null,a=s.children,Kh(r,s)?a=null:l!==null&&Kh(r,l)&&(e.flags|=32),t1(t,e),Tt(t,e,a,n),e.child;case 6:return t===null&&Jh(e),null;case 13:return r1(t,e,n);case 4:return fg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=js(e,null,r,n):Tt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:In(r,s),qy(t,e,r,s,n);case 7:return Tt(t,e,e.pendingProps,n),e.child;case 8:return Tt(t,e,e.pendingProps.children,n),e.child;case 12:return Tt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,l=e.memoizedProps,a=s.value,Ae(tc,r._currentValue),r._currentValue=a,l!==null)if(Ln(l.value,a)){if(l.children===s.children&&!Ft.current){e=yr(t,e,n);break e}}else for(l=e.child,l!==null&&(l.return=e);l!==null;){var c=l.dependencies;if(c!==null){a=l.child;for(var d=c.firstContext;d!==null;){if(d.context===r){if(l.tag===1){d=pr(-1,n&-n),d.tag=2;var h=l.updateQueue;if(h!==null){h=h.shared;var v=h.pending;v===null?d.next=d:(d.next=v.next,v.next=d),h.pending=d}}l.lanes|=n,d=l.alternate,d!==null&&(d.lanes|=n),Zh(l.return,n,e),c.lanes|=n;break}d=d.next}}else if(l.tag===10)a=l.type===e.type?null:l.child;else if(l.tag===18){if(a=l.return,a===null)throw Error(b(341));a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Zh(a,n,e),a=l.sibling}else a=l.child;if(a!==null)a.return=l;else for(a=l;a!==null;){if(a===e){a=null;break}if(l=a.sibling,l!==null){l.return=a.return,a=l;break}a=a.return}l=a}Tt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,bs(e,n),s=pn(s),r=r(s),e.flags|=1,Tt(t,e,r,n),e.child;case 14:return r=e.type,s=In(r,e.pendingProps),s=In(r.type,s),Qy(t,e,r,s,n);case 15:return ZE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:In(r,s),Du(t,e),e.tag=1,Ut(r)?(t=!0,Ju(e)):t=!1,bs(e,n),NE(e,r,s),tp(e,r,s,n),ip(null,e,r,!0,t,n);case 19:return i1(t,e,n);case 22:return e1(t,e,n)}throw Error(b(156,e.tag))};function w1(t,e){return jw(t,e)}function VL(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,e,n,r){return new VL(t,e,n,r)}function kg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function GL(t){if(typeof t=="function")return kg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Gp)return 11;if(t===jp)return 14}return 2}function Zr(t,e){var n=t.alternate;return n===null?(n=dn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Fu(t,e,n,r,s,l){var a=2;if(r=t,typeof t=="function")kg(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ys:return Mi(n.children,s,l,e);case Vp:a=8,s|=8;break;case Th:return t=dn(12,n,e,s|2),t.elementType=Th,t.lanes=l,t;case kh:return t=dn(13,n,e,s),t.elementType=kh,t.lanes=l,t;case Rh:return t=dn(19,n,e,s),t.elementType=Rh,t.lanes=l,t;case xw:return jc(n,s,l,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Rw:a=10;break e;case Nw:a=9;break e;case Gp:a=11;break e;case jp:a=14;break e;case br:a=16,r=null;break e}throw Error(b(130,t==null?t:typeof t,""))}return e=dn(a,n,e,s),e.elementType=t,e.type=r,e.lanes=l,e}function Mi(t,e,n,r){return t=dn(7,t,r,e),t.lanes=n,t}function jc(t,e,n,r){return t=dn(22,t,r,e),t.elementType=xw,t.lanes=n,t.stateNode={isHidden:!1},t}function sh(t,e,n){return t=dn(6,t,null,e),t.lanes=n,t}function oh(t,e,n){return e=dn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function jL(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zd(0),this.expirationTimes=zd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zd(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Rg(t,e,n,r,s,l,a,c,d){return t=new jL(t,e,n,c,d),e===1?(e=1,l===!0&&(e|=8)):e=0,l=dn(3,null,null,e),t.current=l,l.stateNode=t,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cg(l),t}function KL(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function E1(t){if(!t)return li;t=t._reactInternals;e:{if(Xi(t)!==t||t.tag!==1)throw Error(b(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ut(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(b(171))}if(t.tag===1){var n=t.type;if(Ut(n))return wE(t,n,e)}return e}function S1(t,e,n,r,s,l,a,c,d){return t=Rg(n,r,!0,t,s,l,a,c,d),t.context=E1(null),n=t.current,r=Rt(),s=Jr(n),l=pr(r,s),l.callback=e??null,Qr(n,l,s),t.current.lanes=s,Xl(t,s,r),Wt(t,r),t}function Kc(t,e,n,r){var s=e.current,l=Rt(),a=Jr(s);return n=E1(n),e.context===null?e.context=n:e.pendingContext=n,e=pr(l,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Qr(s,e,a),t!==null&&(Pn(t,s,a,l),Pu(t,s,a)),a}function fc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function a0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ng(t,e){a0(t,e),(t=t.alternate)&&a0(t,e)}function YL(){return null}var C1=typeof reportError=="function"?reportError:function(t){console.error(t)};function xg(t){this._internalRoot=t}Yc.prototype.render=xg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(b(409));Kc(t,e,null,null)};Yc.prototype.unmount=xg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Hi(function(){Kc(null,t,null,null)}),e[mr]=null}};function Yc(t){this._internalRoot=t}Yc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Zw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ur.length&&e!==0&&e<Ur[n].priority;n++);Ur.splice(n,0,t),n===0&&tE(t)}};function Ag(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function u0(){}function qL(t,e,n,r,s){if(s){if(typeof r=="function"){var l=r;r=function(){var h=fc(a);l.call(h)}}var a=S1(e,r,t,0,null,!1,!1,"",u0);return t._reactRootContainer=a,t[mr]=a.current,xl(t.nodeType===8?t.parentNode:t),Hi(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var c=r;r=function(){var h=fc(d);c.call(h)}}var d=Rg(t,0,!1,null,null,!1,!1,"",u0);return t._reactRootContainer=d,t[mr]=d.current,xl(t.nodeType===8?t.parentNode:t),Hi(function(){Kc(e,d,n,r)}),d}function Qc(t,e,n,r,s){var l=n._reactRootContainer;if(l){var a=l;if(typeof s=="function"){var c=s;s=function(){var d=fc(a);c.call(d)}}Kc(e,a,t,s)}else a=qL(n,e,t,s,r);return fc(a)}Xw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=nl(e.pendingLanes);n!==0&&(qp(e,n|1),Wt(e,je()),!(_e&6)&&(qs=je()+500,hi()))}break;case 13:Hi(function(){var r=vr(t,1);if(r!==null){var s=Rt();Pn(r,t,1,s)}}),Ng(t,1)}};Qp=function(t){if(t.tag===13){var e=vr(t,134217728);if(e!==null){var n=Rt();Pn(e,t,134217728,n)}Ng(t,134217728)}};Jw=function(t){if(t.tag===13){var e=Jr(t),n=vr(t,e);if(n!==null){var r=Rt();Pn(n,t,e,r)}Ng(t,e)}};Zw=function(){return Ie};eE=function(t,e){var n=Ie;try{return Ie=t,e()}finally{Ie=n}};Fh=function(t,e,n){switch(e){case"input":if(Ah(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=zc(r);if(!s)throw Error(b(90));Pw(r),Ah(r,s)}}}break;case"textarea":Lw(t,n);break;case"select":e=n.value,e!=null&&Os(t,!!n.multiple,e,!1)}};zw=Cg;Bw=Hi;var QL={usingClientEntryPoint:!1,Events:[Zl,Cs,zc,Uw,Ww,Cg]},Ko={findFiberByHostInstance:xi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},XL={bundleType:Ko.bundleType,version:Ko.version,rendererPackageName:Ko.rendererPackageName,rendererConfig:Ko.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Vw(t),t===null?null:t.stateNode},findFiberByHostInstance:Ko.findFiberByHostInstance||YL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Su.isDisabled&&Su.supportsFiber)try{bc=Su.inject(XL),Vn=Su}catch{}}Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QL;Jt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ag(e))throw Error(b(200));return KL(t,e,null,n)};Jt.createRoot=function(t,e){if(!Ag(t))throw Error(b(299));var n=!1,r="",s=C1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Rg(t,1,!1,null,null,n,!1,r,s),t[mr]=e.current,xl(t.nodeType===8?t.parentNode:t),new xg(e)};Jt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(b(188)):(t=Object.keys(t).join(","),Error(b(268,t)));return t=Vw(e),t=t===null?null:t.stateNode,t};Jt.flushSync=function(t){return Hi(t)};Jt.hydrate=function(t,e,n){if(!qc(e))throw Error(b(200));return Qc(null,t,e,!0,n)};Jt.hydrateRoot=function(t,e,n){if(!Ag(t))throw Error(b(405));var r=n!=null&&n.hydratedSources||null,s=!1,l="",a=C1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=S1(e,null,t,1,n??null,s,!1,l,a),t[mr]=e.current,xl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Yc(e)};Jt.render=function(t,e,n){if(!qc(e))throw Error(b(200));return Qc(null,t,e,!1,n)};Jt.unmountComponentAtNode=function(t){if(!qc(t))throw Error(b(40));return t._reactRootContainer?(Hi(function(){Qc(null,null,t,!1,function(){t._reactRootContainer=null,t[mr]=null})}),!0):!1};Jt.unstable_batchedUpdates=Cg;Jt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!qc(n))throw Error(b(200));if(t==null||t._reactInternals===void 0)throw Error(b(38));return Qc(t,e,n,!1,r)};Jt.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Jt})(YP);var c0=Sh;Eh.createRoot=c0.createRoot,Eh.hydrateRoot=c0.hydrateRoot;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U=function(t,e){if(!t)throw oo(e)},oo=function(t){return new Error("Firebase Database ("+I1.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},JL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const l=t[n++];e[r++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=t[n++],a=t[n++],c=t[n++],d=((s&7)<<18|(l&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(l&63)<<6|a&63)}}return e.join("")},Pg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const l=t[s],a=s+1<t.length,c=a?t[s+1]:0,d=s+2<t.length,h=d?t[s+2]:0,v=l>>2,m=(l&3)<<4|c>>4;let y=(c&15)<<2|h>>6,R=h&63;d||(R=64,a||(y=64)),r.push(n[v],n[m],n[y],n[R])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(T1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):JL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const l=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const m=s<t.length?n[t.charAt(s)]:64;if(++s,l==null||c==null||h==null||m==null)throw new ZL;const y=l<<2|c>>4;if(r.push(y),h!==64){const R=c<<4&240|h>>2;if(r.push(R),m!==64){const x=h<<6&192|m;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ZL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const k1=function(t){const e=T1(t);return Pg.encodeByteArray(e,!0)},dc=function(t){return k1(t).replace(/\./g,"")},hc=function(t){try{return Pg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(t){return R1(void 0,t)}function R1(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!tD(n)||(t[n]=R1(t[n],e[n]));return t}function tD(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=()=>nD().__FIREBASE_DEFAULTS__,iD=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},sD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&hc(t[1]);return e&&JSON.parse(e)},Og=()=>{try{return rD()||iD()||sD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},N1=t=>{var e,n;return(n=(e=Og())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},oD=t=>{const e=N1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},lD=()=>{var t;return(t=Og())===null||t===void 0?void 0:t.config},x1=t=>{var e;return(e=Og())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t),c="";return[dc(JSON.stringify(n)),dc(JSON.stringify(a)),c].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Lg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wt())}function uD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function A1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cD(){const t=wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function P1(){return I1.NODE_ADMIN===!0}function fD(){try{return typeof indexedDB=="object"}catch{return!1}}function dD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var l;e(((l=s.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD="FirebaseError";class pi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=hD,Object.setPrototypeOf(this,pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ta.prototype.create)}}class ta{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,l=this.errors[e],a=l?pD(l,r):"Error",c=`${this.serviceName}: ${a} (${s}).`;return new pi(s,c,r)}}function pD(t,e){return t.replace(gD,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const gD=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(t){return JSON.parse(t)}function Je(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=function(t){let e={},n={},r={},s="";try{const l=t.split(".");e=Ul(hc(l[0])||""),n=Ul(hc(l[1])||""),s=l[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},_D=function(t){const e=O1(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},mD=function(t){const e=O1(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Qs(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function _p(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function pc(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function gc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const l=t[s],a=e[s];if(f0(l)&&f0(a)){if(!gc(l,a))return!1}else if(l!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function f0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function il(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,l]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(l)}}),e}function sl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let m=0;m<16;m++)r[m]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let m=0;m<16;m++)r[m]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let m=16;m<80;m++){const y=r[m-3]^r[m-8]^r[m-14]^r[m-16];r[m]=(y<<1|y>>>31)&4294967295}let s=this.chain_[0],l=this.chain_[1],a=this.chain_[2],c=this.chain_[3],d=this.chain_[4],h,v;for(let m=0;m<80;m++){m<40?m<20?(h=c^l&(a^c),v=1518500249):(h=l^a^c,v=1859775393):m<60?(h=l&a|c&(l|a),v=2400959708):(h=l^a^c,v=3395469782);const y=(s<<5|s>>>27)+h+d+v+r[m]&4294967295;d=c,c=a,a=(l<<30|l>>>2)&4294967295,l=s,s=y}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const l=this.buf_;let a=this.inbuf_;for(;s<n;){if(a===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(l[a]=e.charCodeAt(s),++a,++s,a===this.blockSize){this.compress_(l),a=0;break}}else for(;s<n;)if(l[a]=e[s],++a,++s,a===this.blockSize){this.compress_(l),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let l=24;l>=0;l-=8)e[r]=this.chain_[s]>>l&255,++r;return e}}function yD(t,e){const n=new wD(t,e);return n.subscribe.bind(n)}class wD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ED(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=lh),s.error===void 0&&(s.error=lh),s.complete===void 0&&(s.complete=lh);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ED(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function lh(){}function Dg(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const l=s-55296;r++,U(r<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(r)-56320;s=65536+(l<<10)+a}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Jc=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(t){return t&&t._delegate?t._delegate:t}class $i{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Xc;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TD(e))try{this.getOrInitializeService({instanceIdentifier:Ri})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:s});r.resolve(l)}catch{}}}}clearInstance(e=Ri){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ri){return this.instances.has(e)}getOptions(e=Ri){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(l);r===c&&a.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),l=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(s,l);const a=this.instances.get(s);return a&&e(a,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ID(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ri){return this.component?this.component.multipleInstances?e:Ri:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ID(t){return t===Ri?void 0:t}function TD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new CD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const RD={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},ND=ke.INFO,xD={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},AD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=xD[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mg{constructor(e){this.name=e,this._logLevel=ND,this._logHandler=AD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const PD=(t,e)=>e.some(n=>t instanceof n);let d0,h0;function OD(){return d0||(d0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LD(){return h0||(h0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const L1=new WeakMap,mp=new WeakMap,D1=new WeakMap,ah=new WeakMap,bg=new WeakMap;function DD(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",l),t.removeEventListener("error",a)},l=()=>{n(ei(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",l),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&L1.set(n,t)}).catch(()=>{}),bg.set(e,t),e}function MD(t){if(mp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",a),t.removeEventListener("abort",a)},l=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",l),t.addEventListener("error",a),t.addEventListener("abort",a)});mp.set(t,e)}let vp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return mp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||D1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ei(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bD(t){vp=t(vp)}function FD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(uh(this),e,...n);return D1.set(r,e.sort?e.sort():[e]),ei(r)}:LD().includes(t)?function(...e){return t.apply(uh(this),e),ei(L1.get(this))}:function(...e){return ei(t.apply(uh(this),e))}}function UD(t){return typeof t=="function"?FD(t):(t instanceof IDBTransaction&&MD(t),PD(t,OD())?new Proxy(t,vp):t)}function ei(t){if(t instanceof IDBRequest)return DD(t);if(ah.has(t))return ah.get(t);const e=UD(t);return e!==t&&(ah.set(t,e),bg.set(e,t)),e}const uh=t=>bg.get(t);function WD(t,e,{blocked:n,upgrade:r,blocking:s,terminated:l}={}){const a=indexedDB.open(t,e),c=ei(a);return r&&a.addEventListener("upgradeneeded",d=>{r(ei(a.result),d.oldVersion,d.newVersion,ei(a.transaction))}),n&&a.addEventListener("blocked",()=>n()),c.then(d=>{l&&d.addEventListener("close",()=>l()),s&&d.addEventListener("versionchange",()=>s())}).catch(()=>{}),c}const zD=["get","getKey","getAll","getAllKeys","count"],BD=["put","add","delete","clear"],ch=new Map;function p0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ch.get(e))return ch.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=BD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||zD.includes(n)))return;const l=async function(a,...c){const d=this.transaction(a,s?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),s&&d.done]))[0]};return ch.set(e,l),l}bD(t=>({...t,get:(e,n,r)=>p0(e,n)||t.get(e,n,r),has:(e,n)=>!!p0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($D(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function $D(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yp="@firebase/app",g0="0.9.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new Mg("@firebase/app"),VD="@firebase/app-compat",GD="@firebase/analytics-compat",jD="@firebase/analytics",KD="@firebase/app-check-compat",YD="@firebase/app-check",qD="@firebase/auth",QD="@firebase/auth-compat",XD="@firebase/database",JD="@firebase/database-compat",ZD="@firebase/functions",eM="@firebase/functions-compat",tM="@firebase/installations",nM="@firebase/installations-compat",rM="@firebase/messaging",iM="@firebase/messaging-compat",sM="@firebase/performance",oM="@firebase/performance-compat",lM="@firebase/remote-config",aM="@firebase/remote-config-compat",uM="@firebase/storage",cM="@firebase/storage-compat",fM="@firebase/firestore",dM="@firebase/firestore-compat",hM="firebase",pM="9.19.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="[DEFAULT]",gM={[yp]:"fire-core",[VD]:"fire-core-compat",[jD]:"fire-analytics",[GD]:"fire-analytics-compat",[YD]:"fire-app-check",[KD]:"fire-app-check-compat",[qD]:"fire-auth",[QD]:"fire-auth-compat",[XD]:"fire-rtdb",[JD]:"fire-rtdb-compat",[ZD]:"fire-fn",[eM]:"fire-fn-compat",[tM]:"fire-iid",[nM]:"fire-iid-compat",[rM]:"fire-fcm",[iM]:"fire-fcm-compat",[sM]:"fire-perf",[oM]:"fire-perf-compat",[lM]:"fire-rc",[aM]:"fire-rc-compat",[uM]:"fire-gcs",[cM]:"fire-gcs-compat",[fM]:"fire-fst",[dM]:"fire-fst-compat","fire-js":"fire-js",[hM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=new Map,Ep=new Map;function _M(t,e){try{t.container.addComponent(e)}catch(n){Vi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xs(t){const e=t.name;if(Ep.has(e))return Vi.debug(`There were multiple attempts to register component ${e}.`),!1;Ep.set(e,t);for(const n of _c.values())_M(n,t);return!0}function Fg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ti=new ta("app","Firebase",mM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $i("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ti.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=pM;function M1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:wp,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw ti.create("bad-app-name",{appName:String(s)});if(n||(n=lD()),!n)throw ti.create("no-options");const l=_c.get(s);if(l){if(gc(n,l.options)&&gc(r,l.config))return l;throw ti.create("duplicate-app",{appName:s})}const a=new kD(s);for(const d of Ep.values())a.addComponent(d);const c=new vM(n,r,a);return _c.set(s,c),c}function b1(t=wp){const e=_c.get(t);if(!e&&t===wp)return M1();if(!e)throw ti.create("no-app",{appName:t});return e}function ni(t,e,n){var r;let s=(r=gM[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const l=s.match(/\s|\//),a=e.match(/\s|\//);if(l||a){const c=[`Unable to register library "${s}" with version "${e}":`];l&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vi.warn(c.join(" "));return}Xs(new $i(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM="firebase-heartbeat-database",wM=1,Wl="firebase-heartbeat-store";let fh=null;function F1(){return fh||(fh=WD(yM,wM,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Wl)}}}).catch(t=>{throw ti.create("idb-open",{originalErrorMessage:t.message})})),fh}async function EM(t){try{return(await F1()).transaction(Wl).objectStore(Wl).get(U1(t))}catch(e){if(e instanceof pi)Vi.warn(e.message);else{const n=ti.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vi.warn(n.message)}}}async function _0(t,e){try{const r=(await F1()).transaction(Wl,"readwrite");return await r.objectStore(Wl).put(e,U1(t)),r.done}catch(n){if(n instanceof pi)Vi.warn(n.message);else{const r=ti.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Vi.warn(r.message)}}}function U1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM=1024,CM=30*24*60*60*1e3;class IM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=m0();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const l=new Date(s.date).valueOf();return Date.now()-l<=CM}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=m0(),{heartbeatsToSend:n,unsentEntries:r}=TM(this._heartbeatsCache.heartbeats),s=dc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function m0(){return new Date().toISOString().substring(0,10)}function TM(t,e=SM){const n=[];let r=t.slice();for(const s of t){const l=n.find(a=>a.agent===s.agent);if(l){if(l.dates.push(s.date),v0(n)>e){l.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),v0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class kM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fD()?dD().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await EM(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return _0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return _0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function v0(t){return dc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(t){Xs(new $i("platform-logger",e=>new HD(e),"PRIVATE")),Xs(new $i("heartbeat",e=>new IM(e),"PRIVATE")),ni(yp,g0,t),ni(yp,g0,"esm2017"),ni("fire-js","")}RM("");var NM="firebase",xM="9.19.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ni(NM,xM,"app");const y0="@firebase/database",w0="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let W1="";function AM(t){W1=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Je(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ul(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Cr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new PM(e)}}catch{}return new OM},Oi=z1("localStorage"),Sp=z1("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new Mg("@firebase/database"),LM=function(){let t=1;return function(){return t++}}(),B1=function(t){const e=SD(t),n=new vD;n.update(e);const r=n.digest();return Pg.encodeByteArray(r)},ra=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ra.apply(null,r):typeof r=="object"?e+=Je(r):e+=r,e+=" "}return e};let bi=null,E0=!0;const DM=function(t,e){U(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Us.logLevel=ke.VERBOSE,bi=Us.log.bind(Us),e&&Sp.set("logging_enabled",!0)):typeof t=="function"?bi=t:(bi=null,Sp.remove("logging_enabled"))},vt=function(...t){if(E0===!0&&(E0=!1,bi===null&&Sp.get("logging_enabled")===!0&&DM(!0)),bi){const e=ra.apply(null,t);bi(e)}},ia=function(t){return function(...e){vt(t,...e)}},Cp=function(...t){const e="FIREBASE INTERNAL ERROR: "+ra(...t);Us.error(e)},wr=function(...t){const e=`FIREBASE FATAL ERROR: ${ra(...t)}`;throw Us.error(e),new Error(e)},zt=function(...t){const e="FIREBASE WARNING: "+ra(...t);Us.warn(e)},MM=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&zt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},H1=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},bM=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Js="[MIN_NAME]",Gi="[MAX_NAME]",ao=function(t,e){if(t===e)return 0;if(t===Js||e===Gi)return-1;if(e===Js||t===Gi)return 1;{const n=S0(t),r=S0(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},FM=function(t,e){return t===e?0:t<e?-1:1},Yo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Je(e))},Ug=function(t){if(typeof t!="object"||t===null)return Je(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Je(e[r]),n+=":",n+=Ug(t[e[r]]);return n+="}",n},$1=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function Bt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const V1=function(t){U(!H1(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,l,a,c,d;t===0?(l=0,a=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),r),l=c+r,a=Math.round(t*Math.pow(2,n-c)-Math.pow(2,n))):(l=0,a=Math.round(t/Math.pow(2,1-r-n))));const h=[];for(d=n;d;d-=1)h.push(a%2?1:0),a=Math.floor(a/2);for(d=e;d;d-=1)h.push(l%2?1:0),l=Math.floor(l/2);h.push(s?1:0),h.reverse();const v=h.join("");let m="";for(d=0;d<64;d+=8){let y=parseInt(v.substr(d,8),2).toString(16);y.length===1&&(y="0"+y),m=m+y}return m.toLowerCase()},UM=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},WM=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function zM(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const BM=new RegExp("^-?(0*)\\d{1,10}$"),HM=-2147483648,$M=2147483647,S0=function(t){if(BM.test(t)){const e=Number(t);if(e>=HM&&e<=$M)return e}return null},uo=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw zt("Exception was thrown by user callback.",n),e},Math.floor(0))}},VM=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},gl=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){zt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(vt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',zt(e)}}class Ws{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ws.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg="5",G1="v",j1="s",K1="r",Y1="f",q1=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Q1="ls",X1="p",Ip="ac",J1="websocket",Z1="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,n,r,s,l=!1,a="",c=!1,d=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=l,this.persistenceKey=a,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=d,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Oi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Oi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function KM(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function tS(t,e,n){U(typeof e=="string","typeof type must == string"),U(typeof n=="object","typeof params must == object");let r;if(e===J1)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Z1)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);KM(t)&&(n.ns=t.namespace);const s=[];return Bt(n,(l,a)=>{s.push(l+"="+a)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(){this.counters_={}}incrementCounter(e,n=1){Cr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return eD(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh={},hh={};function zg(t){const e=t.toString();return dh[e]||(dh[e]=new YM),dh[e]}function qM(t,e){const n=t.toString();return hh[n]||(hh[n]=e()),hh[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&uo(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="start",XM="close",JM="pLPCommand",ZM="pRTLPCB",nS="id",rS="pw",iS="ser",e2="cb",t2="seg",n2="ts",r2="d",i2="dframe",sS=1870,oS=30,s2=sS-oS,o2=25e3,l2=3e4;class As{constructor(e,n,r,s,l,a,c){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=l,this.transportSessionId=a,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ia(e),this.stats_=zg(n),this.urlFn=d=>(this.appCheckToken&&(d[Ip]=this.appCheckToken),tS(n,Z1,d))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new QM(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(l2)),bM(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Bg((...l)=>{const[a,c,d,h,v]=l;if(this.incrementIncomingBytes_(l),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===C0)this.id=c,this.password=d;else if(a===XM)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...l)=>{const[a,c]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(a,c)},()=>{this.onClosed_()},this.urlFn);const r={};r[C0]="t",r[iS]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[e2]=this.scriptTagHolder.uniqueCallbackIdentifier),r[G1]=Wg,this.transportSessionId&&(r[j1]=this.transportSessionId),this.lastSessionId&&(r[Q1]=this.lastSessionId),this.applicationId&&(r[X1]=this.applicationId),this.appCheckToken&&(r[Ip]=this.appCheckToken),typeof location<"u"&&location.hostname&&q1.test(location.hostname)&&(r[K1]=Y1);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){As.forceAllow_=!0}static forceDisallow(){As.forceDisallow_=!0}static isAvailable(){return As.forceAllow_?!0:!As.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!UM()&&!WM()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Je(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=k1(n),s=$1(r,s2);for(let l=0;l<s.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[l]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[i2]="t",r[nS]=e,r[rS]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Je(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Bg{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=LM(),window[JM+this.uniqueCallbackIdentifier]=e,window[ZM+this.uniqueCallbackIdentifier]=n,this.myIFrame=Bg.createIFrame_();let l="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(l='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(c){vt("frame writing exception"),c.stack&&vt(c.stack),vt(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||vt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[nS]=this.myID,e[rS]=this.myPW,e[iS]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+oS+r.length<=sS;){const a=this.pendingSegs.shift();r=r+"&"+t2+s+"="+a.seg+"&"+n2+s+"="+a.ts+"&"+r2+s+"="+a.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(o2)),l=()=>{clearTimeout(s),r()};this.addTag(e,l)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{vt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2=16384,u2=45e3;let mc=null;typeof MozWebSocket<"u"?mc=MozWebSocket:typeof WebSocket<"u"&&(mc=WebSocket);class Rn{constructor(e,n,r,s,l,a,c){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ia(this.connId),this.stats_=zg(n),this.connURL=Rn.connectionURL_(n,a,c,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,l){const a={};return a[G1]=Wg,typeof location<"u"&&location.hostname&&q1.test(location.hostname)&&(a[K1]=Y1),n&&(a[j1]=n),r&&(a[Q1]=r),s&&(a[Ip]=s),l&&(a[X1]=l),tS(e,J1,a)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Oi.set("previous_websocket_failure",!0);try{let r;P1(),this.mySock=new mc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Rn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&mc!==null&&!Rn.forceDisallow_}static previouslyFailed(){return Oi.isInMemoryStorage||Oi.get("previous_websocket_failure")===!0}markConnectionHealthy(){Oi.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Ul(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(U(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Je(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=$1(n,a2);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(u2))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Rn.responsesRequiredToBeHealthy=2;Rn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[As,Rn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Rn&&Rn.isAvailable();let r=n&&!Rn.previouslyFailed();if(e.webSocketOnly&&(n||zt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Rn];else{const s=this.transports_=[];for(const l of zl.ALL_TRANSPORTS)l&&l.isAvailable()&&s.push(l);zl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}zl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=6e4,f2=5e3,d2=10*1024,h2=100*1024,ph="t",I0="d",p2="s",T0="r",g2="e",k0="o",R0="a",N0="n",x0="p",_2="h";class m2{constructor(e,n,r,s,l,a,c,d,h,v){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=l,this.onMessage_=a,this.onReady_=c,this.onDisconnect_=d,this.onKill_=h,this.lastSessionId=v,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ia("c:"+this.id+":"),this.transportManager_=new zl(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=gl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>h2?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>d2?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ph in e){const n=e[ph];n===R0?this.upgradeIfSecondaryHealthy_():n===T0?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===k0&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Yo("t",e),r=Yo("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:x0,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:R0,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:N0,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Yo("t",e),r=Yo("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Yo(ph,e);if(I0 in e){const r=e[I0];if(n===_2){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===N0){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===p2?this.onConnectionShutdown_(r):n===T0?this.onReset_(r):n===g2?Cp("Server Error: "+r):n===k0?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Cp("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Wg!==r&&zt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),gl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(c2))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):gl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(f2))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:x0,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Oi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e){this.allowedEvents_=e,this.listeners_={},U(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let l=0;l<s.length;l++)if(s[l].callback===n&&(!r||r===s[l].context)){s.splice(l,1);return}}validateEventType_(e){U(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc extends aS{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Lg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new vc}getInitialEvent(e){return U(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0=32,P0=768;class Re{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ve(){return new Re("")}function ue(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ai(t){return t.pieces_.length-t.pieceNum_}function xe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Re(t.pieces_,e)}function uS(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function v2(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function cS(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function fS(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Re(e,0)}function Ze(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Re)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new Re(n,0)}function de(t){return t.pieceNum_>=t.pieces_.length}function kt(t,e){const n=ue(t),r=ue(e);if(n===null)return e;if(n===r)return kt(xe(t),xe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Hg(t,e){if(ai(t)!==ai(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Nn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(ai(t)>ai(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class y2{constructor(e,n){this.errorPrefix_=n,this.parts_=cS(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Jc(this.parts_[r]);dS(this)}}function w2(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Jc(e),dS(t)}function E2(t){const e=t.parts_.pop();t.byteLength_-=Jc(e),t.parts_.length>0&&(t.byteLength_-=1)}function dS(t){if(t.byteLength_>P0)throw new Error(t.errorPrefix_+"has a key path longer than "+P0+" bytes ("+t.byteLength_+").");if(t.parts_.length>A0)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+A0+") or object contains a cycle "+Ni(t))}function Ni(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g extends aS{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new $g}getInitialEvent(e){return U(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=1e3,S2=60*5*1e3,O0=30*1e3,C2=1.3,I2=3e4,T2="server_kill",L0=3;class gr extends lS{constructor(e,n,r,s,l,a,c,d){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=l,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=d,this.id=gr.nextPersistentConnectionId_++,this.log_=ia("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=qo,this.maxReconnectDelay_=S2,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d&&!P1())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");$g.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&vc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,l={r:s,a:e,b:n};this.log_(Je(l)),U(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new Xc,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const c=a.d;a.s==="ok"?n.resolve(c):n.reject(c)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const l=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(l),n.promise}listen(e,n,r,s){this.initConnection_();const l=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+l),this.listens.has(a)||this.listens.set(a,new Map),U(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),U(!this.listens.get(a).has(l),"listen() called twice for same path/queryId.");const c={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(a).set(l,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const l={p:r},a="q";e.tag&&(l.q=n._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest(a,l,c=>{const d=c.d,h=c.s;gr.warnOnListenWarnings_(d,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",c),h!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(h,d))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Cr(e,"w")){const r=Qs(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',l=n._path.toString();zt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||mD(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=O0)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=_D(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const l=s.s,a=s.d||"error";this.authToken_===e&&(l==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),U(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const l={p:e},a="n";s&&(l.q=r,l.t=s),this.sendRequest(a,l)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const l={p:n,d:r};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,l){this.initConnection_();const a={p:n,d:r};l!==void 0&&(a.h=l),this.outstandingPuts_.push({action:e,request:a,onComplete:s}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,l=>{this.log_(n+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(l.s,l.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const l=r.d;this.log_("reportStats","Error sending stats: "+l)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Je(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Cp("Unrecognized action received from server: "+Je(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){U(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=qo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=qo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>I2&&(this.reconnectDelay_=qo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*C2)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+gr.nextConnectionId_++,l=this.lastSessionId;let a=!1,c=null;const d=function(){c?c.close():(a=!0,r())},h=function(m){U(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(m)};this.realtime_={close:d,sendRequest:h};const v=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[m,y]=await Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)]);a?vt("getToken() completed but was canceled"):(vt("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=y&&y.token,c=new m2(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,R=>{zt(R+" ("+this.repoInfo_.toString()+")"),this.interrupt(T2)},l))}catch(m){this.log_("Failed to get token: "+m),a||(this.repoInfo_.nodeAdmin&&zt(m),d())}}}interrupt(e){vt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){vt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],_p(this.interruptReasons_)&&(this.reconnectDelay_=qo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(l=>Ug(l)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new Re(e).toString();let s;if(this.listens.has(r)){const l=this.listens.get(r);s=l.get(n),l.delete(n),l.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){vt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=L0&&(this.reconnectDelay_=O0,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){vt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=L0&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+W1.replace(/\./g,"-")]=1,Lg()?e["framework.cordova"]=1:A1()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=vc.getInstance().currentlyOnline();return _p(this.interruptReasons_)&&e}}gr.nextPersistentConnectionId_=0;gr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ce(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ce(Js,e),s=new ce(Js,n);return this.compare(r,s)!==0}minPost(){return ce.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cu;class hS extends Zc{static get __EMPTY_NODE(){return Cu}static set __EMPTY_NODE(e){Cu=e}compare(e,n){return ao(e.name,n.name)}isDefinedOn(e){throw oo("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ce.MIN}maxPost(){return new ce(Gi,Cu)}makePost(e,n){return U(typeof e=="string","KeyIndex indexValue must always be a string."),new ce(e,Cu)}toString(){return".key"}}const zs=new hS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n,r,s,l=null){this.isReverse_=s,this.resultGenerator_=l,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,s&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class it{constructor(e,n,r,s,l){this.key=e,this.value=n,this.color=r??it.RED,this.left=s??bt.EMPTY_NODE,this.right=l??bt.EMPTY_NODE}copy(e,n,r,s,l){return new it(e??this.key,n??this.value,r??this.color,s??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const l=r(e,s.key);return l<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):l===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return bt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return bt.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,it.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,it.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}it.RED=!0;it.BLACK=!1;class k2{copy(e,n,r,s,l){return this}insert(e,n,r){return new it(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class bt{constructor(e,n=bt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new bt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,it.BLACK,null,null))}remove(e){return new bt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,it.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Iu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Iu(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Iu(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Iu(this.root_,null,this.comparator_,!0,e)}}bt.EMPTY_NODE=new k2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(t,e){return ao(t.name,e.name)}function Vg(t,e){return ao(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tp;function N2(t){Tp=t}const pS=function(t){return typeof t=="number"?"number:"+V1(t):"string:"+t},gS=function(t){if(t.isLeafNode()){const e=t.val();U(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Cr(e,".sv"),"Priority must be a string or number.")}else U(t===Tp||t.isEmpty(),"priority of unexpected type.");U(t===Tp||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let D0;class nt{constructor(e,n=nt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,U(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),gS(this.priorityNode_)}static set __childrenNodeConstructor(e){D0=e}static get __childrenNodeConstructor(){return D0}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new nt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:nt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return de(e)?this:ue(e)===".priority"?this.priorityNode_:nt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:nt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=ue(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(U(r!==".priority"||ai(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,nt.__childrenNodeConstructor.EMPTY_NODE.updateChild(xe(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+pS(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=V1(this.value_):e+=this.value_,this.lazyHash_=B1(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===nt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof nt.__childrenNodeConstructor?-1:(U(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=nt.VALUE_TYPE_ORDER.indexOf(n),l=nt.VALUE_TYPE_ORDER.indexOf(r);return U(s>=0,"Unknown leaf type: "+n),U(l>=0,"Unknown leaf type: "+r),s===l?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}nt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _S,mS;function x2(t){_S=t}function A2(t){mS=t}class P2 extends Zc{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),l=r.compareTo(s);return l===0?ao(e.name,n.name):l}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ce.MIN}maxPost(){return new ce(Gi,new nt("[PRIORITY-POST]",mS))}makePost(e,n){const r=_S(e);return new ce(n,new nt("[PRIORITY-POST]",r))}toString(){return".priority"}}const $e=new P2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=Math.log(2);class L2{constructor(e){const n=l=>parseInt(Math.log(l)/O2,10),r=l=>parseInt(Array(l+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const yc=function(t,e,n,r){t.sort(e);const s=function(d,h){const v=h-d;let m,y;if(v===0)return null;if(v===1)return m=t[d],y=n?n(m):m,new it(y,m.node,it.BLACK,null,null);{const R=parseInt(v/2,10)+d,x=s(d,R),D=s(R+1,h);return m=t[R],y=n?n(m):m,new it(y,m.node,it.BLACK,x,D)}},l=function(d){let h=null,v=null,m=t.length;const y=function(x,D){const j=m-x,C=m;m-=x;const E=s(j+1,C),T=t[j],L=n?n(T):T;R(new it(L,T.node,D,null,E))},R=function(x){h?(h.left=x,h=x):(v=x,h=x)};for(let x=0;x<d.count;++x){const D=d.nextBitIsOne(),j=Math.pow(2,d.count-(x+1));D?y(j,it.BLACK):(y(j,it.BLACK),y(j,it.RED))}return v},a=new L2(t.length),c=l(a);return new bt(r||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh;const ms={};class fr{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return U(ms&&$e,"ChildrenNode.ts has not been loaded"),gh=gh||new fr({".priority":ms},{".priority":$e}),gh}get(e){const n=Qs(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof bt?n:null}hasIndex(e){return Cr(this.indexSet_,e.toString())}addIndex(e,n){U(e!==zs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const l=n.getIterator(ce.Wrap);let a=l.getNext();for(;a;)s=s||e.isDefinedOn(a.node),r.push(a),a=l.getNext();let c;s?c=yc(r,e.getCompare()):c=ms;const d=e.toString(),h=Object.assign({},this.indexSet_);h[d]=e;const v=Object.assign({},this.indexes_);return v[d]=c,new fr(v,h)}addToIndexes(e,n){const r=pc(this.indexes_,(s,l)=>{const a=Qs(this.indexSet_,l);if(U(a,"Missing index implementation for "+l),s===ms)if(a.isDefinedOn(e.node)){const c=[],d=n.getIterator(ce.Wrap);let h=d.getNext();for(;h;)h.name!==e.name&&c.push(h),h=d.getNext();return c.push(e),yc(c,a.getCompare())}else return ms;else{const c=n.get(e.name);let d=s;return c&&(d=d.remove(new ce(e.name,c))),d.insert(e,e.node)}});return new fr(r,this.indexSet_)}removeFromIndexes(e,n){const r=pc(this.indexes_,s=>{if(s===ms)return s;{const l=n.get(e.name);return l?s.remove(new ce(e.name,l)):s}});return new fr(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo;class Z{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&gS(this.priorityNode_),this.children_.isEmpty()&&U(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Qo||(Qo=new Z(new bt(Vg),null,fr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Qo}updatePriority(e){return this.children_.isEmpty()?this:new Z(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Qo:n}}getChild(e){const n=ue(e);return n===null?this:this.getImmediateChild(n).getChild(xe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(U(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ce(e,n);let s,l;n.isEmpty()?(s=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),l=this.indexMap_.addToIndexes(r,this.children_));const a=s.isEmpty()?Qo:this.priorityNode_;return new Z(s,a,l)}}updateChild(e,n){const r=ue(e);if(r===null)return n;{U(ue(e)!==".priority"||ai(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(xe(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,l=!0;if(this.forEachChild($e,(a,c)=>{n[a]=c.val(e),r++,l&&Z.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):l=!1}),!e&&l&&s<2*r){const a=[];for(const c in n)a[c]=n[c];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+pS(this.getPriority().val())+":"),this.forEachChild($e,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":B1(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const l=s.getPredecessorKey(new ce(e,n));return l?l.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ce(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ce(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,ce.Wrap);let l=s.peek();for(;l!=null&&n.compare(l,e)<0;)s.getNext(),l=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,ce.Wrap);let l=s.peek();for(;l!=null&&n.compare(l,e)>0;)s.getNext(),l=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===sa?-1:0}withIndex(e){if(e===zs||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Z(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===zs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator($e),s=n.getIterator($e);let l=r.getNext(),a=s.getNext();for(;l&&a;){if(l.name!==a.name||!l.node.equals(a.node))return!1;l=r.getNext(),a=s.getNext()}return l===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===zs?null:this.indexMap_.get(e.toString())}}Z.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class D2 extends Z{constructor(){super(new bt(Vg),Z.EMPTY_NODE,fr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Z.EMPTY_NODE}isEmpty(){return!1}}const sa=new D2;Object.defineProperties(ce,{MIN:{value:new ce(Js,Z.EMPTY_NODE)},MAX:{value:new ce(Gi,sa)}});hS.__EMPTY_NODE=Z.EMPTY_NODE;nt.__childrenNodeConstructor=Z;N2(sa);A2(sa);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=!0;function st(t,e=null){if(t===null)return Z.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),U(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new nt(n,st(e))}if(!(t instanceof Array)&&M2){const n=[];let r=!1;if(Bt(t,(a,c)=>{if(a.substring(0,1)!=="."){const d=st(c);d.isEmpty()||(r=r||!d.getPriority().isEmpty(),n.push(new ce(a,d)))}}),n.length===0)return Z.EMPTY_NODE;const l=yc(n,R2,a=>a.name,Vg);if(r){const a=yc(n,$e.getCompare());return new Z(l,st(e),new fr({".priority":a},{".priority":$e}))}else return new Z(l,st(e),fr.Default)}else{let n=Z.EMPTY_NODE;return Bt(t,(r,s)=>{if(Cr(t,r)&&r.substring(0,1)!=="."){const l=st(s);(l.isLeafNode()||!l.isEmpty())&&(n=n.updateImmediateChild(r,l))}}),n.updatePriority(st(e))}}x2(st);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2 extends Zc{constructor(e){super(),this.indexPath_=e,U(!de(e)&&ue(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),l=r.compareTo(s);return l===0?ao(e.name,n.name):l}makePost(e,n){const r=st(e),s=Z.EMPTY_NODE.updateChild(this.indexPath_,r);return new ce(n,s)}maxPost(){const e=Z.EMPTY_NODE.updateChild(this.indexPath_,sa);return new ce(Gi,e)}toString(){return cS(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2 extends Zc{compare(e,n){const r=e.node.compareTo(n.node);return r===0?ao(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ce.MIN}maxPost(){return ce.MAX}makePost(e,n){const r=st(e);return new ce(n,r)}toString(){return".value"}}const U2=new F2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(t){return{type:"value",snapshotNode:t}}function Zs(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Bl(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Hl(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function W2(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e){this.index_=e}updateChild(e,n,r,s,l,a){U(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=e.getImmediateChild(n);return c.getChild(s).equals(r.getChild(s))&&c.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?e.hasChild(n)?a.trackChildChange(Bl(n,c)):U(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?a.trackChildChange(Zs(n,r)):a.trackChildChange(Hl(n,r,c))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild($e,(s,l)=>{n.hasChild(s)||r.trackChildChange(Bl(s,l))}),n.isLeafNode()||n.forEachChild($e,(s,l)=>{if(e.hasChild(s)){const a=e.getImmediateChild(s);a.equals(l)||r.trackChildChange(Hl(s,l,a))}else r.trackChildChange(Zs(s,l))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Z.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e){this.indexedFilter_=new Gg(e.getIndex()),this.index_=e.getIndex(),this.startPost_=$l.getStartPost_(e),this.endPost_=$l.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,l,a){return this.matches(new ce(n,r))||(r=Z.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,l,a)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Z.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(Z.EMPTY_NODE);const l=this;return n.forEachChild($e,(a,c)=>{l.matches(new ce(a,c))||(s=s.updateImmediateChild(a,Z.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new $l(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,l,a){return this.rangedFilter_.matches(new ce(n,r))||(r=Z.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,l,a):this.fullLimitUpdateChild_(e,n,r,l,a)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=Z.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=Z.EMPTY_NODE.withIndex(this.index_);let l;this.reverse_?l=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;l.hasNext()&&a<this.limit_;){const c=l.getNext();if(this.withinDirectionalStart(c))if(this.withinDirectionalEnd(c))s=s.updateImmediateChild(c.name,c.node),a++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(Z.EMPTY_NODE);let l;this.reverse_?l=s.getReverseIterator(this.index_):l=s.getIterator(this.index_);let a=0;for(;l.hasNext();){const c=l.getNext();a<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?a++:s=s.updateImmediateChild(c.name,Z.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,l){let a;if(this.reverse_){const m=this.index_.getCompare();a=(y,R)=>m(R,y)}else a=this.index_.getCompare();const c=e;U(c.numChildren()===this.limit_,"");const d=new ce(n,r),h=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),v=this.rangedFilter_.matches(d);if(c.hasChild(n)){const m=c.getImmediateChild(n);let y=s.getChildAfterChild(this.index_,h,this.reverse_);for(;y!=null&&(y.name===n||c.hasChild(y.name));)y=s.getChildAfterChild(this.index_,y,this.reverse_);const R=y==null?1:a(y,d);if(v&&!r.isEmpty()&&R>=0)return l!=null&&l.trackChildChange(Hl(n,r,m)),c.updateImmediateChild(n,r);{l!=null&&l.trackChildChange(Bl(n,m));const D=c.updateImmediateChild(n,Z.EMPTY_NODE);return y!=null&&this.rangedFilter_.matches(y)?(l!=null&&l.trackChildChange(Zs(y.name,y.node)),D.updateImmediateChild(y.name,y.node)):D}}else return r.isEmpty()?e:v&&a(h,d)>=0?(l!=null&&(l.trackChildChange(Bl(h.name,h.node)),l.trackChildChange(Zs(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(h.name,Z.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=$e}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return U(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return U(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Js}hasEnd(){return this.endSet_}getIndexEndValue(){return U(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return U(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Gi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return U(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===$e}copy(){const e=new jg;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function B2(t){return t.loadsAllData()?new Gg(t.getIndex()):t.hasLimit()?new z2(t):new $l(t)}function M0(t){const e={};if(t.isDefault())return e;let n;if(t.index_===$e?n="$priority":t.index_===U2?n="$value":t.index_===zs?n="$key":(U(t.index_ instanceof b2,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Je(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Je(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Je(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Je(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Je(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function b0(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==$e&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends lS{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=ia("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(U(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const l=e._path.toString();this.log_("Listen called for "+l+" "+e._queryIdentifier);const a=wc.getListenId_(e,r),c={};this.listens_[a]=c;const d=M0(e._queryParams);this.restRequest_(l+".json",d,(h,v)=>{let m=v;if(h===404&&(m=null,h=null),h===null&&this.onDataUpdate_(l,m,!1,r),Qs(this.listens_,a)===c){let y;h?h===401?y="permission_denied":y="rest_error:"+h:y="ok",s(y,null)}})}unlisten(e,n){const r=wc.getListenId_(e,n);delete this.listens_[r]}get(e){const n=M0(e._queryParams),r=e._path.toString(),s=new Xc;return this.restRequest_(r+".json",n,(l,a)=>{let c=a;l===404&&(c=null,l=null),l===null?(this.onDataUpdate_(r,c,!1,null),s.resolve(c)):s.reject(new Error(c))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,l])=>{s&&s.accessToken&&(n.auth=s.accessToken),l&&l.token&&(n.ac=l.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+lo(n);this.log_("Sending REST request for "+a);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&c.readyState===4){this.log_("REST Response for "+a+" received. status:",c.status,"response:",c.responseText);let d=null;if(c.status>=200&&c.status<300){try{d=Ul(c.responseText)}catch{zt("Failed to parse JSON response for "+a+": "+c.responseText)}r(null,d)}else c.status!==401&&c.status!==404&&zt("Got unsuccessful REST response for "+a+" Status: "+c.status),r(c.status);r=null}},c.open("GET",a,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(){this.rootNode_=Z.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(){return{value:null,children:new Map}}function yS(t,e,n){if(de(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=ue(e);t.children.has(r)||t.children.set(r,Ec());const s=t.children.get(r);e=xe(e),yS(s,e,n)}}function kp(t,e,n){t.value!==null?n(e,t.value):$2(t,(r,s)=>{const l=new Re(e.toString()+"/"+r);kp(s,l,n)})}function $2(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Bt(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=10*1e3,G2=30*1e3,j2=5*60*1e3;class K2{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new V2(e);const r=F0+(G2-F0)*Math.random();gl(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Bt(e,(s,l)=>{l>0&&Cr(this.statsToReport_,s)&&(n[s]=l,r=!0)}),r&&this.server_.reportStats(n),gl(this.reportStats_.bind(this),Math.floor(Math.random()*2*j2))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(xn||(xn={}));function wS(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Kg(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Yg(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=xn.ACK_USER_WRITE,this.source=wS()}operationForChild(e){if(de(this.path)){if(this.affectedTree.value!=null)return U(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Re(e));return new Sc(ve(),n,this.revert)}}else return U(ue(this.path)===e,"operationForChild called for unrelated child."),new Sc(xe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n){this.source=e,this.path=n,this.type=xn.LISTEN_COMPLETE}operationForChild(e){return de(this.path)?new Vl(this.source,ve()):new Vl(this.source,xe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=xn.OVERWRITE}operationForChild(e){return de(this.path)?new ji(this.source,ve(),this.snap.getImmediateChild(e)):new ji(this.source,xe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=xn.MERGE}operationForChild(e){if(de(this.path)){const n=this.children.subtree(new Re(e));return n.isEmpty()?null:n.value?new ji(this.source,ve(),n.value):new Gl(this.source,ve(),n)}else return U(ue(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Gl(this.source,xe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(de(e))return this.isFullyInitialized()&&!this.filtered_;const n=ue(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function q2(t,e,n,r){const s=[],l=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&l.push(W2(a.childName,a.snapshotNode))}),Xo(t,s,"child_removed",e,r,n),Xo(t,s,"child_added",e,r,n),Xo(t,s,"child_moved",l,r,n),Xo(t,s,"child_changed",e,r,n),Xo(t,s,"value",e,r,n),s}function Xo(t,e,n,r,s,l){const a=r.filter(c=>c.type===n);a.sort((c,d)=>X2(t,c,d)),a.forEach(c=>{const d=Q2(t,c,l);s.forEach(h=>{h.respondsTo(c.type)&&e.push(h.createEvent(d,t.query_))})})}function Q2(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function X2(t,e,n){if(e.childName==null||n.childName==null)throw oo("Should only compare child_ events.");const r=new ce(e.childName,e.snapshotNode),s=new ce(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(t,e){return{eventCache:t,serverCache:e}}function _l(t,e,n,r){return ef(new ui(e,n,r),t.serverCache)}function ES(t,e,n,r){return ef(t.eventCache,new ui(e,n,r))}function Cc(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ki(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _h;const J2=()=>(_h||(_h=new bt(FM)),_h);class Le{constructor(e,n=J2()){this.value=e,this.children=n}static fromObject(e){let n=new Le(null);return Bt(e,(r,s)=>{n=n.set(new Re(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ve(),value:this.value};if(de(e))return null;{const r=ue(e),s=this.children.get(r);if(s!==null){const l=s.findRootMostMatchingPathAndValue(xe(e),n);return l!=null?{path:Ze(new Re(r),l.path),value:l.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(de(e))return this;{const n=ue(e),r=this.children.get(n);return r!==null?r.subtree(xe(e)):new Le(null)}}set(e,n){if(de(e))return new Le(n,this.children);{const r=ue(e),l=(this.children.get(r)||new Le(null)).set(xe(e),n),a=this.children.insert(r,l);return new Le(this.value,a)}}remove(e){if(de(e))return this.children.isEmpty()?new Le(null):new Le(null,this.children);{const n=ue(e),r=this.children.get(n);if(r){const s=r.remove(xe(e));let l;return s.isEmpty()?l=this.children.remove(n):l=this.children.insert(n,s),this.value===null&&l.isEmpty()?new Le(null):new Le(this.value,l)}else return this}}get(e){if(de(e))return this.value;{const n=ue(e),r=this.children.get(n);return r?r.get(xe(e)):null}}setTree(e,n){if(de(e))return n;{const r=ue(e),l=(this.children.get(r)||new Le(null)).setTree(xe(e),n);let a;return l.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,l),new Le(this.value,a)}}fold(e){return this.fold_(ve(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,l)=>{r[s]=l.fold_(Ze(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ve(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(de(e))return null;{const l=ue(e),a=this.children.get(l);return a?a.findOnPath_(xe(e),Ze(n,l),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ve(),n)}foreachOnPath_(e,n,r){if(de(e))return this;{this.value&&r(n,this.value);const s=ue(e),l=this.children.get(s);return l?l.foreachOnPath_(xe(e),Ze(n,s),r):new Le(null)}}foreach(e){this.foreach_(ve(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(Ze(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.writeTree_=e}static empty(){return new On(new Le(null))}}function ml(t,e,n){if(de(e))return new On(new Le(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let l=r.value;const a=kt(s,e);return l=l.updateChild(a,n),new On(t.writeTree_.set(s,l))}else{const s=new Le(n),l=t.writeTree_.setTree(e,s);return new On(l)}}}function U0(t,e,n){let r=t;return Bt(n,(s,l)=>{r=ml(r,Ze(e,s),l)}),r}function W0(t,e){if(de(e))return On.empty();{const n=t.writeTree_.setTree(e,new Le(null));return new On(n)}}function Rp(t,e){return Ji(t,e)!=null}function Ji(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(kt(n.path,e)):null}function z0(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild($e,(r,s)=>{e.push(new ce(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new ce(r,s.value))}),e}function ri(t,e){if(de(e))return t;{const n=Ji(t,e);return n!=null?new On(new Le(n)):new On(t.writeTree_.subtree(e))}}function Np(t){return t.writeTree_.isEmpty()}function eo(t,e){return SS(ve(),t.writeTree_,e)}function SS(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,l)=>{s===".priority"?(U(l.value!==null,"Priority writes must always be leaf nodes"),r=l.value):n=SS(Ze(t,s),l,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Ze(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(t,e){return kS(e,t)}function Z2(t,e,n,r,s){U(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=ml(t.visibleWrites,e,n)),t.lastWriteId=r}function eb(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function tb(t,e){const n=t.allWrites.findIndex(c=>c.writeId===e);U(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,l=!1,a=t.allWrites.length-1;for(;s&&a>=0;){const c=t.allWrites[a];c.visible&&(a>=n&&nb(c,r.path)?s=!1:Nn(r.path,c.path)&&(l=!0)),a--}if(s){if(l)return rb(t),!0;if(r.snap)t.visibleWrites=W0(t.visibleWrites,r.path);else{const c=r.children;Bt(c,d=>{t.visibleWrites=W0(t.visibleWrites,Ze(r.path,d))})}return!0}else return!1}function nb(t,e){if(t.snap)return Nn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Nn(Ze(t.path,n),e))return!0;return!1}function rb(t){t.visibleWrites=CS(t.allWrites,ib,ve()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function ib(t){return t.visible}function CS(t,e,n){let r=On.empty();for(let s=0;s<t.length;++s){const l=t[s];if(e(l)){const a=l.path;let c;if(l.snap)Nn(n,a)?(c=kt(n,a),r=ml(r,c,l.snap)):Nn(a,n)&&(c=kt(a,n),r=ml(r,ve(),l.snap.getChild(c)));else if(l.children){if(Nn(n,a))c=kt(n,a),r=U0(r,c,l.children);else if(Nn(a,n))if(c=kt(a,n),de(c))r=U0(r,ve(),l.children);else{const d=Qs(l.children,ue(c));if(d){const h=d.getChild(xe(c));r=ml(r,ve(),h)}}}else throw oo("WriteRecord should have .snap or .children")}}return r}function IS(t,e,n,r,s){if(!r&&!s){const l=Ji(t.visibleWrites,e);if(l!=null)return l;{const a=ri(t.visibleWrites,e);if(Np(a))return n;if(n==null&&!Rp(a,ve()))return null;{const c=n||Z.EMPTY_NODE;return eo(a,c)}}}else{const l=ri(t.visibleWrites,e);if(!s&&Np(l))return n;if(!s&&n==null&&!Rp(l,ve()))return null;{const a=function(h){return(h.visible||s)&&(!r||!~r.indexOf(h.writeId))&&(Nn(h.path,e)||Nn(e,h.path))},c=CS(t.allWrites,a,e),d=n||Z.EMPTY_NODE;return eo(c,d)}}}function sb(t,e,n){let r=Z.EMPTY_NODE;const s=Ji(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild($e,(l,a)=>{r=r.updateImmediateChild(l,a)}),r;if(n){const l=ri(t.visibleWrites,e);return n.forEachChild($e,(a,c)=>{const d=eo(ri(l,new Re(a)),c);r=r.updateImmediateChild(a,d)}),z0(l).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}else{const l=ri(t.visibleWrites,e);return z0(l).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}}function ob(t,e,n,r,s){U(r||s,"Either existingEventSnap or existingServerSnap must exist");const l=Ze(e,n);if(Rp(t.visibleWrites,l))return null;{const a=ri(t.visibleWrites,l);return Np(a)?s.getChild(n):eo(a,s.getChild(n))}}function lb(t,e,n,r){const s=Ze(e,n),l=Ji(t.visibleWrites,s);if(l!=null)return l;if(r.isCompleteForChild(n)){const a=ri(t.visibleWrites,s);return eo(a,r.getNode().getImmediateChild(n))}else return null}function ab(t,e){return Ji(t.visibleWrites,e)}function ub(t,e,n,r,s,l,a){let c;const d=ri(t.visibleWrites,e),h=Ji(d,ve());if(h!=null)c=h;else if(n!=null)c=eo(d,n);else return[];if(c=c.withIndex(a),!c.isEmpty()&&!c.isLeafNode()){const v=[],m=a.getCompare(),y=l?c.getReverseIteratorFrom(r,a):c.getIteratorFrom(r,a);let R=y.getNext();for(;R&&v.length<s;)m(R,r)!==0&&v.push(R),R=y.getNext();return v}else return[]}function cb(){return{visibleWrites:On.empty(),allWrites:[],lastWriteId:-1}}function Ic(t,e,n,r){return IS(t.writeTree,t.treePath,e,n,r)}function qg(t,e){return sb(t.writeTree,t.treePath,e)}function B0(t,e,n,r){return ob(t.writeTree,t.treePath,e,n,r)}function Tc(t,e){return ab(t.writeTree,Ze(t.treePath,e))}function fb(t,e,n,r,s,l){return ub(t.writeTree,t.treePath,e,n,r,s,l)}function Qg(t,e,n){return lb(t.writeTree,t.treePath,e,n)}function TS(t,e){return kS(Ze(t.treePath,e),t.writeTree)}function kS(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;U(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),U(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const l=s.type;if(n==="child_added"&&l==="child_removed")this.changeMap.set(r,Hl(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&l==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&l==="child_changed")this.changeMap.set(r,Bl(r,s.oldSnap));else if(n==="child_changed"&&l==="child_added")this.changeMap.set(r,Zs(r,e.snapshotNode));else if(n==="child_changed"&&l==="child_changed")this.changeMap.set(r,Hl(r,e.snapshotNode,s.oldSnap));else throw oo("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const RS=new hb;class Xg{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ui(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Qg(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ki(this.viewCache_),l=fb(this.writes_,s,n,1,r,e);return l.length===0?null:l[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(t){return{filter:t}}function gb(t,e){U(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),U(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function _b(t,e,n,r,s){const l=new db;let a,c;if(n.type===xn.OVERWRITE){const h=n;h.source.fromUser?a=xp(t,e,h.path,h.snap,r,s,l):(U(h.source.fromServer,"Unknown source."),c=h.source.tagged||e.serverCache.isFiltered()&&!de(h.path),a=kc(t,e,h.path,h.snap,r,s,c,l))}else if(n.type===xn.MERGE){const h=n;h.source.fromUser?a=vb(t,e,h.path,h.children,r,s,l):(U(h.source.fromServer,"Unknown source."),c=h.source.tagged||e.serverCache.isFiltered(),a=Ap(t,e,h.path,h.children,r,s,c,l))}else if(n.type===xn.ACK_USER_WRITE){const h=n;h.revert?a=Eb(t,e,h.path,r,s,l):a=yb(t,e,h.path,h.affectedTree,r,s,l)}else if(n.type===xn.LISTEN_COMPLETE)a=wb(t,e,n.path,r,l);else throw oo("Unknown operation type: "+n.type);const d=l.getChanges();return mb(e,a,d),{viewCache:a,changes:d}}function mb(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),l=Cc(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(l)||!r.getNode().getPriority().equals(l.getPriority()))&&n.push(vS(Cc(e)))}}function NS(t,e,n,r,s,l){const a=e.eventCache;if(Tc(r,n)!=null)return e;{let c,d;if(de(n))if(U(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const h=Ki(e),v=h instanceof Z?h:Z.EMPTY_NODE,m=qg(r,v);c=t.filter.updateFullNode(e.eventCache.getNode(),m,l)}else{const h=Ic(r,Ki(e));c=t.filter.updateFullNode(e.eventCache.getNode(),h,l)}else{const h=ue(n);if(h===".priority"){U(ai(n)===1,"Can't have a priority with additional path components");const v=a.getNode();d=e.serverCache.getNode();const m=B0(r,n,v,d);m!=null?c=t.filter.updatePriority(v,m):c=a.getNode()}else{const v=xe(n);let m;if(a.isCompleteForChild(h)){d=e.serverCache.getNode();const y=B0(r,n,a.getNode(),d);y!=null?m=a.getNode().getImmediateChild(h).updateChild(v,y):m=a.getNode().getImmediateChild(h)}else m=Qg(r,h,e.serverCache);m!=null?c=t.filter.updateChild(a.getNode(),h,m,v,s,l):c=a.getNode()}}return _l(e,c,a.isFullyInitialized()||de(n),t.filter.filtersNodes())}}function kc(t,e,n,r,s,l,a,c){const d=e.serverCache;let h;const v=a?t.filter:t.filter.getIndexedFilter();if(de(n))h=v.updateFullNode(d.getNode(),r,null);else if(v.filtersNodes()&&!d.isFiltered()){const R=d.getNode().updateChild(n,r);h=v.updateFullNode(d.getNode(),R,null)}else{const R=ue(n);if(!d.isCompleteForPath(n)&&ai(n)>1)return e;const x=xe(n),j=d.getNode().getImmediateChild(R).updateChild(x,r);R===".priority"?h=v.updatePriority(d.getNode(),j):h=v.updateChild(d.getNode(),R,j,x,RS,null)}const m=ES(e,h,d.isFullyInitialized()||de(n),v.filtersNodes()),y=new Xg(s,m,l);return NS(t,m,n,s,y,c)}function xp(t,e,n,r,s,l,a){const c=e.eventCache;let d,h;const v=new Xg(s,e,l);if(de(n))h=t.filter.updateFullNode(e.eventCache.getNode(),r,a),d=_l(e,h,!0,t.filter.filtersNodes());else{const m=ue(n);if(m===".priority")h=t.filter.updatePriority(e.eventCache.getNode(),r),d=_l(e,h,c.isFullyInitialized(),c.isFiltered());else{const y=xe(n),R=c.getNode().getImmediateChild(m);let x;if(de(y))x=r;else{const D=v.getCompleteChild(m);D!=null?uS(y)===".priority"&&D.getChild(fS(y)).isEmpty()?x=D:x=D.updateChild(y,r):x=Z.EMPTY_NODE}if(R.equals(x))d=e;else{const D=t.filter.updateChild(c.getNode(),m,x,y,v,a);d=_l(e,D,c.isFullyInitialized(),t.filter.filtersNodes())}}}return d}function H0(t,e){return t.eventCache.isCompleteForChild(e)}function vb(t,e,n,r,s,l,a){let c=e;return r.foreach((d,h)=>{const v=Ze(n,d);H0(e,ue(v))&&(c=xp(t,c,v,h,s,l,a))}),r.foreach((d,h)=>{const v=Ze(n,d);H0(e,ue(v))||(c=xp(t,c,v,h,s,l,a))}),c}function $0(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function Ap(t,e,n,r,s,l,a,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let d=e,h;de(n)?h=r:h=new Le(null).setTree(n,r);const v=e.serverCache.getNode();return h.children.inorderTraversal((m,y)=>{if(v.hasChild(m)){const R=e.serverCache.getNode().getImmediateChild(m),x=$0(t,R,y);d=kc(t,d,new Re(m),x,s,l,a,c)}}),h.children.inorderTraversal((m,y)=>{const R=!e.serverCache.isCompleteForChild(m)&&y.value===null;if(!v.hasChild(m)&&!R){const x=e.serverCache.getNode().getImmediateChild(m),D=$0(t,x,y);d=kc(t,d,new Re(m),D,s,l,a,c)}}),d}function yb(t,e,n,r,s,l,a){if(Tc(s,n)!=null)return e;const c=e.serverCache.isFiltered(),d=e.serverCache;if(r.value!=null){if(de(n)&&d.isFullyInitialized()||d.isCompleteForPath(n))return kc(t,e,n,d.getNode().getChild(n),s,l,c,a);if(de(n)){let h=new Le(null);return d.getNode().forEachChild(zs,(v,m)=>{h=h.set(new Re(v),m)}),Ap(t,e,n,h,s,l,c,a)}else return e}else{let h=new Le(null);return r.foreach((v,m)=>{const y=Ze(n,v);d.isCompleteForPath(y)&&(h=h.set(v,d.getNode().getChild(y)))}),Ap(t,e,n,h,s,l,c,a)}}function wb(t,e,n,r,s){const l=e.serverCache,a=ES(e,l.getNode(),l.isFullyInitialized()||de(n),l.isFiltered());return NS(t,a,n,r,RS,s)}function Eb(t,e,n,r,s,l){let a;if(Tc(r,n)!=null)return e;{const c=new Xg(r,e,s),d=e.eventCache.getNode();let h;if(de(n)||ue(n)===".priority"){let v;if(e.serverCache.isFullyInitialized())v=Ic(r,Ki(e));else{const m=e.serverCache.getNode();U(m instanceof Z,"serverChildren would be complete if leaf node"),v=qg(r,m)}v=v,h=t.filter.updateFullNode(d,v,l)}else{const v=ue(n);let m=Qg(r,v,e.serverCache);m==null&&e.serverCache.isCompleteForChild(v)&&(m=d.getImmediateChild(v)),m!=null?h=t.filter.updateChild(d,v,m,xe(n),c,l):e.eventCache.getNode().hasChild(v)?h=t.filter.updateChild(d,v,Z.EMPTY_NODE,xe(n),c,l):h=d,h.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=Ic(r,Ki(e)),a.isLeafNode()&&(h=t.filter.updateFullNode(h,a,l)))}return a=e.serverCache.isFullyInitialized()||Tc(r,ve())!=null,_l(e,h,a,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new Gg(r.getIndex()),l=B2(r);this.processor_=pb(l);const a=n.serverCache,c=n.eventCache,d=s.updateFullNode(Z.EMPTY_NODE,a.getNode(),null),h=l.updateFullNode(Z.EMPTY_NODE,c.getNode(),null),v=new ui(d,a.isFullyInitialized(),s.filtersNodes()),m=new ui(h,c.isFullyInitialized(),l.filtersNodes());this.viewCache_=ef(m,v),this.eventGenerator_=new Y2(this.query_)}get query(){return this.query_}}function Cb(t){return t.viewCache_.serverCache.getNode()}function Ib(t){return Cc(t.viewCache_)}function Tb(t,e){const n=Ki(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!de(e)&&!n.getImmediateChild(ue(e)).isEmpty())?n.getChild(e):null}function V0(t){return t.eventRegistrations_.length===0}function kb(t,e){t.eventRegistrations_.push(e)}function G0(t,e,n){const r=[];if(n){U(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(l=>{const a=l.createCancelEvent(n,s);a&&r.push(a)})}if(e){let s=[];for(let l=0;l<t.eventRegistrations_.length;++l){const a=t.eventRegistrations_[l];if(!a.matches(e))s.push(a);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(l+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function j0(t,e,n,r){e.type===xn.MERGE&&e.source.queryId!==null&&(U(Ki(t.viewCache_),"We should always have a full cache before handling merges"),U(Cc(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,l=_b(t.processor_,s,e,n,r);return gb(t.processor_,l.viewCache),U(l.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=l.viewCache,xS(t,l.changes,l.viewCache.eventCache.getNode(),null)}function Rb(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild($e,(l,a)=>{r.push(Zs(l,a))}),n.isFullyInitialized()&&r.push(vS(n.getNode())),xS(t,r,n.getNode(),e)}function xS(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return q2(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rc;class AS{constructor(){this.views=new Map}}function Nb(t){U(!Rc,"__referenceConstructor has already been defined"),Rc=t}function xb(){return U(Rc,"Reference.ts has not been loaded"),Rc}function Ab(t){return t.views.size===0}function Jg(t,e,n,r){const s=e.source.queryId;if(s!==null){const l=t.views.get(s);return U(l!=null,"SyncTree gave us an op for an invalid query."),j0(l,e,n,r)}else{let l=[];for(const a of t.views.values())l=l.concat(j0(a,e,n,r));return l}}function PS(t,e,n,r,s){const l=e._queryIdentifier,a=t.views.get(l);if(!a){let c=Ic(n,s?r:null),d=!1;c?d=!0:r instanceof Z?(c=qg(n,r),d=!1):(c=Z.EMPTY_NODE,d=!1);const h=ef(new ui(c,d,!1),new ui(r,s,!1));return new Sb(e,h)}return a}function Pb(t,e,n,r,s,l){const a=PS(t,e,r,s,l);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),kb(a,n),Rb(a,n)}function Ob(t,e,n,r){const s=e._queryIdentifier,l=[];let a=[];const c=ci(t);if(s==="default")for(const[d,h]of t.views.entries())a=a.concat(G0(h,n,r)),V0(h)&&(t.views.delete(d),h.query._queryParams.loadsAllData()||l.push(h.query));else{const d=t.views.get(s);d&&(a=a.concat(G0(d,n,r)),V0(d)&&(t.views.delete(s),d.query._queryParams.loadsAllData()||l.push(d.query)))}return c&&!ci(t)&&l.push(new(xb())(e._repo,e._path)),{removed:l,events:a}}function OS(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ii(t,e){let n=null;for(const r of t.views.values())n=n||Tb(r,e);return n}function LS(t,e){if(e._queryParams.loadsAllData())return nf(t);{const r=e._queryIdentifier;return t.views.get(r)}}function DS(t,e){return LS(t,e)!=null}function ci(t){return nf(t)!=null}function nf(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nc;function Lb(t){U(!Nc,"__referenceConstructor has already been defined"),Nc=t}function Db(){return U(Nc,"Reference.ts has not been loaded"),Nc}let Mb=1;class K0{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Le(null),this.pendingWriteTree_=cb(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function MS(t,e,n,r,s){return Z2(t.pendingWriteTree_,e,n,r,s),s?la(t,new ji(wS(),e,n)):[]}function Li(t,e,n=!1){const r=eb(t.pendingWriteTree_,e);if(tb(t.pendingWriteTree_,e)){let l=new Le(null);return r.snap!=null?l=l.set(ve(),!0):Bt(r.children,a=>{l=l.set(new Re(a),!0)}),la(t,new Sc(r.path,l,n))}else return[]}function oa(t,e,n){return la(t,new ji(Kg(),e,n))}function bb(t,e,n){const r=Le.fromObject(n);return la(t,new Gl(Kg(),e,r))}function Fb(t,e){return la(t,new Vl(Kg(),e))}function Ub(t,e,n){const r=e_(t,n);if(r){const s=t_(r),l=s.path,a=s.queryId,c=kt(l,e),d=new Vl(Yg(a),c);return n_(t,l,d)}else return[]}function xc(t,e,n,r,s=!1){const l=e._path,a=t.syncPointTree_.get(l);let c=[];if(a&&(e._queryIdentifier==="default"||DS(a,e))){const d=Ob(a,e,n,r);Ab(a)&&(t.syncPointTree_=t.syncPointTree_.remove(l));const h=d.removed;if(c=d.events,!s){const v=h.findIndex(y=>y._queryParams.loadsAllData())!==-1,m=t.syncPointTree_.findOnPath(l,(y,R)=>ci(R));if(v&&!m){const y=t.syncPointTree_.subtree(l);if(!y.isEmpty()){const R=Bb(y);for(let x=0;x<R.length;++x){const D=R[x],j=D.query,C=WS(t,D);t.listenProvider_.startListening(vl(j),jl(t,j),C.hashFn,C.onComplete)}}}!m&&h.length>0&&!r&&(v?t.listenProvider_.stopListening(vl(e),null):h.forEach(y=>{const R=t.queryToTagMap.get(rf(y));t.listenProvider_.stopListening(vl(y),R)}))}Hb(t,h)}return c}function bS(t,e,n,r){const s=e_(t,r);if(s!=null){const l=t_(s),a=l.path,c=l.queryId,d=kt(a,e),h=new ji(Yg(c),d,n);return n_(t,a,h)}else return[]}function Wb(t,e,n,r){const s=e_(t,r);if(s){const l=t_(s),a=l.path,c=l.queryId,d=kt(a,e),h=Le.fromObject(n),v=new Gl(Yg(c),d,h);return n_(t,a,v)}else return[]}function Pp(t,e,n,r=!1){const s=e._path;let l=null,a=!1;t.syncPointTree_.foreachOnPath(s,(y,R)=>{const x=kt(y,s);l=l||ii(R,x),a=a||ci(R)});let c=t.syncPointTree_.get(s);c?(a=a||ci(c),l=l||ii(c,ve())):(c=new AS,t.syncPointTree_=t.syncPointTree_.set(s,c));let d;l!=null?d=!0:(d=!1,l=Z.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((R,x)=>{const D=ii(x,ve());D&&(l=l.updateImmediateChild(R,D))}));const h=DS(c,e);if(!h&&!e._queryParams.loadsAllData()){const y=rf(e);U(!t.queryToTagMap.has(y),"View does not exist, but we have a tag");const R=$b();t.queryToTagMap.set(y,R),t.tagToQueryMap.set(R,y)}const v=tf(t.pendingWriteTree_,s);let m=Pb(c,e,n,v,l,d);if(!h&&!a&&!r){const y=LS(c,e);m=m.concat(Vb(t,e,y))}return m}function Zg(t,e,n){const s=t.pendingWriteTree_,l=t.syncPointTree_.findOnPath(e,(a,c)=>{const d=kt(a,e),h=ii(c,d);if(h)return h});return IS(s,e,l,n,!0)}function zb(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(h,v)=>{const m=kt(h,n);r=r||ii(v,m)});let s=t.syncPointTree_.get(n);s?r=r||ii(s,ve()):(s=new AS,t.syncPointTree_=t.syncPointTree_.set(n,s));const l=r!=null,a=l?new ui(r,!0,!1):null,c=tf(t.pendingWriteTree_,e._path),d=PS(s,e,c,l?a.getNode():Z.EMPTY_NODE,l);return Ib(d)}function la(t,e){return FS(e,t.syncPointTree_,null,tf(t.pendingWriteTree_,ve()))}function FS(t,e,n,r){if(de(t.path))return US(t,e,n,r);{const s=e.get(ve());n==null&&s!=null&&(n=ii(s,ve()));let l=[];const a=ue(t.path),c=t.operationForChild(a),d=e.children.get(a);if(d&&c){const h=n?n.getImmediateChild(a):null,v=TS(r,a);l=l.concat(FS(c,d,h,v))}return s&&(l=l.concat(Jg(s,t,r,n))),l}}function US(t,e,n,r){const s=e.get(ve());n==null&&s!=null&&(n=ii(s,ve()));let l=[];return e.children.inorderTraversal((a,c)=>{const d=n?n.getImmediateChild(a):null,h=TS(r,a),v=t.operationForChild(a);v&&(l=l.concat(US(v,c,d,h)))}),s&&(l=l.concat(Jg(s,t,r,n))),l}function WS(t,e){const n=e.query,r=jl(t,n);return{hashFn:()=>(Cb(e)||Z.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?Ub(t,n._path,r):Fb(t,n._path);{const l=zM(s,n);return xc(t,n,null,l)}}}}function jl(t,e){const n=rf(e);return t.queryToTagMap.get(n)}function rf(t){return t._path.toString()+"$"+t._queryIdentifier}function e_(t,e){return t.tagToQueryMap.get(e)}function t_(t){const e=t.indexOf("$");return U(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Re(t.substr(0,e))}}function n_(t,e,n){const r=t.syncPointTree_.get(e);U(r,"Missing sync point for query tag that we're tracking");const s=tf(t.pendingWriteTree_,e);return Jg(r,n,s,null)}function Bb(t){return t.fold((e,n,r)=>{if(n&&ci(n))return[nf(n)];{let s=[];return n&&(s=OS(n)),Bt(r,(l,a)=>{s=s.concat(a)}),s}})}function vl(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Db())(t._repo,t._path):t}function Hb(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=rf(r),l=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(l)}}}function $b(){return Mb++}function Vb(t,e,n){const r=e._path,s=jl(t,e),l=WS(t,n),a=t.listenProvider_.startListening(vl(e),s,l.hashFn,l.onComplete),c=t.syncPointTree_.subtree(r);if(s)U(!ci(c.value),"If we're adding a query, it shouldn't be shadowed");else{const d=c.fold((h,v,m)=>{if(!de(h)&&v&&ci(v))return[nf(v).query];{let y=[];return v&&(y=y.concat(OS(v).map(R=>R.query))),Bt(m,(R,x)=>{y=y.concat(x)}),y}});for(let h=0;h<d.length;++h){const v=d[h];t.listenProvider_.stopListening(vl(v),jl(t,v))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new r_(n)}node(){return this.node_}}class i_{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ze(this.path_,e);return new i_(this.syncTree_,n)}node(){return Zg(this.syncTree_,this.path_)}}const Gb=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Y0=function(t,e,n){if(!t||typeof t!="object")return t;if(U(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return jb(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Kb(t[".sv"],e);U(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},jb=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:U(!1,"Unexpected server value: "+t)}},Kb=function(t,e,n){t.hasOwnProperty("increment")||U(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&U(!1,"Unexpected increment value: "+r);const s=e.node();if(U(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const a=s.getValue();return typeof a!="number"?r:a+r},Yb=function(t,e,n,r){return s_(e,new i_(n,t),r)},zS=function(t,e,n){return s_(t,new r_(e),n)};function s_(t,e,n){const r=t.getPriority().val(),s=Y0(r,e.getImmediateChild(".priority"),n);let l;if(t.isLeafNode()){const a=t,c=Y0(a.getValue(),e,n);return c!==a.getValue()||s!==a.getPriority().val()?new nt(c,st(s)):t}else{const a=t;return l=a,s!==a.getPriority().val()&&(l=l.updatePriority(new nt(s))),a.forEachChild($e,(c,d)=>{const h=s_(d,e.getImmediateChild(c),n);h!==d&&(l=l.updateImmediateChild(c,h))}),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function l_(t,e){let n=e instanceof Re?e:new Re(e),r=t,s=ue(n);for(;s!==null;){const l=Qs(r.node.children,s)||{children:{},childCount:0};r=new o_(s,r,l),n=xe(n),s=ue(n)}return r}function co(t){return t.node.value}function BS(t,e){t.node.value=e,Op(t)}function HS(t){return t.node.childCount>0}function qb(t){return co(t)===void 0&&!HS(t)}function sf(t,e){Bt(t.node.children,(n,r)=>{e(new o_(n,t,r))})}function $S(t,e,n,r){n&&!r&&e(t),sf(t,s=>{$S(s,e,!0,r)}),n&&r&&e(t)}function Qb(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function aa(t){return new Re(t.parent===null?t.name:aa(t.parent)+"/"+t.name)}function Op(t){t.parent!==null&&Xb(t.parent,t.name,t)}function Xb(t,e,n){const r=qb(n),s=Cr(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,Op(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Op(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=/[\[\].#$\/\u0000-\u001F\u007F]/,Zb=/[\[\].#$\u0000-\u001F\u007F]/,mh=10*1024*1024,VS=function(t){return typeof t=="string"&&t.length!==0&&!Jb.test(t)},GS=function(t){return typeof t=="string"&&t.length!==0&&!Zb.test(t)},eF=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),GS(t)},jS=function(t,e,n,r){r&&e===void 0||a_(Dg(t,"value"),e,n)},a_=function(t,e,n){const r=n instanceof Re?new y2(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ni(r));if(typeof e=="function")throw new Error(t+"contains a function "+Ni(r)+" with contents = "+e.toString());if(H1(e))throw new Error(t+"contains "+e.toString()+" "+Ni(r));if(typeof e=="string"&&e.length>mh/3&&Jc(e)>mh)throw new Error(t+"contains a string greater than "+mh+" utf8 bytes "+Ni(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,l=!1;if(Bt(e,(a,c)=>{if(a===".value")s=!0;else if(a!==".priority"&&a!==".sv"&&(l=!0,!VS(a)))throw new Error(t+" contains an invalid key ("+a+") "+Ni(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);w2(r,a),a_(t,c,r),E2(r)}),s&&l)throw new Error(t+' contains ".value" child '+Ni(r)+" in addition to actual children.")}},KS=function(t,e,n,r){if(!(r&&n===void 0)&&!GS(n))throw new Error(Dg(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},tF=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),KS(t,e,n,r)},u_=function(t,e){if(ue(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},nF=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!VS(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!eF(n))throw new Error(Dg(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function c_(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],l=s.getPath();n!==null&&!Hg(l,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:l}),n.events.push(s)}n&&t.eventLists_.push(n)}function YS(t,e,n){c_(t,n),qS(t,r=>Hg(r,e))}function Yn(t,e,n){c_(t,n),qS(t,r=>Nn(r,e)||Nn(e,r))}function qS(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const l=s.path;e(l)?(iF(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function iF(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();bi&&vt("event: "+n.toString()),uo(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sF="repo_interrupt",oF=25;class lF{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new rF,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ec(),this.transactionQueueTree_=new o_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function aF(t,e,n){if(t.stats_=zg(t.repoInfo_),t.forceRestClient_||VM())t.server_=new wc(t.repoInfo_,(r,s,l,a)=>{q0(t,r,s,l,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Q0(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Je(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new gr(t.repoInfo_,e,(r,s,l,a)=>{q0(t,r,s,l,a)},r=>{Q0(t,r)},r=>{uF(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=qM(t.repoInfo_,()=>new K2(t.stats_,t.server_)),t.infoData_=new H2,t.infoSyncTree_=new K0({startListening:(r,s,l,a)=>{let c=[];const d=t.infoData_.getNode(r._path);return d.isEmpty()||(c=oa(t.infoSyncTree_,r._path,d),setTimeout(()=>{a("ok")},0)),c},stopListening:()=>{}}),d_(t,"connected",!1),t.serverSyncTree_=new K0({startListening:(r,s,l,a)=>(t.server_.listen(r,l,s,(c,d)=>{const h=a(c,d);Yn(t.eventQueue_,r._path,h)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function QS(t){const n=t.infoData_.getNode(new Re(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function f_(t){return Gb({timestamp:QS(t)})}function q0(t,e,n,r,s){t.dataUpdateCount++;const l=new Re(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let a=[];if(s)if(r){const d=pc(n,h=>st(h));a=Wb(t.serverSyncTree_,l,d,s)}else{const d=st(n);a=bS(t.serverSyncTree_,l,d,s)}else if(r){const d=pc(n,h=>st(h));a=bb(t.serverSyncTree_,l,d)}else{const d=st(n);a=oa(t.serverSyncTree_,l,d)}let c=l;a.length>0&&(c=lf(t,l)),Yn(t.eventQueue_,c,a)}function Q0(t,e){d_(t,"connected",e),e===!1&&dF(t)}function uF(t,e){Bt(e,(n,r)=>{d_(t,n,r)})}function d_(t,e,n){const r=new Re("/.info/"+e),s=st(n);t.infoData_.updateSnapshot(r,s);const l=oa(t.infoSyncTree_,r,s);Yn(t.eventQueue_,r,l)}function XS(t){return t.nextWriteId_++}function cF(t,e,n){const r=zb(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(s=>{const l=st(s).withIndex(e._queryParams.getIndex());Pp(t.serverSyncTree_,e,n,!0);let a;if(e._queryParams.loadsAllData())a=oa(t.serverSyncTree_,e._path,l);else{const c=jl(t.serverSyncTree_,e);a=bS(t.serverSyncTree_,e._path,l,c)}return Yn(t.eventQueue_,e._path,a),xc(t.serverSyncTree_,e,n,null,!0),l},s=>(of(t,"get for query "+Je(e)+" failed: "+s),Promise.reject(new Error(s))))}function fF(t,e,n,r,s){of(t,"set",{path:e.toString(),value:n,priority:r});const l=f_(t),a=st(n,r),c=Zg(t.serverSyncTree_,e),d=zS(a,c,l),h=XS(t),v=MS(t.serverSyncTree_,e,d,h,!0);c_(t.eventQueue_,v),t.server_.put(e.toString(),a.val(!0),(y,R)=>{const x=y==="ok";x||zt("set at "+e+" failed: "+y);const D=Li(t.serverSyncTree_,h,!x);Yn(t.eventQueue_,e,D),gF(t,s,y,R)});const m=nC(t,e);lf(t,m),Yn(t.eventQueue_,m,[])}function dF(t){of(t,"onDisconnectEvents");const e=f_(t),n=Ec();kp(t.onDisconnect_,ve(),(s,l)=>{const a=Yb(s,l,t.serverSyncTree_,e);yS(n,s,a)});let r=[];kp(n,ve(),(s,l)=>{r=r.concat(oa(t.serverSyncTree_,s,l));const a=nC(t,s);lf(t,a)}),t.onDisconnect_=Ec(),Yn(t.eventQueue_,ve(),r)}function hF(t,e,n){let r;ue(e._path)===".info"?r=Pp(t.infoSyncTree_,e,n):r=Pp(t.serverSyncTree_,e,n),YS(t.eventQueue_,e._path,r)}function Lp(t,e,n){let r;ue(e._path)===".info"?r=xc(t.infoSyncTree_,e,n):r=xc(t.serverSyncTree_,e,n),YS(t.eventQueue_,e._path,r)}function pF(t){t.persistentConnection_&&t.persistentConnection_.interrupt(sF)}function of(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),vt(n,...e)}function gF(t,e,n,r){e&&uo(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let l=s;r&&(l+=": "+r);const a=new Error(l);a.code=s,e(a)}})}function JS(t,e,n){return Zg(t.serverSyncTree_,e,n)||Z.EMPTY_NODE}function h_(t,e=t.transactionQueueTree_){if(e||af(t,e),co(e)){const n=eC(t,e);U(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&_F(t,aa(e),n)}else HS(e)&&sf(e,n=>{h_(t,n)})}function _F(t,e,n){const r=n.map(h=>h.currentWriteId),s=JS(t,e,r);let l=s;const a=s.hash();for(let h=0;h<n.length;h++){const v=n[h];U(v.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),v.status=1,v.retryCount++;const m=kt(e,v.path);l=l.updateChild(m,v.currentOutputSnapshotRaw)}const c=l.val(!0),d=e;t.server_.put(d.toString(),c,h=>{of(t,"transaction put response",{path:d.toString(),status:h});let v=[];if(h==="ok"){const m=[];for(let y=0;y<n.length;y++)n[y].status=2,v=v.concat(Li(t.serverSyncTree_,n[y].currentWriteId)),n[y].onComplete&&m.push(()=>n[y].onComplete(null,!0,n[y].currentOutputSnapshotResolved)),n[y].unwatcher();af(t,l_(t.transactionQueueTree_,e)),h_(t,t.transactionQueueTree_),Yn(t.eventQueue_,e,v);for(let y=0;y<m.length;y++)uo(m[y])}else{if(h==="datastale")for(let m=0;m<n.length;m++)n[m].status===3?n[m].status=4:n[m].status=0;else{zt("transaction at "+d.toString()+" failed: "+h);for(let m=0;m<n.length;m++)n[m].status=4,n[m].abortReason=h}lf(t,e)}},a)}function lf(t,e){const n=ZS(t,e),r=aa(n),s=eC(t,n);return mF(t,s,r),r}function mF(t,e,n){if(e.length===0)return;const r=[];let s=[];const a=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const d=e[c],h=kt(n,d.path);let v=!1,m;if(U(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)v=!0,m=d.abortReason,s=s.concat(Li(t.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=oF)v=!0,m="maxretry",s=s.concat(Li(t.serverSyncTree_,d.currentWriteId,!0));else{const y=JS(t,d.path,a);d.currentInputSnapshot=y;const R=e[c].update(y.val());if(R!==void 0){a_("transaction failed: Data returned ",R,d.path);let x=st(R);typeof R=="object"&&R!=null&&Cr(R,".priority")||(x=x.updatePriority(y.getPriority()));const j=d.currentWriteId,C=f_(t),E=zS(x,y,C);d.currentOutputSnapshotRaw=x,d.currentOutputSnapshotResolved=E,d.currentWriteId=XS(t),a.splice(a.indexOf(j),1),s=s.concat(MS(t.serverSyncTree_,d.path,E,d.currentWriteId,d.applyLocally)),s=s.concat(Li(t.serverSyncTree_,j,!0))}else v=!0,m="nodata",s=s.concat(Li(t.serverSyncTree_,d.currentWriteId,!0))}Yn(t.eventQueue_,n,s),s=[],v&&(e[c].status=2,function(y){setTimeout(y,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(m==="nodata"?r.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):r.push(()=>e[c].onComplete(new Error(m),!1,null))))}af(t,t.transactionQueueTree_);for(let c=0;c<r.length;c++)uo(r[c]);h_(t,t.transactionQueueTree_)}function ZS(t,e){let n,r=t.transactionQueueTree_;for(n=ue(e);n!==null&&co(r)===void 0;)r=l_(r,n),e=xe(e),n=ue(e);return r}function eC(t,e){const n=[];return tC(t,e,n),n.sort((r,s)=>r.order-s.order),n}function tC(t,e,n){const r=co(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);sf(e,s=>{tC(t,s,n)})}function af(t,e){const n=co(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,BS(e,n.length>0?n:void 0)}sf(e,r=>{af(t,r)})}function nC(t,e){const n=aa(ZS(t,e)),r=l_(t.transactionQueueTree_,e);return Qb(r,s=>{vh(t,s)}),vh(t,r),$S(r,s=>{vh(t,s)}),n}function vh(t,e){const n=co(e);if(n){const r=[];let s=[],l=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(U(l===a-1,"All SENT items should be at beginning of queue."),l=a,n[a].status=3,n[a].abortReason="set"):(U(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),s=s.concat(Li(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));l===-1?BS(e,void 0):n.length=l+1,Yn(t.eventQueue_,aa(e),s);for(let a=0;a<r.length;a++)uo(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vF(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function yF(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):zt(`Invalid query segment '${n}' in query '${t}'`)}return e}const X0=function(t,e){const n=wF(t),r=n.namespace;n.domain==="firebase.com"&&wr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&wr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||MM();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new eS(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new Re(n.pathString)}},wF=function(t){let e="",n="",r="",s="",l="",a=!0,c="https",d=443;if(typeof t=="string"){let h=t.indexOf("//");h>=0&&(c=t.substring(0,h-1),t=t.substring(h+2));let v=t.indexOf("/");v===-1&&(v=t.length);let m=t.indexOf("?");m===-1&&(m=t.length),e=t.substring(0,Math.min(v,m)),v<m&&(s=vF(t.substring(v,m)));const y=yF(t.substring(Math.min(t.length,m)));h=e.indexOf(":"),h>=0?(a=c==="https"||c==="wss",d=parseInt(e.substring(h+1),10)):h=e.length;const R=e.slice(0,h);if(R.toLowerCase()==="localhost")n="localhost";else if(R.split(".").length<=2)n=R;else{const x=e.indexOf(".");r=e.substring(0,x).toLowerCase(),n=e.substring(x+1),l=r}"ns"in y&&(l=y.ns)}return{host:e,port:d,domain:n,subdomain:r,secure:a,scheme:c,pathString:s,namespace:l}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",EF=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let s;const l=new Array(8);for(s=7;s>=0;s--)l[s]=J0.charAt(n%64),n=Math.floor(n/64);U(n===0,"Cannot push at time == 0");let a=l.join("");if(r){for(s=11;s>=0&&e[s]===63;s--)e[s]=0;e[s]++}else for(s=0;s<12;s++)e[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)a+=J0.charAt(e[s]);return U(a.length===20,"nextPushId: Length should be 20."),a}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Je(this.snapshot.exportVal())}}class iC{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return U(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return de(this._path)?null:uS(this._path)}get ref(){return new qn(this._repo,this._path)}get _queryIdentifier(){const e=b0(this._queryParams),n=Ug(e);return n==="{}"?"default":n}get _queryObject(){return b0(this._queryParams)}isEqual(e){if(e=dt(e),!(e instanceof g_))return!1;const n=this._repo===e._repo,r=Hg(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+v2(this._path)}}class qn extends g_{constructor(e,n){super(e,n,new jg,!1)}get parent(){const e=fS(this._path);return e===null?null:new qn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class to{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Re(e),r=no(this.ref,e);return new to(this._node.getChild(n),r,$e)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new to(s,no(this.ref,r),$e)))}hasChild(e){const n=new Re(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function sC(t,e){return t=dt(t),t._checkNotDeleted("ref"),e!==void 0?no(t._root,e):t._root}function no(t,e){return t=dt(t),ue(t._path)===null?tF("child","path",e,!1):KS("child","path",e,!1),new qn(t._repo,Ze(t._path,e))}function SF(t,e){t=dt(t),u_("push",t._path),jS("push",e,t._path,!0);const n=QS(t._repo),r=EF(n),s=no(t,r),l=no(t,r);let a;return e!=null?a=uf(l,e).then(()=>l):a=Promise.resolve(l),s.then=a.then.bind(a),s.catch=a.then.bind(a,void 0),s}function CF(t){return u_("remove",t._path),uf(t,null)}function uf(t,e){t=dt(t),u_("set",t._path),jS("set",e,t._path,!1);const n=new Xc;return fF(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function IF(t){t=dt(t);const e=new p_(()=>{}),n=new ua(e);return cF(t._repo,t,n).then(r=>new to(r,new qn(t._repo,t._path),t._queryParams.getIndex()))}class ua{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new rC("value",this,new to(e.snapshotNode,new qn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new iC(this,e,n):null}matches(e){return e instanceof ua?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class cf{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new iC(this,e,n):null}createEvent(e,n){U(e.childName!=null,"Child events should have a childName.");const r=no(new qn(n._repo,n._path),e.childName),s=n._queryParams.getIndex();return new rC(e.type,this,new to(e.snapshotNode,r,s),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof cf?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function TF(t,e,n,r,s){let l;if(typeof r=="object"&&(l=void 0,s=r),typeof r=="function"&&(l=r),s&&s.onlyOnce){const d=n,h=(v,m)=>{Lp(t._repo,t,c),d(v,m)};h.userCallback=n.userCallback,h.context=n.context,n=h}const a=new p_(n,l||void 0),c=e==="value"?new ua(a):new cf(e,a);return hF(t._repo,t,c),()=>Lp(t._repo,t,c)}function kF(t,e,n,r){return TF(t,"value",e,n,r)}function RF(t,e,n){let r=null;const s=n?new p_(n):null;e==="value"?r=new ua(s):e&&(r=new cf(e,s)),Lp(t._repo,t,r)}Nb(qn);Lb(qn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NF="FIREBASE_DATABASE_EMULATOR_HOST",Dp={};let xF=!1;function AF(t,e,n,r){t.repoInfo_=new eS(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function PF(t,e,n,r,s){let l=r||t.options.databaseURL;l===void 0&&(t.options.projectId||wr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),vt("Using default host for project ",t.options.projectId),l=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=X0(l,s),c=a.repoInfo,d,h;typeof process<"u"&&process.env&&(h=process.env[NF]),h?(d=!0,l=`http://${h}?ns=${c.namespace}`,a=X0(l,s),c=a.repoInfo):d=!a.repoInfo.secure;const v=s&&d?new Ws(Ws.OWNER):new jM(t.name,t.options,e);nF("Invalid Firebase Database URL",a),de(a.path)||wr("Database URL must point to the root of a Firebase Database (not including a child path).");const m=LF(c,t,v,new GM(t.name,n));return new DF(m,t)}function OF(t,e){const n=Dp[e];(!n||n[t.key]!==t)&&wr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),pF(t),delete n[t.key]}function LF(t,e,n,r){let s=Dp[e.name];s||(s={},Dp[e.name]=s);let l=s[t.toURLString()];return l&&wr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new lF(t,xF,n,r),s[t.toURLString()]=l,l}class DF{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(aF(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new qn(this._repo,ve())),this._rootInternal}_delete(){return this._rootInternal!==null&&(OF(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&wr("Cannot call "+e+" on a deleted database.")}}function MF(t=b1(),e){const n=Fg(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=oD("database");r&&bF(n,...r)}return n}function bF(t,e,n,r={}){t=dt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&wr("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let l;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&wr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new Ws(Ws.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:aD(r.mockUserToken,t.app.options.projectId);l=new Ws(a)}AF(s,e,n,l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FF(t){AM(na),Xs(new $i("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),l=e.getProvider("app-check-internal");return PF(r,s,l,n)},"PUBLIC").setMultipleInstances(!0)),ni(y0,w0,t),ni(y0,w0,"esm2017")}gr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};gr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};FF();function __(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function oC(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UF=oC,lC=new ta("auth","Firebase",oC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=new Mg("@firebase/auth");function Uu(t,...e){Z0.logLevel<=ke.ERROR&&Z0.error(`Auth (${na}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(t,...e){throw m_(t,...e)}function jn(t,...e){return m_(t,...e)}function WF(t,e,n){const r=Object.assign(Object.assign({},UF()),{[e]:n});return new ta("auth","Firebase",r).create(e,{appName:t.name})}function m_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return lC.create(t,...e)}function Q(t,e,...n){if(!t)throw m_(e,...n)}function dr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Uu(e),new Error(e)}function Er(t,e){t||dr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=new Map;function hr(t){Er(t instanceof Function,"Expected a class definition");let e=ew.get(t);return e?(Er(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ew.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zF(t,e){const n=Fg(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),l=n.getOptions();if(gc(l,e??{}))return s;Dn(s,"already-initialized")}return n.initialize({options:e})}function BF(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(hr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function HF(){return tw()==="http:"||tw()==="https:"}function tw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $F(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HF()||uD()||"connection"in navigator)?navigator.onLine:!0}function VF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n){this.shortDelay=e,this.longDelay=n,Er(n>e,"Short delay should be less than long delay!"),this.isMobile=Lg()||A1()}get(){return $F()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(t,e){Er(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF=new ca(3e4,6e4);function fo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ho(t,e,n,r,s={}){return uC(t,s,async()=>{let l={},a={};r&&(e==="GET"?a=r:l={body:JSON.stringify(r)});const c=lo(Object.assign({key:t.config.apiKey},a)).slice(1),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode),aC.fetch()(cC(t,t.config.apiHost,n,c),Object.assign({method:e,headers:d,referrerPolicy:"no-referrer"},l))})}async function uC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},GF),e);try{const s=new KF(t),l=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await l.json();if("needConfirmation"in a)throw Tu(t,"account-exists-with-different-credential",a);if(l.ok&&!("errorMessage"in a))return a;{const c=l.ok?a.errorMessage:a.error.message,[d,h]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tu(t,"credential-already-in-use",a);if(d==="EMAIL_EXISTS")throw Tu(t,"email-already-in-use",a);if(d==="USER_DISABLED")throw Tu(t,"user-disabled",a);const v=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw WF(t,v,h);Dn(t,v)}}catch(s){if(s instanceof pi)throw s;Dn(t,"network-request-failed",{message:String(s)})}}async function fa(t,e,n,r,s={}){const l=await ho(t,e,n,r,s);return"mfaPendingCredential"in l&&Dn(t,"multi-factor-auth-required",{_serverResponse:l}),l}function cC(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?v_(t.config,s):`${t.config.apiScheme}://${s}`}class KF{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(jn(this.auth,"network-request-failed")),jF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Tu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=jn(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YF(t,e){return ho(t,"POST","/v1/accounts:delete",e)}async function qF(t,e){return ho(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QF(t,e=!1){const n=dt(t),r=await n.getIdToken(e),s=y_(r);Q(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const l=typeof s.firebase=="object"?s.firebase:void 0,a=l==null?void 0:l.sign_in_provider;return{claims:s,token:r,authTime:yl(yh(s.auth_time)),issuedAtTime:yl(yh(s.iat)),expirationTime:yl(yh(s.exp)),signInProvider:a||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function yh(t){return Number(t)*1e3}function y_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Uu("JWT malformed, contained fewer than 3 sections"),null;try{const s=hc(n);return s?JSON.parse(s):(Uu("Failed to decode base64 JWT payload"),null)}catch(s){return Uu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function XF(t){const e=y_(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof pi&&JF(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function JF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yl(this.lastLoginAt),this.creationTime=yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ac(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Kl(t,qF(n,{idToken:r}));Q(s==null?void 0:s.users.length,n,"internal-error");const l=s.users[0];t._notifyReloadListener(l);const a=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?nU(l.providerUserInfo):[],c=tU(t.providerData,a),d=t.isAnonymous,h=!(t.email&&l.passwordHash)&&!(c!=null&&c.length),v=d?h:!1,m={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new fC(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(t,m)}async function eU(t){const e=dt(t);await Ac(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tU(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function nU(t){return t.map(e=>{var{providerId:n}=e,r=__(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rU(t,e){const n=await uC(t,{},async()=>{const r=lo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:l}=t.config,a=cC(t,s,"/v1/token",`key=${l}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",aC.fetch()(a,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):XF(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Q(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:l}=await rU(e,n);this.updateTokensAndExpiration(r,s,Number(l))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:l}=n,a=new Yl;return r&&(Q(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(Q(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),l&&(Q(typeof l=="number","internal-error",{appName:e}),a.expirationTime=l),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yl,this.toJSON())}_performRefresh(){return dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fi{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,l=__(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ZF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new fC(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Kl(this,this.stsTokenManager.getToken(this.auth,e));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QF(this,e)}reload(){return eU(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ac(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Kl(this,YF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,l,a,c,d,h,v;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(s=n.email)!==null&&s!==void 0?s:void 0,R=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,x=(a=n.photoURL)!==null&&a!==void 0?a:void 0,D=(c=n.tenantId)!==null&&c!==void 0?c:void 0,j=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,C=(h=n.createdAt)!==null&&h!==void 0?h:void 0,E=(v=n.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:T,emailVerified:L,isAnonymous:F,providerData:H,stsTokenManager:B}=n;Q(T&&B,e,"internal-error");const G=Yl.fromJSON(this.name,B);Q(typeof T=="string",e,"internal-error"),Mr(m,e.name),Mr(y,e.name),Q(typeof L=="boolean",e,"internal-error"),Q(typeof F=="boolean",e,"internal-error"),Mr(R,e.name),Mr(x,e.name),Mr(D,e.name),Mr(j,e.name),Mr(C,e.name),Mr(E,e.name);const ye=new Fi({uid:T,auth:e,email:y,emailVerified:L,displayName:m,isAnonymous:F,photoURL:x,phoneNumber:R,tenantId:D,stsTokenManager:G,createdAt:C,lastLoginAt:E});return H&&Array.isArray(H)&&(ye.providerData=H.map(ee=>Object.assign({},ee))),j&&(ye._redirectEventId=j),ye}static async _fromIdTokenResponse(e,n,r=!1){const s=new Yl;s.updateFromServerResponse(n);const l=new Fi({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Ac(l),l}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}dC.type="NONE";const nw=dC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(t,e,n){return`firebase:${t}:${e}:${n}`}class Bs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:l}=this.auth;this.fullUserKey=Wu(this.userKey,s.apiKey,l),this.fullPersistenceKey=Wu("persistence",s.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Fi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Bs(hr(nw),e,r);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let l=s[0]||hr(nw);const a=Wu(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const v=await h._get(a);if(v){const m=Fi._fromJSON(e,v);h!==l&&(c=m),l=h;break}}catch{}const d=s.filter(h=>h._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new Bs(l,e,r):(l=d[0],c&&await l._set(a,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==l)try{await h._remove(a)}catch{}})),new Bs(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mC(e))return"Blackberry";if(vC(e))return"Webos";if(w_(e))return"Safari";if((e.includes("chrome/")||pC(e))&&!e.includes("edge/"))return"Chrome";if(_C(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function hC(t=wt()){return/firefox\//i.test(t)}function w_(t=wt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pC(t=wt()){return/crios\//i.test(t)}function gC(t=wt()){return/iemobile/i.test(t)}function _C(t=wt()){return/android/i.test(t)}function mC(t=wt()){return/blackberry/i.test(t)}function vC(t=wt()){return/webos/i.test(t)}function ff(t=wt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function iU(t=wt()){var e;return ff(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function sU(){return cD()&&document.documentMode===10}function yC(t=wt()){return ff(t)||_C(t)||vC(t)||mC(t)||/windows phone/i.test(t)||gC(t)}function oU(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(t,e=[]){let n;switch(t){case"Browser":n=rw(wt());break;case"Worker":n=`${rw(wt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${na}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=l=>new Promise((a,c)=>{try{const d=e(l);a(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iw(this),this.idTokenSubscription=new iw(this),this.beforeStateQueue=new lU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lC,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=hr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Bs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s==null?void 0:s._redirectEventId,d=await this.tryRedirectSignIn(e);(!a||a===c)&&(d!=null&&d.user)&&(s=d.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ac(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=VF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?dt(e):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(hr(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ta("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&hr(e)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=await Bs.create(this,[hr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n),a=this._isInitialized?Promise.resolve():this._initializationPromise;return Q(a,this,"internal-error"),a.then(()=>l(this.currentUser)),typeof n=="function"?e.addObserver(n,r,s):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function da(t){return dt(t)}class iw{constructor(e){this.auth=e,this.observer=null,this.addObserver=yD(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function uU(t,e,n){const r=da(t);Q(r._canInitEmulator,r,"emulator-config-failed"),Q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),l=EC(e),{host:a,port:c}=cU(e),d=c===null?"":`:${c}`;r.config.emulator={url:`${l}//${a}${d}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:c,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||fU()}function EC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function cU(t){const e=EC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const l=s[1];return{host:l,port:sw(r.substr(l.length+1))}}else{const[l,a]=r.split(":");return{host:l,port:sw(a)}}}function sw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function fU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return dr("not implemented")}_getIdTokenResponse(e){return dr("not implemented")}_linkToIdToken(e,n){return dr("not implemented")}_getReauthenticationResolver(e){return dr("not implemented")}}async function dU(t,e){return ho(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hU(t,e){return fa(t,"POST","/v1/accounts:signInWithPassword",fo(t,e))}async function pU(t,e){return ho(t,"POST","/v1/accounts:sendOobCode",fo(t,e))}async function gU(t,e){return pU(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _U(t,e){return fa(t,"POST","/v1/accounts:signInWithEmailLink",fo(t,e))}async function mU(t,e){return fa(t,"POST","/v1/accounts:signInWithEmailLink",fo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql extends E_{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new ql(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ql(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return hU(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return _U(e,{email:this._email,oobCode:this._password});default:Dn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return dU(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return mU(e,{idToken:n,email:this._email,oobCode:this._password});default:Dn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hs(t,e){return fa(t,"POST","/v1/accounts:signInWithIdp",fo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU="http://localhost";class Yi extends E_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Yi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Dn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,l=__(n,["providerId","signInMethod"]);if(!r||!s)return null;const a=new Yi(r,s);return a.idToken=l.idToken||void 0,a.accessToken=l.accessToken||void 0,a.secret=l.secret,a.nonce=l.nonce,a.pendingToken=l.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Hs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Hs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Hs(e,n)}buildRequest(){const e={requestUri:vU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=lo(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wU(t){const e=il(sl(t)).link,n=e?il(sl(e)).deep_link_id:null,r=il(sl(t)).deep_link_id;return(r?il(sl(r)).link:null)||r||n||e||t}class S_{constructor(e){var n,r,s,l,a,c;const d=il(sl(e)),h=(n=d.apiKey)!==null&&n!==void 0?n:null,v=(r=d.oobCode)!==null&&r!==void 0?r:null,m=yU((s=d.mode)!==null&&s!==void 0?s:null);Q(h&&v&&m,"argument-error"),this.apiKey=h,this.operation=m,this.code=v,this.continueUrl=(l=d.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(a=d.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=wU(e);try{return new S_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(){this.providerId=po.PROVIDER_ID}static credential(e,n){return ql._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=S_.parseLink(n);return Q(r,"argument-error"),ql._fromEmailAndCode(e,r.code,r.tenantId)}}po.PROVIDER_ID="password";po.EMAIL_PASSWORD_SIGN_IN_METHOD="password";po.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha extends SC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends ha{constructor(){super("facebook.com")}static credential(e){return Yi._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zr.credential(e.oauthAccessToken)}catch{return null}}}zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";zr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends ha{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Yi._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Br.credential(n,r)}catch{return null}}}Br.GOOGLE_SIGN_IN_METHOD="google.com";Br.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends ha{constructor(){super("github.com")}static credential(e){return Yi._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hr.credential(e.oauthAccessToken)}catch{return null}}}Hr.GITHUB_SIGN_IN_METHOD="github.com";Hr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends ha{constructor(){super("twitter.com")}static credential(e,n){return Yi._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return $r.credential(n,r)}catch{return null}}}$r.TWITTER_SIGN_IN_METHOD="twitter.com";$r.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EU(t,e){return fa(t,"POST","/v1/accounts:signUp",fo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const l=await Fi._fromIdTokenResponse(e,r,s),a=ow(r);return new qi({user:l,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=ow(r);return new qi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function ow(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc extends pi{constructor(e,n,r,s){var l;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Pc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Pc(e,n,r,s)}}function CC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Pc._fromErrorAndOperation(t,l,e,r):l})}async function SU(t,e,n=!1){const r=await Kl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return qi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CU(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const l=await Kl(t,CC(r,s,e,t),n);Q(l.idToken,r,"internal-error");const a=y_(l.idToken);Q(a,r,"internal-error");const{sub:c}=a;return Q(t.uid===c,r,"user-mismatch"),qi._forOperation(t,s,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Dn(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IC(t,e,n=!1){const r="signIn",s=await CC(t,r,e),l=await qi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(l.user),l}async function IU(t,e){return IC(da(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TU(t,e,n){var r;Q(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),Q(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Q(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Q(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kU(t,e,n){const r=dt(t),s={requestType:"PASSWORD_RESET",email:e};n&&TU(r,s,n),await gU(r,s)}async function RU(t,e,n){const r=da(t),s=await EU(r,{returnSecureToken:!0,email:e,password:n}),l=await qi._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(l.user),l}function NU(t,e,n){return IU(dt(t),po.credential(e,n))}function xU(t,e,n,r){return dt(t).onIdTokenChanged(e,n,r)}function AU(t,e,n){return dt(t).beforeAuthStateChanged(e,n)}function PU(t,e,n,r){return dt(t).onAuthStateChanged(e,n,r)}function OU(t){return dt(t).signOut()}const Oc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Oc,"1"),this.storage.removeItem(Oc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LU(){const t=wt();return w_(t)||ff(t)}const DU=1e3,MU=10;class kC extends TC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=LU()&&oU(),this.fallbackToPolling=yC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,c,d)=>{this.notifyListeners(a,d)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},l=this.storage.getItem(r);sU()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,MU):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},DU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}kC.type="LOCAL";const bU=kC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC extends TC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}RC.type="SESSION";const NC=RC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new df(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:l}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(a).map(async h=>h(n.origin,l)),d=await FU(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}df.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,a;return new Promise((c,d)=>{const h=C_("",20);s.port1.start();const v=setTimeout(()=>{d(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(m){const y=m;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),c(y.data.response);break;default:clearTimeout(v),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(){return window}function WU(t){Kn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(){return typeof Kn().WorkerGlobalScope<"u"&&typeof Kn().importScripts=="function"}async function zU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function HU(){return xC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="firebaseLocalStorageDb",$U=1,Lc="firebaseLocalStorage",PC="fbase_key";class pa{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hf(t,e){return t.transaction([Lc],e?"readwrite":"readonly").objectStore(Lc)}function VU(){const t=indexedDB.deleteDatabase(AC);return new pa(t).toPromise()}function bp(){const t=indexedDB.open(AC,$U);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Lc,{keyPath:PC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Lc)?e(r):(r.close(),await VU(),e(await bp()))})})}async function lw(t,e,n){const r=hf(t,!0).put({[PC]:e,value:n});return new pa(r).toPromise()}async function GU(t,e){const n=hf(t,!1).get(e),r=await new pa(n).toPromise();return r===void 0?null:r.value}function aw(t,e){const n=hf(t,!0).delete(e);return new pa(n).toPromise()}const jU=800,KU=3;class OC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>KU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=df._getInstance(HU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await zU(),!this.activeServiceWorker)return;this.sender=new UU(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||BU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bp();return await lw(e,Oc,"1"),await aw(e,Oc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>lw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>GU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>aw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const l=hf(s,!1).getAll();return new pa(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:l}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(l)&&(this.notifyListeners(s,l),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OC.type="LOCAL";const YU=OC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function QU(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const l=jn("internal-error");l.customData=s,n(l)},r.type="text/javascript",r.charset="UTF-8",qU().appendChild(r)})}function XU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new ca(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JU(t,e){return e?hr(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_ extends E_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Hs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Hs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ZU(t){return IC(t.auth,new I_(t),t.bypassAuthState)}function e3(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),CU(n,new I_(t),t.bypassAuthState)}async function t3(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),SU(n,new I_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,n,r,s,l=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:l,error:a,type:c}=e;if(a){this.reject(a);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZU;case"linkViaPopup":case"linkViaRedirect":return t3;case"reauthViaPopup":case"reauthViaRedirect":return e3;default:Dn(this.auth,"internal-error")}}resolve(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3=new ca(2e3,1e4);class Ps extends LC{constructor(e,n,r,s,l){super(e,n,s,l),this.provider=r,this.authWindow=null,this.pollId=null,Ps.currentPopupAction&&Ps.currentPopupAction.cancel(),Ps.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Q(e,this.auth,"internal-error"),e}async onExecution(){Er(this.filter.length===1,"Popup operations only handle one event");const e=C_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ps.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,n3.get())};e()}}Ps.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3="pendingRedirect",zu=new Map;class i3 extends LC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=zu.get(this.auth._key());if(!e){try{const r=await s3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}zu.set(this.auth._key(),e)}return this.bypassAuthState||zu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function s3(t,e){const n=a3(e),r=l3(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function o3(t,e){zu.set(t._key(),e)}function l3(t){return hr(t._redirectPersistence)}function a3(t){return Wu(r3,t.config.apiKey,t.name)}async function u3(t,e,n=!1){const r=da(t),s=JU(r,e),a=await new i3(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3=10*60*1e3;class f3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!d3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!DC(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(jn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=c3&&this.cachedEventUids.clear(),this.cachedEventUids.has(uw(e))}saveEventToCache(e){this.cachedEventUids.add(uw(e)),this.lastProcessedEventTime=Date.now()}}function uw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function DC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function d3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h3(t,e={}){return ho(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,g3=/^https?/;async function _3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await h3(t);for(const n of e)try{if(m3(n))return}catch{}Dn(t,"unauthorized-domain")}function m3(t){const e=Mp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!g3.test(n))return!1;if(p3.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3=new ca(3e4,6e4);function cw(){const t=Kn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function y3(t){return new Promise((e,n)=>{var r,s,l;function a(){cw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cw(),n(jn(t,"network-request-failed"))},timeout:v3.get()})}if(!((s=(r=Kn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((l=Kn().gapi)===null||l===void 0)&&l.load)a();else{const c=XU("iframefcb");return Kn()[c]=()=>{gapi.load?a():n(jn(t,"network-request-failed"))},QU(`https://apis.google.com/js/api.js?onload=${c}`).catch(d=>n(d))}}).catch(e=>{throw Bu=null,e})}let Bu=null;function w3(t){return Bu=Bu||y3(t),Bu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3=new ca(5e3,15e3),S3="__/auth/iframe",C3="emulator/auth/iframe",I3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},T3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function k3(t){const e=t.config;Q(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?v_(e,C3):`https://${t.config.authDomain}/${S3}`,r={apiKey:e.apiKey,appName:t.name,v:na},s=T3.get(t.config.apiHost);s&&(r.eid=s);const l=t._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${lo(r).slice(1)}`}async function R3(t){const e=await w3(t),n=Kn().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:k3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:I3,dontclear:!0},r=>new Promise(async(s,l)=>{await r.restyle({setHideOnLeave:!1});const a=jn(t,"network-request-failed"),c=Kn().setTimeout(()=>{l(a)},E3.get());function d(){Kn().clearTimeout(c),s(r)}r.ping(d).then(d,()=>{l(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},x3=500,A3=600,P3="_blank",O3="http://localhost";class fw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function L3(t,e,n,r=x3,s=A3){const l=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d=Object.assign(Object.assign({},N3),{width:r.toString(),height:s.toString(),top:l,left:a}),h=wt().toLowerCase();n&&(c=pC(h)?P3:n),hC(h)&&(e=e||O3,d.scrollbars="yes");const v=Object.entries(d).reduce((y,[R,x])=>`${y}${R}=${x},`,"");if(iU(h)&&c!=="_self")return D3(e||"",c),new fw(null);const m=window.open(e||"",c,v);Q(m,t,"popup-blocked");try{m.focus()}catch{}return new fw(m)}function D3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3="__/auth/handler",b3="emulator/auth/handler";function dw(t,e,n,r,s,l){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:na,eventId:s};if(e instanceof SC){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",_p(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(l||{}))a[d]=h}if(e instanceof ha){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const c=a;for(const d of Object.keys(c))c[d]===void 0&&delete c[d];return`${F3(t)}?${lo(c).slice(1)}`}function F3({config:t}){return t.emulator?v_(t,b3):`https://${t.authDomain}/${M3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh="webStorageSupport";class U3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NC,this._completeRedirectFn=u3,this._overrideRedirectResult=o3}async _openPopup(e,n,r,s){var l;Er((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const a=dw(e,n,r,Mp(),s);return L3(e,a,C_())}async _openRedirect(e,n,r,s){return await this._originValidation(e),WU(dw(e,n,r,Mp(),s)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:l}=this.eventManagers[n];return s?Promise.resolve(s):(Er(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await R3(e),r=new f3(e);return n.register("authEvent",s=>(Q(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wh,{type:wh},s=>{var l;const a=(l=s==null?void 0:s[0])===null||l===void 0?void 0:l[wh];a!==void 0&&n(!!a),Dn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return yC()||w_()||ff()}}const W3=U3;var hw="@firebase/auth",pw="0.22.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function H3(t){Xs(new $i("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),{apiKey:l,authDomain:a}=r.options;return((c,d)=>{Q(l&&!l.includes(":"),"invalid-api-key",{appName:c.name}),Q(!(a!=null&&a.includes(":")),"argument-error",{appName:c.name});const h={apiKey:l,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wC(t)},v=new aU(c,d,h);return BF(v,n),v})(r,s)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Xs(new $i("auth-internal",e=>{const n=da(e.getProvider("auth").getImmediate());return(r=>new z3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ni(hw,pw,B3(t)),ni(hw,pw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3=5*60,V3=x1("authIdTokenMaxAge")||$3;let gw=null;const G3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>V3)return;const s=n==null?void 0:n.token;gw!==s&&(gw=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Jo(t=b1()){const e=Fg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=zF(t,{popupRedirectResolver:W3,persistence:[YU,bU,NC]}),r=x1("authTokenSyncURL");if(r){const l=G3(r);AU(n,l,()=>l(n.currentUser)),xU(n,a=>l(a))}const s=N1("auth");return s&&uU(n,`http://${s}`),n}H3("Browser");const j3={apiKey:"AIzaSyBBC2JcpCGrh47Urufoj2pQDXJOr8CU2_Q",authDomain:"halloween-suggestions.firebaseapp.com",projectId:"halloween-suggestions",storageBucket:"halloween-suggestions.appspot.com",messagingSenderId:"708959466491",appId:"1:708959466491:web:f8f4e6984390ac9e7bd15e"},K3=M1(j3),MC=MF(K3),Y3=sC(MC,"data/movies"),go={getMoviesRef:()=>Y3,getMovieRef:t=>sC(MC,`data/movies/${t}`),login:({email:t,pass:e})=>{const n=Jo();return NU(n,t,e)},logout:()=>{const t=Jo();return OU(t).then(()=>console.log("You have signed out")).catch(e=>console.log("Error signing out: ",e))},registerUser:({email:t,pass:e})=>{const n=Jo();return RU(n,t,e).then(()=>alert(`Created new user ${t}, logging in now.`)).catch(r=>console.errorr("Error registering user: ",r))},updatePassword:t=>{const e=Jo();return kU(e,t).then(()=>alert(`Password Update Email Sent to ${t}`)).catch(n=>console.error("Error updating password: ",n))},getLoginObserver:t=>{const e=Jo();return PU(e,n=>{n=n||{},t(n)})}};var si={},q3={get exports(){return si},set exports(t){si=t}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,e){(function(){var n,r="4.17.21",s=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",c="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",h=500,v="__lodash_placeholder__",m=1,y=2,R=4,x=1,D=2,j=1,C=2,E=4,T=8,L=16,F=32,H=64,B=128,G=256,ye=512,ee=30,Y="...",Mn=800,bn=16,Ir=1,_o=2,gi=3,_n=1/0,z=9007199254740991,ne=17976931348623157e292,re=0/0,me=4294967295,Ke=me-1,Zi=me>>>1,Qn=[["ary",B],["bind",j],["bindKey",C],["curry",T],["curryRight",L],["flip",ye],["partial",F],["partialRight",H],["rearg",G]],Fn="[object Arguments]",en="[object Array]",es="[object AsyncFunction]",mo="[object Boolean]",vo="[object Date]",WC="[object DOMException]",ga="[object Error]",_a="[object Function]",T_="[object GeneratorFunction]",mn="[object Map]",yo="[object Number]",zC="[object Null]",Xn="[object Object]",k_="[object Promise]",BC="[object Proxy]",wo="[object RegExp]",vn="[object Set]",Eo="[object String]",ma="[object Symbol]",HC="[object Undefined]",So="[object WeakMap]",$C="[object WeakSet]",Co="[object ArrayBuffer]",ts="[object DataView]",pf="[object Float32Array]",gf="[object Float64Array]",_f="[object Int8Array]",mf="[object Int16Array]",vf="[object Int32Array]",yf="[object Uint8Array]",wf="[object Uint8ClampedArray]",Ef="[object Uint16Array]",Sf="[object Uint32Array]",VC=/\b__p \+= '';/g,GC=/\b(__p \+=) '' \+/g,jC=/(__e\(.*?\)|\b__t\)) \+\n'';/g,R_=/&(?:amp|lt|gt|quot|#39);/g,N_=/[&<>"']/g,KC=RegExp(R_.source),YC=RegExp(N_.source),qC=/<%-([\s\S]+?)%>/g,QC=/<%([\s\S]+?)%>/g,x_=/<%=([\s\S]+?)%>/g,XC=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,JC=/^\w*$/,ZC=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Cf=/[\\^$.*+?()[\]{}|]/g,eI=RegExp(Cf.source),If=/^\s+/,tI=/\s/,nI=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,rI=/\{\n\/\* \[wrapped with (.+)\] \*/,iI=/,? & /,sI=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,oI=/[()=,{}\[\]\/\s]/,lI=/\\(\\)?/g,aI=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,A_=/\w*$/,uI=/^[-+]0x[0-9a-f]+$/i,cI=/^0b[01]+$/i,fI=/^\[object .+?Constructor\]$/,dI=/^0o[0-7]+$/i,hI=/^(?:0|[1-9]\d*)$/,pI=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,va=/($^)/,gI=/['\n\r\u2028\u2029\\]/g,ya="\\ud800-\\udfff",_I="\\u0300-\\u036f",mI="\\ufe20-\\ufe2f",vI="\\u20d0-\\u20ff",P_=_I+mI+vI,O_="\\u2700-\\u27bf",L_="a-z\\xdf-\\xf6\\xf8-\\xff",yI="\\xac\\xb1\\xd7\\xf7",wI="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",EI="\\u2000-\\u206f",SI=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",D_="A-Z\\xc0-\\xd6\\xd8-\\xde",M_="\\ufe0e\\ufe0f",b_=yI+wI+EI+SI,Tf="[']",CI="["+ya+"]",F_="["+b_+"]",wa="["+P_+"]",U_="\\d+",II="["+O_+"]",W_="["+L_+"]",z_="[^"+ya+b_+U_+O_+L_+D_+"]",kf="\\ud83c[\\udffb-\\udfff]",TI="(?:"+wa+"|"+kf+")",B_="[^"+ya+"]",Rf="(?:\\ud83c[\\udde6-\\uddff]){2}",Nf="[\\ud800-\\udbff][\\udc00-\\udfff]",ns="["+D_+"]",H_="\\u200d",$_="(?:"+W_+"|"+z_+")",kI="(?:"+ns+"|"+z_+")",V_="(?:"+Tf+"(?:d|ll|m|re|s|t|ve))?",G_="(?:"+Tf+"(?:D|LL|M|RE|S|T|VE))?",j_=TI+"?",K_="["+M_+"]?",RI="(?:"+H_+"(?:"+[B_,Rf,Nf].join("|")+")"+K_+j_+")*",NI="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",xI="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Y_=K_+j_+RI,AI="(?:"+[II,Rf,Nf].join("|")+")"+Y_,PI="(?:"+[B_+wa+"?",wa,Rf,Nf,CI].join("|")+")",OI=RegExp(Tf,"g"),LI=RegExp(wa,"g"),xf=RegExp(kf+"(?="+kf+")|"+PI+Y_,"g"),DI=RegExp([ns+"?"+W_+"+"+V_+"(?="+[F_,ns,"$"].join("|")+")",kI+"+"+G_+"(?="+[F_,ns+$_,"$"].join("|")+")",ns+"?"+$_+"+"+V_,ns+"+"+G_,xI,NI,U_,AI].join("|"),"g"),MI=RegExp("["+H_+ya+P_+M_+"]"),bI=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,FI=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],UI=-1,Pe={};Pe[pf]=Pe[gf]=Pe[_f]=Pe[mf]=Pe[vf]=Pe[yf]=Pe[wf]=Pe[Ef]=Pe[Sf]=!0,Pe[Fn]=Pe[en]=Pe[Co]=Pe[mo]=Pe[ts]=Pe[vo]=Pe[ga]=Pe[_a]=Pe[mn]=Pe[yo]=Pe[Xn]=Pe[wo]=Pe[vn]=Pe[Eo]=Pe[So]=!1;var Ne={};Ne[Fn]=Ne[en]=Ne[Co]=Ne[ts]=Ne[mo]=Ne[vo]=Ne[pf]=Ne[gf]=Ne[_f]=Ne[mf]=Ne[vf]=Ne[mn]=Ne[yo]=Ne[Xn]=Ne[wo]=Ne[vn]=Ne[Eo]=Ne[ma]=Ne[yf]=Ne[wf]=Ne[Ef]=Ne[Sf]=!0,Ne[ga]=Ne[_a]=Ne[So]=!1;var WI={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},zI={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},BI={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},HI={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},$I=parseFloat,VI=parseInt,q_=typeof Wo=="object"&&Wo&&Wo.Object===Object&&Wo,GI=typeof self=="object"&&self&&self.Object===Object&&self,lt=q_||GI||Function("return this")(),Af=e&&!e.nodeType&&e,_i=Af&&!0&&t&&!t.nodeType&&t,Q_=_i&&_i.exports===Af,Pf=Q_&&q_.process,tn=function(){try{var I=_i&&_i.require&&_i.require("util").types;return I||Pf&&Pf.binding&&Pf.binding("util")}catch{}}(),X_=tn&&tn.isArrayBuffer,J_=tn&&tn.isDate,Z_=tn&&tn.isMap,em=tn&&tn.isRegExp,tm=tn&&tn.isSet,nm=tn&&tn.isTypedArray;function Ht(I,A,N){switch(N.length){case 0:return I.call(A);case 1:return I.call(A,N[0]);case 2:return I.call(A,N[0],N[1]);case 3:return I.call(A,N[0],N[1],N[2])}return I.apply(A,N)}function jI(I,A,N,$){for(var te=-1,we=I==null?0:I.length;++te<we;){var qe=I[te];A($,qe,N(qe),I)}return $}function nn(I,A){for(var N=-1,$=I==null?0:I.length;++N<$&&A(I[N],N,I)!==!1;);return I}function KI(I,A){for(var N=I==null?0:I.length;N--&&A(I[N],N,I)!==!1;);return I}function rm(I,A){for(var N=-1,$=I==null?0:I.length;++N<$;)if(!A(I[N],N,I))return!1;return!0}function Tr(I,A){for(var N=-1,$=I==null?0:I.length,te=0,we=[];++N<$;){var qe=I[N];A(qe,N,I)&&(we[te++]=qe)}return we}function Ea(I,A){var N=I==null?0:I.length;return!!N&&rs(I,A,0)>-1}function Of(I,A,N){for(var $=-1,te=I==null?0:I.length;++$<te;)if(N(A,I[$]))return!0;return!1}function Me(I,A){for(var N=-1,$=I==null?0:I.length,te=Array($);++N<$;)te[N]=A(I[N],N,I);return te}function kr(I,A){for(var N=-1,$=A.length,te=I.length;++N<$;)I[te+N]=A[N];return I}function Lf(I,A,N,$){var te=-1,we=I==null?0:I.length;for($&&we&&(N=I[++te]);++te<we;)N=A(N,I[te],te,I);return N}function YI(I,A,N,$){var te=I==null?0:I.length;for($&&te&&(N=I[--te]);te--;)N=A(N,I[te],te,I);return N}function Df(I,A){for(var N=-1,$=I==null?0:I.length;++N<$;)if(A(I[N],N,I))return!0;return!1}var qI=Mf("length");function QI(I){return I.split("")}function XI(I){return I.match(sI)||[]}function im(I,A,N){var $;return N(I,function(te,we,qe){if(A(te,we,qe))return $=we,!1}),$}function Sa(I,A,N,$){for(var te=I.length,we=N+($?1:-1);$?we--:++we<te;)if(A(I[we],we,I))return we;return-1}function rs(I,A,N){return A===A?uT(I,A,N):Sa(I,sm,N)}function JI(I,A,N,$){for(var te=N-1,we=I.length;++te<we;)if($(I[te],A))return te;return-1}function sm(I){return I!==I}function om(I,A){var N=I==null?0:I.length;return N?Ff(I,A)/N:re}function Mf(I){return function(A){return A==null?n:A[I]}}function bf(I){return function(A){return I==null?n:I[A]}}function lm(I,A,N,$,te){return te(I,function(we,qe,Te){N=$?($=!1,we):A(N,we,qe,Te)}),N}function ZI(I,A){var N=I.length;for(I.sort(A);N--;)I[N]=I[N].value;return I}function Ff(I,A){for(var N,$=-1,te=I.length;++$<te;){var we=A(I[$]);we!==n&&(N=N===n?we:N+we)}return N}function Uf(I,A){for(var N=-1,$=Array(I);++N<I;)$[N]=A(N);return $}function eT(I,A){return Me(A,function(N){return[N,I[N]]})}function am(I){return I&&I.slice(0,dm(I)+1).replace(If,"")}function $t(I){return function(A){return I(A)}}function Wf(I,A){return Me(A,function(N){return I[N]})}function Io(I,A){return I.has(A)}function um(I,A){for(var N=-1,$=I.length;++N<$&&rs(A,I[N],0)>-1;);return N}function cm(I,A){for(var N=I.length;N--&&rs(A,I[N],0)>-1;);return N}function tT(I,A){for(var N=I.length,$=0;N--;)I[N]===A&&++$;return $}var nT=bf(WI),rT=bf(zI);function iT(I){return"\\"+HI[I]}function sT(I,A){return I==null?n:I[A]}function is(I){return MI.test(I)}function oT(I){return bI.test(I)}function lT(I){for(var A,N=[];!(A=I.next()).done;)N.push(A.value);return N}function zf(I){var A=-1,N=Array(I.size);return I.forEach(function($,te){N[++A]=[te,$]}),N}function fm(I,A){return function(N){return I(A(N))}}function Rr(I,A){for(var N=-1,$=I.length,te=0,we=[];++N<$;){var qe=I[N];(qe===A||qe===v)&&(I[N]=v,we[te++]=N)}return we}function Ca(I){var A=-1,N=Array(I.size);return I.forEach(function($){N[++A]=$}),N}function aT(I){var A=-1,N=Array(I.size);return I.forEach(function($){N[++A]=[$,$]}),N}function uT(I,A,N){for(var $=N-1,te=I.length;++$<te;)if(I[$]===A)return $;return-1}function cT(I,A,N){for(var $=N+1;$--;)if(I[$]===A)return $;return $}function ss(I){return is(I)?dT(I):qI(I)}function yn(I){return is(I)?hT(I):QI(I)}function dm(I){for(var A=I.length;A--&&tI.test(I.charAt(A)););return A}var fT=bf(BI);function dT(I){for(var A=xf.lastIndex=0;xf.test(I);)++A;return A}function hT(I){return I.match(xf)||[]}function pT(I){return I.match(DI)||[]}var gT=function I(A){A=A==null?lt:os.defaults(lt.Object(),A,os.pick(lt,FI));var N=A.Array,$=A.Date,te=A.Error,we=A.Function,qe=A.Math,Te=A.Object,Bf=A.RegExp,_T=A.String,rn=A.TypeError,Ia=N.prototype,mT=we.prototype,ls=Te.prototype,Ta=A["__core-js_shared__"],ka=mT.toString,Se=ls.hasOwnProperty,vT=0,hm=function(){var i=/[^.]+$/.exec(Ta&&Ta.keys&&Ta.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),Ra=ls.toString,yT=ka.call(Te),wT=lt._,ET=Bf("^"+ka.call(Se).replace(Cf,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Na=Q_?A.Buffer:n,Nr=A.Symbol,xa=A.Uint8Array,pm=Na?Na.allocUnsafe:n,Aa=fm(Te.getPrototypeOf,Te),gm=Te.create,_m=ls.propertyIsEnumerable,Pa=Ia.splice,mm=Nr?Nr.isConcatSpreadable:n,To=Nr?Nr.iterator:n,mi=Nr?Nr.toStringTag:n,Oa=function(){try{var i=Si(Te,"defineProperty");return i({},"",{}),i}catch{}}(),ST=A.clearTimeout!==lt.clearTimeout&&A.clearTimeout,CT=$&&$.now!==lt.Date.now&&$.now,IT=A.setTimeout!==lt.setTimeout&&A.setTimeout,La=qe.ceil,Da=qe.floor,Hf=Te.getOwnPropertySymbols,TT=Na?Na.isBuffer:n,vm=A.isFinite,kT=Ia.join,RT=fm(Te.keys,Te),Qe=qe.max,ht=qe.min,NT=$.now,xT=A.parseInt,ym=qe.random,AT=Ia.reverse,$f=Si(A,"DataView"),ko=Si(A,"Map"),Vf=Si(A,"Promise"),as=Si(A,"Set"),Ro=Si(A,"WeakMap"),No=Si(Te,"create"),Ma=Ro&&new Ro,us={},PT=Ci($f),OT=Ci(ko),LT=Ci(Vf),DT=Ci(as),MT=Ci(Ro),ba=Nr?Nr.prototype:n,xo=ba?ba.valueOf:n,wm=ba?ba.toString:n;function g(i){if(Be(i)&&!ie(i)&&!(i instanceof he)){if(i instanceof sn)return i;if(Se.call(i,"__wrapped__"))return Ev(i)}return new sn(i)}var cs=function(){function i(){}return function(o){if(!Fe(o))return{};if(gm)return gm(o);i.prototype=o;var u=new i;return i.prototype=n,u}}();function Fa(){}function sn(i,o){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=n}g.templateSettings={escape:qC,evaluate:QC,interpolate:x_,variable:"",imports:{_:g}},g.prototype=Fa.prototype,g.prototype.constructor=g,sn.prototype=cs(Fa.prototype),sn.prototype.constructor=sn;function he(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=me,this.__views__=[]}function bT(){var i=new he(this.__wrapped__);return i.__actions__=At(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=At(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=At(this.__views__),i}function FT(){if(this.__filtered__){var i=new he(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function UT(){var i=this.__wrapped__.value(),o=this.__dir__,u=ie(i),f=o<0,p=u?i.length:0,_=Qk(0,p,this.__views__),w=_.start,S=_.end,k=S-w,P=f?S:w-1,O=this.__iteratees__,M=O.length,W=0,K=ht(k,this.__takeCount__);if(!u||!f&&p==k&&K==k)return Vm(i,this.__actions__);var X=[];e:for(;k--&&W<K;){P+=o;for(var le=-1,J=i[P];++le<M;){var fe=O[le],ge=fe.iteratee,jt=fe.type,Ct=ge(J);if(jt==_o)J=Ct;else if(!Ct){if(jt==Ir)continue e;break e}}X[W++]=J}return X}he.prototype=cs(Fa.prototype),he.prototype.constructor=he;function vi(i){var o=-1,u=i==null?0:i.length;for(this.clear();++o<u;){var f=i[o];this.set(f[0],f[1])}}function WT(){this.__data__=No?No(null):{},this.size=0}function zT(i){var o=this.has(i)&&delete this.__data__[i];return this.size-=o?1:0,o}function BT(i){var o=this.__data__;if(No){var u=o[i];return u===d?n:u}return Se.call(o,i)?o[i]:n}function HT(i){var o=this.__data__;return No?o[i]!==n:Se.call(o,i)}function $T(i,o){var u=this.__data__;return this.size+=this.has(i)?0:1,u[i]=No&&o===n?d:o,this}vi.prototype.clear=WT,vi.prototype.delete=zT,vi.prototype.get=BT,vi.prototype.has=HT,vi.prototype.set=$T;function Jn(i){var o=-1,u=i==null?0:i.length;for(this.clear();++o<u;){var f=i[o];this.set(f[0],f[1])}}function VT(){this.__data__=[],this.size=0}function GT(i){var o=this.__data__,u=Ua(o,i);if(u<0)return!1;var f=o.length-1;return u==f?o.pop():Pa.call(o,u,1),--this.size,!0}function jT(i){var o=this.__data__,u=Ua(o,i);return u<0?n:o[u][1]}function KT(i){return Ua(this.__data__,i)>-1}function YT(i,o){var u=this.__data__,f=Ua(u,i);return f<0?(++this.size,u.push([i,o])):u[f][1]=o,this}Jn.prototype.clear=VT,Jn.prototype.delete=GT,Jn.prototype.get=jT,Jn.prototype.has=KT,Jn.prototype.set=YT;function Zn(i){var o=-1,u=i==null?0:i.length;for(this.clear();++o<u;){var f=i[o];this.set(f[0],f[1])}}function qT(){this.size=0,this.__data__={hash:new vi,map:new(ko||Jn),string:new vi}}function QT(i){var o=Qa(this,i).delete(i);return this.size-=o?1:0,o}function XT(i){return Qa(this,i).get(i)}function JT(i){return Qa(this,i).has(i)}function ZT(i,o){var u=Qa(this,i),f=u.size;return u.set(i,o),this.size+=u.size==f?0:1,this}Zn.prototype.clear=qT,Zn.prototype.delete=QT,Zn.prototype.get=XT,Zn.prototype.has=JT,Zn.prototype.set=ZT;function yi(i){var o=-1,u=i==null?0:i.length;for(this.__data__=new Zn;++o<u;)this.add(i[o])}function ek(i){return this.__data__.set(i,d),this}function tk(i){return this.__data__.has(i)}yi.prototype.add=yi.prototype.push=ek,yi.prototype.has=tk;function wn(i){var o=this.__data__=new Jn(i);this.size=o.size}function nk(){this.__data__=new Jn,this.size=0}function rk(i){var o=this.__data__,u=o.delete(i);return this.size=o.size,u}function ik(i){return this.__data__.get(i)}function sk(i){return this.__data__.has(i)}function ok(i,o){var u=this.__data__;if(u instanceof Jn){var f=u.__data__;if(!ko||f.length<s-1)return f.push([i,o]),this.size=++u.size,this;u=this.__data__=new Zn(f)}return u.set(i,o),this.size=u.size,this}wn.prototype.clear=nk,wn.prototype.delete=rk,wn.prototype.get=ik,wn.prototype.has=sk,wn.prototype.set=ok;function Em(i,o){var u=ie(i),f=!u&&Ii(i),p=!u&&!f&&Lr(i),_=!u&&!f&&!p&&ps(i),w=u||f||p||_,S=w?Uf(i.length,_T):[],k=S.length;for(var P in i)(o||Se.call(i,P))&&!(w&&(P=="length"||p&&(P=="offset"||P=="parent")||_&&(P=="buffer"||P=="byteLength"||P=="byteOffset")||rr(P,k)))&&S.push(P);return S}function Sm(i){var o=i.length;return o?i[td(0,o-1)]:n}function lk(i,o){return Xa(At(i),wi(o,0,i.length))}function ak(i){return Xa(At(i))}function Gf(i,o,u){(u!==n&&!En(i[o],u)||u===n&&!(o in i))&&er(i,o,u)}function Ao(i,o,u){var f=i[o];(!(Se.call(i,o)&&En(f,u))||u===n&&!(o in i))&&er(i,o,u)}function Ua(i,o){for(var u=i.length;u--;)if(En(i[u][0],o))return u;return-1}function uk(i,o,u,f){return xr(i,function(p,_,w){o(f,p,u(p),w)}),f}function Cm(i,o){return i&&Wn(o,tt(o),i)}function ck(i,o){return i&&Wn(o,Ot(o),i)}function er(i,o,u){o=="__proto__"&&Oa?Oa(i,o,{configurable:!0,enumerable:!0,value:u,writable:!0}):i[o]=u}function jf(i,o){for(var u=-1,f=o.length,p=N(f),_=i==null;++u<f;)p[u]=_?n:kd(i,o[u]);return p}function wi(i,o,u){return i===i&&(u!==n&&(i=i<=u?i:u),o!==n&&(i=i>=o?i:o)),i}function on(i,o,u,f,p,_){var w,S=o&m,k=o&y,P=o&R;if(u&&(w=p?u(i,f,p,_):u(i)),w!==n)return w;if(!Fe(i))return i;var O=ie(i);if(O){if(w=Jk(i),!S)return At(i,w)}else{var M=pt(i),W=M==_a||M==T_;if(Lr(i))return Km(i,S);if(M==Xn||M==Fn||W&&!p){if(w=k||W?{}:dv(i),!S)return k?Bk(i,ck(w,i)):zk(i,Cm(w,i))}else{if(!Ne[M])return p?i:{};w=Zk(i,M,S)}}_||(_=new wn);var K=_.get(i);if(K)return K;_.set(i,w),Bv(i)?i.forEach(function(J){w.add(on(J,o,u,J,i,_))}):Wv(i)&&i.forEach(function(J,fe){w.set(fe,on(J,o,u,fe,i,_))});var X=P?k?dd:fd:k?Ot:tt,le=O?n:X(i);return nn(le||i,function(J,fe){le&&(fe=J,J=i[fe]),Ao(w,fe,on(J,o,u,fe,i,_))}),w}function fk(i){var o=tt(i);return function(u){return Im(u,i,o)}}function Im(i,o,u){var f=u.length;if(i==null)return!f;for(i=Te(i);f--;){var p=u[f],_=o[p],w=i[p];if(w===n&&!(p in i)||!_(w))return!1}return!0}function Tm(i,o,u){if(typeof i!="function")throw new rn(a);return Fo(function(){i.apply(n,u)},o)}function Po(i,o,u,f){var p=-1,_=Ea,w=!0,S=i.length,k=[],P=o.length;if(!S)return k;u&&(o=Me(o,$t(u))),f?(_=Of,w=!1):o.length>=s&&(_=Io,w=!1,o=new yi(o));e:for(;++p<S;){var O=i[p],M=u==null?O:u(O);if(O=f||O!==0?O:0,w&&M===M){for(var W=P;W--;)if(o[W]===M)continue e;k.push(O)}else _(o,M,f)||k.push(O)}return k}var xr=Jm(Un),km=Jm(Yf,!0);function dk(i,o){var u=!0;return xr(i,function(f,p,_){return u=!!o(f,p,_),u}),u}function Wa(i,o,u){for(var f=-1,p=i.length;++f<p;){var _=i[f],w=o(_);if(w!=null&&(S===n?w===w&&!Gt(w):u(w,S)))var S=w,k=_}return k}function hk(i,o,u,f){var p=i.length;for(u=oe(u),u<0&&(u=-u>p?0:p+u),f=f===n||f>p?p:oe(f),f<0&&(f+=p),f=u>f?0:$v(f);u<f;)i[u++]=o;return i}function Rm(i,o){var u=[];return xr(i,function(f,p,_){o(f,p,_)&&u.push(f)}),u}function at(i,o,u,f,p){var _=-1,w=i.length;for(u||(u=tR),p||(p=[]);++_<w;){var S=i[_];o>0&&u(S)?o>1?at(S,o-1,u,f,p):kr(p,S):f||(p[p.length]=S)}return p}var Kf=Zm(),Nm=Zm(!0);function Un(i,o){return i&&Kf(i,o,tt)}function Yf(i,o){return i&&Nm(i,o,tt)}function za(i,o){return Tr(o,function(u){return ir(i[u])})}function Ei(i,o){o=Pr(o,i);for(var u=0,f=o.length;i!=null&&u<f;)i=i[zn(o[u++])];return u&&u==f?i:n}function xm(i,o,u){var f=o(i);return ie(i)?f:kr(f,u(i))}function Et(i){return i==null?i===n?HC:zC:mi&&mi in Te(i)?qk(i):aR(i)}function qf(i,o){return i>o}function pk(i,o){return i!=null&&Se.call(i,o)}function gk(i,o){return i!=null&&o in Te(i)}function _k(i,o,u){return i>=ht(o,u)&&i<Qe(o,u)}function Qf(i,o,u){for(var f=u?Of:Ea,p=i[0].length,_=i.length,w=_,S=N(_),k=1/0,P=[];w--;){var O=i[w];w&&o&&(O=Me(O,$t(o))),k=ht(O.length,k),S[w]=!u&&(o||p>=120&&O.length>=120)?new yi(w&&O):n}O=i[0];var M=-1,W=S[0];e:for(;++M<p&&P.length<k;){var K=O[M],X=o?o(K):K;if(K=u||K!==0?K:0,!(W?Io(W,X):f(P,X,u))){for(w=_;--w;){var le=S[w];if(!(le?Io(le,X):f(i[w],X,u)))continue e}W&&W.push(X),P.push(K)}}return P}function mk(i,o,u,f){return Un(i,function(p,_,w){o(f,u(p),_,w)}),f}function Oo(i,o,u){o=Pr(o,i),i=_v(i,o);var f=i==null?i:i[zn(an(o))];return f==null?n:Ht(f,i,u)}function Am(i){return Be(i)&&Et(i)==Fn}function vk(i){return Be(i)&&Et(i)==Co}function yk(i){return Be(i)&&Et(i)==vo}function Lo(i,o,u,f,p){return i===o?!0:i==null||o==null||!Be(i)&&!Be(o)?i!==i&&o!==o:wk(i,o,u,f,Lo,p)}function wk(i,o,u,f,p,_){var w=ie(i),S=ie(o),k=w?en:pt(i),P=S?en:pt(o);k=k==Fn?Xn:k,P=P==Fn?Xn:P;var O=k==Xn,M=P==Xn,W=k==P;if(W&&Lr(i)){if(!Lr(o))return!1;w=!0,O=!1}if(W&&!O)return _||(_=new wn),w||ps(i)?uv(i,o,u,f,p,_):Kk(i,o,k,u,f,p,_);if(!(u&x)){var K=O&&Se.call(i,"__wrapped__"),X=M&&Se.call(o,"__wrapped__");if(K||X){var le=K?i.value():i,J=X?o.value():o;return _||(_=new wn),p(le,J,u,f,_)}}return W?(_||(_=new wn),Yk(i,o,u,f,p,_)):!1}function Ek(i){return Be(i)&&pt(i)==mn}function Xf(i,o,u,f){var p=u.length,_=p,w=!f;if(i==null)return!_;for(i=Te(i);p--;){var S=u[p];if(w&&S[2]?S[1]!==i[S[0]]:!(S[0]in i))return!1}for(;++p<_;){S=u[p];var k=S[0],P=i[k],O=S[1];if(w&&S[2]){if(P===n&&!(k in i))return!1}else{var M=new wn;if(f)var W=f(P,O,k,i,o,M);if(!(W===n?Lo(O,P,x|D,f,M):W))return!1}}return!0}function Pm(i){if(!Fe(i)||rR(i))return!1;var o=ir(i)?ET:fI;return o.test(Ci(i))}function Sk(i){return Be(i)&&Et(i)==wo}function Ck(i){return Be(i)&&pt(i)==vn}function Ik(i){return Be(i)&&ru(i.length)&&!!Pe[Et(i)]}function Om(i){return typeof i=="function"?i:i==null?Lt:typeof i=="object"?ie(i)?Mm(i[0],i[1]):Dm(i):ey(i)}function Jf(i){if(!bo(i))return RT(i);var o=[];for(var u in Te(i))Se.call(i,u)&&u!="constructor"&&o.push(u);return o}function Tk(i){if(!Fe(i))return lR(i);var o=bo(i),u=[];for(var f in i)f=="constructor"&&(o||!Se.call(i,f))||u.push(f);return u}function Zf(i,o){return i<o}function Lm(i,o){var u=-1,f=Pt(i)?N(i.length):[];return xr(i,function(p,_,w){f[++u]=o(p,_,w)}),f}function Dm(i){var o=pd(i);return o.length==1&&o[0][2]?pv(o[0][0],o[0][1]):function(u){return u===i||Xf(u,i,o)}}function Mm(i,o){return _d(i)&&hv(o)?pv(zn(i),o):function(u){var f=kd(u,i);return f===n&&f===o?Rd(u,i):Lo(o,f,x|D)}}function Ba(i,o,u,f,p){i!==o&&Kf(o,function(_,w){if(p||(p=new wn),Fe(_))kk(i,o,w,u,Ba,f,p);else{var S=f?f(vd(i,w),_,w+"",i,o,p):n;S===n&&(S=_),Gf(i,w,S)}},Ot)}function kk(i,o,u,f,p,_,w){var S=vd(i,u),k=vd(o,u),P=w.get(k);if(P){Gf(i,u,P);return}var O=_?_(S,k,u+"",i,o,w):n,M=O===n;if(M){var W=ie(k),K=!W&&Lr(k),X=!W&&!K&&ps(k);O=k,W||K||X?ie(S)?O=S:Ve(S)?O=At(S):K?(M=!1,O=Km(k,!0)):X?(M=!1,O=Ym(k,!0)):O=[]:Uo(k)||Ii(k)?(O=S,Ii(S)?O=Vv(S):(!Fe(S)||ir(S))&&(O=dv(k))):M=!1}M&&(w.set(k,O),p(O,k,f,_,w),w.delete(k)),Gf(i,u,O)}function bm(i,o){var u=i.length;if(u)return o+=o<0?u:0,rr(o,u)?i[o]:n}function Fm(i,o,u){o.length?o=Me(o,function(_){return ie(_)?function(w){return Ei(w,_.length===1?_[0]:_)}:_}):o=[Lt];var f=-1;o=Me(o,$t(q()));var p=Lm(i,function(_,w,S){var k=Me(o,function(P){return P(_)});return{criteria:k,index:++f,value:_}});return ZI(p,function(_,w){return Wk(_,w,u)})}function Rk(i,o){return Um(i,o,function(u,f){return Rd(i,f)})}function Um(i,o,u){for(var f=-1,p=o.length,_={};++f<p;){var w=o[f],S=Ei(i,w);u(S,w)&&Do(_,Pr(w,i),S)}return _}function Nk(i){return function(o){return Ei(o,i)}}function ed(i,o,u,f){var p=f?JI:rs,_=-1,w=o.length,S=i;for(i===o&&(o=At(o)),u&&(S=Me(i,$t(u)));++_<w;)for(var k=0,P=o[_],O=u?u(P):P;(k=p(S,O,k,f))>-1;)S!==i&&Pa.call(S,k,1),Pa.call(i,k,1);return i}function Wm(i,o){for(var u=i?o.length:0,f=u-1;u--;){var p=o[u];if(u==f||p!==_){var _=p;rr(p)?Pa.call(i,p,1):id(i,p)}}return i}function td(i,o){return i+Da(ym()*(o-i+1))}function xk(i,o,u,f){for(var p=-1,_=Qe(La((o-i)/(u||1)),0),w=N(_);_--;)w[f?_:++p]=i,i+=u;return w}function nd(i,o){var u="";if(!i||o<1||o>z)return u;do o%2&&(u+=i),o=Da(o/2),o&&(i+=i);while(o);return u}function ae(i,o){return yd(gv(i,o,Lt),i+"")}function Ak(i){return Sm(gs(i))}function Pk(i,o){var u=gs(i);return Xa(u,wi(o,0,u.length))}function Do(i,o,u,f){if(!Fe(i))return i;o=Pr(o,i);for(var p=-1,_=o.length,w=_-1,S=i;S!=null&&++p<_;){var k=zn(o[p]),P=u;if(k==="__proto__"||k==="constructor"||k==="prototype")return i;if(p!=w){var O=S[k];P=f?f(O,k,S):n,P===n&&(P=Fe(O)?O:rr(o[p+1])?[]:{})}Ao(S,k,P),S=S[k]}return i}var zm=Ma?function(i,o){return Ma.set(i,o),i}:Lt,Ok=Oa?function(i,o){return Oa(i,"toString",{configurable:!0,enumerable:!1,value:xd(o),writable:!0})}:Lt;function Lk(i){return Xa(gs(i))}function ln(i,o,u){var f=-1,p=i.length;o<0&&(o=-o>p?0:p+o),u=u>p?p:u,u<0&&(u+=p),p=o>u?0:u-o>>>0,o>>>=0;for(var _=N(p);++f<p;)_[f]=i[f+o];return _}function Dk(i,o){var u;return xr(i,function(f,p,_){return u=o(f,p,_),!u}),!!u}function Ha(i,o,u){var f=0,p=i==null?f:i.length;if(typeof o=="number"&&o===o&&p<=Zi){for(;f<p;){var _=f+p>>>1,w=i[_];w!==null&&!Gt(w)&&(u?w<=o:w<o)?f=_+1:p=_}return p}return rd(i,o,Lt,u)}function rd(i,o,u,f){var p=0,_=i==null?0:i.length;if(_===0)return 0;o=u(o);for(var w=o!==o,S=o===null,k=Gt(o),P=o===n;p<_;){var O=Da((p+_)/2),M=u(i[O]),W=M!==n,K=M===null,X=M===M,le=Gt(M);if(w)var J=f||X;else P?J=X&&(f||W):S?J=X&&W&&(f||!K):k?J=X&&W&&!K&&(f||!le):K||le?J=!1:J=f?M<=o:M<o;J?p=O+1:_=O}return ht(_,Ke)}function Bm(i,o){for(var u=-1,f=i.length,p=0,_=[];++u<f;){var w=i[u],S=o?o(w):w;if(!u||!En(S,k)){var k=S;_[p++]=w===0?0:w}}return _}function Hm(i){return typeof i=="number"?i:Gt(i)?re:+i}function Vt(i){if(typeof i=="string")return i;if(ie(i))return Me(i,Vt)+"";if(Gt(i))return wm?wm.call(i):"";var o=i+"";return o=="0"&&1/i==-_n?"-0":o}function Ar(i,o,u){var f=-1,p=Ea,_=i.length,w=!0,S=[],k=S;if(u)w=!1,p=Of;else if(_>=s){var P=o?null:Gk(i);if(P)return Ca(P);w=!1,p=Io,k=new yi}else k=o?[]:S;e:for(;++f<_;){var O=i[f],M=o?o(O):O;if(O=u||O!==0?O:0,w&&M===M){for(var W=k.length;W--;)if(k[W]===M)continue e;o&&k.push(M),S.push(O)}else p(k,M,u)||(k!==S&&k.push(M),S.push(O))}return S}function id(i,o){return o=Pr(o,i),i=_v(i,o),i==null||delete i[zn(an(o))]}function $m(i,o,u,f){return Do(i,o,u(Ei(i,o)),f)}function $a(i,o,u,f){for(var p=i.length,_=f?p:-1;(f?_--:++_<p)&&o(i[_],_,i););return u?ln(i,f?0:_,f?_+1:p):ln(i,f?_+1:0,f?p:_)}function Vm(i,o){var u=i;return u instanceof he&&(u=u.value()),Lf(o,function(f,p){return p.func.apply(p.thisArg,kr([f],p.args))},u)}function sd(i,o,u){var f=i.length;if(f<2)return f?Ar(i[0]):[];for(var p=-1,_=N(f);++p<f;)for(var w=i[p],S=-1;++S<f;)S!=p&&(_[p]=Po(_[p]||w,i[S],o,u));return Ar(at(_,1),o,u)}function Gm(i,o,u){for(var f=-1,p=i.length,_=o.length,w={};++f<p;){var S=f<_?o[f]:n;u(w,i[f],S)}return w}function od(i){return Ve(i)?i:[]}function ld(i){return typeof i=="function"?i:Lt}function Pr(i,o){return ie(i)?i:_d(i,o)?[i]:wv(Ee(i))}var Mk=ae;function Or(i,o,u){var f=i.length;return u=u===n?f:u,!o&&u>=f?i:ln(i,o,u)}var jm=ST||function(i){return lt.clearTimeout(i)};function Km(i,o){if(o)return i.slice();var u=i.length,f=pm?pm(u):new i.constructor(u);return i.copy(f),f}function ad(i){var o=new i.constructor(i.byteLength);return new xa(o).set(new xa(i)),o}function bk(i,o){var u=o?ad(i.buffer):i.buffer;return new i.constructor(u,i.byteOffset,i.byteLength)}function Fk(i){var o=new i.constructor(i.source,A_.exec(i));return o.lastIndex=i.lastIndex,o}function Uk(i){return xo?Te(xo.call(i)):{}}function Ym(i,o){var u=o?ad(i.buffer):i.buffer;return new i.constructor(u,i.byteOffset,i.length)}function qm(i,o){if(i!==o){var u=i!==n,f=i===null,p=i===i,_=Gt(i),w=o!==n,S=o===null,k=o===o,P=Gt(o);if(!S&&!P&&!_&&i>o||_&&w&&k&&!S&&!P||f&&w&&k||!u&&k||!p)return 1;if(!f&&!_&&!P&&i<o||P&&u&&p&&!f&&!_||S&&u&&p||!w&&p||!k)return-1}return 0}function Wk(i,o,u){for(var f=-1,p=i.criteria,_=o.criteria,w=p.length,S=u.length;++f<w;){var k=qm(p[f],_[f]);if(k){if(f>=S)return k;var P=u[f];return k*(P=="desc"?-1:1)}}return i.index-o.index}function Qm(i,o,u,f){for(var p=-1,_=i.length,w=u.length,S=-1,k=o.length,P=Qe(_-w,0),O=N(k+P),M=!f;++S<k;)O[S]=o[S];for(;++p<w;)(M||p<_)&&(O[u[p]]=i[p]);for(;P--;)O[S++]=i[p++];return O}function Xm(i,o,u,f){for(var p=-1,_=i.length,w=-1,S=u.length,k=-1,P=o.length,O=Qe(_-S,0),M=N(O+P),W=!f;++p<O;)M[p]=i[p];for(var K=p;++k<P;)M[K+k]=o[k];for(;++w<S;)(W||p<_)&&(M[K+u[w]]=i[p++]);return M}function At(i,o){var u=-1,f=i.length;for(o||(o=N(f));++u<f;)o[u]=i[u];return o}function Wn(i,o,u,f){var p=!u;u||(u={});for(var _=-1,w=o.length;++_<w;){var S=o[_],k=f?f(u[S],i[S],S,u,i):n;k===n&&(k=i[S]),p?er(u,S,k):Ao(u,S,k)}return u}function zk(i,o){return Wn(i,gd(i),o)}function Bk(i,o){return Wn(i,cv(i),o)}function Va(i,o){return function(u,f){var p=ie(u)?jI:uk,_=o?o():{};return p(u,i,q(f,2),_)}}function fs(i){return ae(function(o,u){var f=-1,p=u.length,_=p>1?u[p-1]:n,w=p>2?u[2]:n;for(_=i.length>3&&typeof _=="function"?(p--,_):n,w&&St(u[0],u[1],w)&&(_=p<3?n:_,p=1),o=Te(o);++f<p;){var S=u[f];S&&i(o,S,f,_)}return o})}function Jm(i,o){return function(u,f){if(u==null)return u;if(!Pt(u))return i(u,f);for(var p=u.length,_=o?p:-1,w=Te(u);(o?_--:++_<p)&&f(w[_],_,w)!==!1;);return u}}function Zm(i){return function(o,u,f){for(var p=-1,_=Te(o),w=f(o),S=w.length;S--;){var k=w[i?S:++p];if(u(_[k],k,_)===!1)break}return o}}function Hk(i,o,u){var f=o&j,p=Mo(i);function _(){var w=this&&this!==lt&&this instanceof _?p:i;return w.apply(f?u:this,arguments)}return _}function ev(i){return function(o){o=Ee(o);var u=is(o)?yn(o):n,f=u?u[0]:o.charAt(0),p=u?Or(u,1).join(""):o.slice(1);return f[i]()+p}}function ds(i){return function(o){return Lf(Jv(Xv(o).replace(OI,"")),i,"")}}function Mo(i){return function(){var o=arguments;switch(o.length){case 0:return new i;case 1:return new i(o[0]);case 2:return new i(o[0],o[1]);case 3:return new i(o[0],o[1],o[2]);case 4:return new i(o[0],o[1],o[2],o[3]);case 5:return new i(o[0],o[1],o[2],o[3],o[4]);case 6:return new i(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new i(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var u=cs(i.prototype),f=i.apply(u,o);return Fe(f)?f:u}}function $k(i,o,u){var f=Mo(i);function p(){for(var _=arguments.length,w=N(_),S=_,k=hs(p);S--;)w[S]=arguments[S];var P=_<3&&w[0]!==k&&w[_-1]!==k?[]:Rr(w,k);if(_-=P.length,_<u)return sv(i,o,Ga,p.placeholder,n,w,P,n,n,u-_);var O=this&&this!==lt&&this instanceof p?f:i;return Ht(O,this,w)}return p}function tv(i){return function(o,u,f){var p=Te(o);if(!Pt(o)){var _=q(u,3);o=tt(o),u=function(S){return _(p[S],S,p)}}var w=i(o,u,f);return w>-1?p[_?o[w]:w]:n}}function nv(i){return nr(function(o){var u=o.length,f=u,p=sn.prototype.thru;for(i&&o.reverse();f--;){var _=o[f];if(typeof _!="function")throw new rn(a);if(p&&!w&&qa(_)=="wrapper")var w=new sn([],!0)}for(f=w?f:u;++f<u;){_=o[f];var S=qa(_),k=S=="wrapper"?hd(_):n;k&&md(k[0])&&k[1]==(B|T|F|G)&&!k[4].length&&k[9]==1?w=w[qa(k[0])].apply(w,k[3]):w=_.length==1&&md(_)?w[S]():w.thru(_)}return function(){var P=arguments,O=P[0];if(w&&P.length==1&&ie(O))return w.plant(O).value();for(var M=0,W=u?o[M].apply(this,P):O;++M<u;)W=o[M].call(this,W);return W}})}function Ga(i,o,u,f,p,_,w,S,k,P){var O=o&B,M=o&j,W=o&C,K=o&(T|L),X=o&ye,le=W?n:Mo(i);function J(){for(var fe=arguments.length,ge=N(fe),jt=fe;jt--;)ge[jt]=arguments[jt];if(K)var Ct=hs(J),Kt=tT(ge,Ct);if(f&&(ge=Qm(ge,f,p,K)),_&&(ge=Xm(ge,_,w,K)),fe-=Kt,K&&fe<P){var Ge=Rr(ge,Ct);return sv(i,o,Ga,J.placeholder,u,ge,Ge,S,k,P-fe)}var Sn=M?u:this,or=W?Sn[i]:i;return fe=ge.length,S?ge=uR(ge,S):X&&fe>1&&ge.reverse(),O&&k<fe&&(ge.length=k),this&&this!==lt&&this instanceof J&&(or=le||Mo(or)),or.apply(Sn,ge)}return J}function rv(i,o){return function(u,f){return mk(u,i,o(f),{})}}function ja(i,o){return function(u,f){var p;if(u===n&&f===n)return o;if(u!==n&&(p=u),f!==n){if(p===n)return f;typeof u=="string"||typeof f=="string"?(u=Vt(u),f=Vt(f)):(u=Hm(u),f=Hm(f)),p=i(u,f)}return p}}function ud(i){return nr(function(o){return o=Me(o,$t(q())),ae(function(u){var f=this;return i(o,function(p){return Ht(p,f,u)})})})}function Ka(i,o){o=o===n?" ":Vt(o);var u=o.length;if(u<2)return u?nd(o,i):o;var f=nd(o,La(i/ss(o)));return is(o)?Or(yn(f),0,i).join(""):f.slice(0,i)}function Vk(i,o,u,f){var p=o&j,_=Mo(i);function w(){for(var S=-1,k=arguments.length,P=-1,O=f.length,M=N(O+k),W=this&&this!==lt&&this instanceof w?_:i;++P<O;)M[P]=f[P];for(;k--;)M[P++]=arguments[++S];return Ht(W,p?u:this,M)}return w}function iv(i){return function(o,u,f){return f&&typeof f!="number"&&St(o,u,f)&&(u=f=n),o=sr(o),u===n?(u=o,o=0):u=sr(u),f=f===n?o<u?1:-1:sr(f),xk(o,u,f,i)}}function Ya(i){return function(o,u){return typeof o=="string"&&typeof u=="string"||(o=un(o),u=un(u)),i(o,u)}}function sv(i,o,u,f,p,_,w,S,k,P){var O=o&T,M=O?w:n,W=O?n:w,K=O?_:n,X=O?n:_;o|=O?F:H,o&=~(O?H:F),o&E||(o&=~(j|C));var le=[i,o,p,K,M,X,W,S,k,P],J=u.apply(n,le);return md(i)&&mv(J,le),J.placeholder=f,vv(J,i,o)}function cd(i){var o=qe[i];return function(u,f){if(u=un(u),f=f==null?0:ht(oe(f),292),f&&vm(u)){var p=(Ee(u)+"e").split("e"),_=o(p[0]+"e"+(+p[1]+f));return p=(Ee(_)+"e").split("e"),+(p[0]+"e"+(+p[1]-f))}return o(u)}}var Gk=as&&1/Ca(new as([,-0]))[1]==_n?function(i){return new as(i)}:Od;function ov(i){return function(o){var u=pt(o);return u==mn?zf(o):u==vn?aT(o):eT(o,i(o))}}function tr(i,o,u,f,p,_,w,S){var k=o&C;if(!k&&typeof i!="function")throw new rn(a);var P=f?f.length:0;if(P||(o&=~(F|H),f=p=n),w=w===n?w:Qe(oe(w),0),S=S===n?S:oe(S),P-=p?p.length:0,o&H){var O=f,M=p;f=p=n}var W=k?n:hd(i),K=[i,o,u,f,p,O,M,_,w,S];if(W&&oR(K,W),i=K[0],o=K[1],u=K[2],f=K[3],p=K[4],S=K[9]=K[9]===n?k?0:i.length:Qe(K[9]-P,0),!S&&o&(T|L)&&(o&=~(T|L)),!o||o==j)var X=Hk(i,o,u);else o==T||o==L?X=$k(i,o,S):(o==F||o==(j|F))&&!p.length?X=Vk(i,o,u,f):X=Ga.apply(n,K);var le=W?zm:mv;return vv(le(X,K),i,o)}function lv(i,o,u,f){return i===n||En(i,ls[u])&&!Se.call(f,u)?o:i}function av(i,o,u,f,p,_){return Fe(i)&&Fe(o)&&(_.set(o,i),Ba(i,o,n,av,_),_.delete(o)),i}function jk(i){return Uo(i)?n:i}function uv(i,o,u,f,p,_){var w=u&x,S=i.length,k=o.length;if(S!=k&&!(w&&k>S))return!1;var P=_.get(i),O=_.get(o);if(P&&O)return P==o&&O==i;var M=-1,W=!0,K=u&D?new yi:n;for(_.set(i,o),_.set(o,i);++M<S;){var X=i[M],le=o[M];if(f)var J=w?f(le,X,M,o,i,_):f(X,le,M,i,o,_);if(J!==n){if(J)continue;W=!1;break}if(K){if(!Df(o,function(fe,ge){if(!Io(K,ge)&&(X===fe||p(X,fe,u,f,_)))return K.push(ge)})){W=!1;break}}else if(!(X===le||p(X,le,u,f,_))){W=!1;break}}return _.delete(i),_.delete(o),W}function Kk(i,o,u,f,p,_,w){switch(u){case ts:if(i.byteLength!=o.byteLength||i.byteOffset!=o.byteOffset)return!1;i=i.buffer,o=o.buffer;case Co:return!(i.byteLength!=o.byteLength||!_(new xa(i),new xa(o)));case mo:case vo:case yo:return En(+i,+o);case ga:return i.name==o.name&&i.message==o.message;case wo:case Eo:return i==o+"";case mn:var S=zf;case vn:var k=f&x;if(S||(S=Ca),i.size!=o.size&&!k)return!1;var P=w.get(i);if(P)return P==o;f|=D,w.set(i,o);var O=uv(S(i),S(o),f,p,_,w);return w.delete(i),O;case ma:if(xo)return xo.call(i)==xo.call(o)}return!1}function Yk(i,o,u,f,p,_){var w=u&x,S=fd(i),k=S.length,P=fd(o),O=P.length;if(k!=O&&!w)return!1;for(var M=k;M--;){var W=S[M];if(!(w?W in o:Se.call(o,W)))return!1}var K=_.get(i),X=_.get(o);if(K&&X)return K==o&&X==i;var le=!0;_.set(i,o),_.set(o,i);for(var J=w;++M<k;){W=S[M];var fe=i[W],ge=o[W];if(f)var jt=w?f(ge,fe,W,o,i,_):f(fe,ge,W,i,o,_);if(!(jt===n?fe===ge||p(fe,ge,u,f,_):jt)){le=!1;break}J||(J=W=="constructor")}if(le&&!J){var Ct=i.constructor,Kt=o.constructor;Ct!=Kt&&"constructor"in i&&"constructor"in o&&!(typeof Ct=="function"&&Ct instanceof Ct&&typeof Kt=="function"&&Kt instanceof Kt)&&(le=!1)}return _.delete(i),_.delete(o),le}function nr(i){return yd(gv(i,n,Iv),i+"")}function fd(i){return xm(i,tt,gd)}function dd(i){return xm(i,Ot,cv)}var hd=Ma?function(i){return Ma.get(i)}:Od;function qa(i){for(var o=i.name+"",u=us[o],f=Se.call(us,o)?u.length:0;f--;){var p=u[f],_=p.func;if(_==null||_==i)return p.name}return o}function hs(i){var o=Se.call(g,"placeholder")?g:i;return o.placeholder}function q(){var i=g.iteratee||Ad;return i=i===Ad?Om:i,arguments.length?i(arguments[0],arguments[1]):i}function Qa(i,o){var u=i.__data__;return nR(o)?u[typeof o=="string"?"string":"hash"]:u.map}function pd(i){for(var o=tt(i),u=o.length;u--;){var f=o[u],p=i[f];o[u]=[f,p,hv(p)]}return o}function Si(i,o){var u=sT(i,o);return Pm(u)?u:n}function qk(i){var o=Se.call(i,mi),u=i[mi];try{i[mi]=n;var f=!0}catch{}var p=Ra.call(i);return f&&(o?i[mi]=u:delete i[mi]),p}var gd=Hf?function(i){return i==null?[]:(i=Te(i),Tr(Hf(i),function(o){return _m.call(i,o)}))}:Ld,cv=Hf?function(i){for(var o=[];i;)kr(o,gd(i)),i=Aa(i);return o}:Ld,pt=Et;($f&&pt(new $f(new ArrayBuffer(1)))!=ts||ko&&pt(new ko)!=mn||Vf&&pt(Vf.resolve())!=k_||as&&pt(new as)!=vn||Ro&&pt(new Ro)!=So)&&(pt=function(i){var o=Et(i),u=o==Xn?i.constructor:n,f=u?Ci(u):"";if(f)switch(f){case PT:return ts;case OT:return mn;case LT:return k_;case DT:return vn;case MT:return So}return o});function Qk(i,o,u){for(var f=-1,p=u.length;++f<p;){var _=u[f],w=_.size;switch(_.type){case"drop":i+=w;break;case"dropRight":o-=w;break;case"take":o=ht(o,i+w);break;case"takeRight":i=Qe(i,o-w);break}}return{start:i,end:o}}function Xk(i){var o=i.match(rI);return o?o[1].split(iI):[]}function fv(i,o,u){o=Pr(o,i);for(var f=-1,p=o.length,_=!1;++f<p;){var w=zn(o[f]);if(!(_=i!=null&&u(i,w)))break;i=i[w]}return _||++f!=p?_:(p=i==null?0:i.length,!!p&&ru(p)&&rr(w,p)&&(ie(i)||Ii(i)))}function Jk(i){var o=i.length,u=new i.constructor(o);return o&&typeof i[0]=="string"&&Se.call(i,"index")&&(u.index=i.index,u.input=i.input),u}function dv(i){return typeof i.constructor=="function"&&!bo(i)?cs(Aa(i)):{}}function Zk(i,o,u){var f=i.constructor;switch(o){case Co:return ad(i);case mo:case vo:return new f(+i);case ts:return bk(i,u);case pf:case gf:case _f:case mf:case vf:case yf:case wf:case Ef:case Sf:return Ym(i,u);case mn:return new f;case yo:case Eo:return new f(i);case wo:return Fk(i);case vn:return new f;case ma:return Uk(i)}}function eR(i,o){var u=o.length;if(!u)return i;var f=u-1;return o[f]=(u>1?"& ":"")+o[f],o=o.join(u>2?", ":" "),i.replace(nI,`{
/* [wrapped with `+o+`] */
`)}function tR(i){return ie(i)||Ii(i)||!!(mm&&i&&i[mm])}function rr(i,o){var u=typeof i;return o=o??z,!!o&&(u=="number"||u!="symbol"&&hI.test(i))&&i>-1&&i%1==0&&i<o}function St(i,o,u){if(!Fe(u))return!1;var f=typeof o;return(f=="number"?Pt(u)&&rr(o,u.length):f=="string"&&o in u)?En(u[o],i):!1}function _d(i,o){if(ie(i))return!1;var u=typeof i;return u=="number"||u=="symbol"||u=="boolean"||i==null||Gt(i)?!0:JC.test(i)||!XC.test(i)||o!=null&&i in Te(o)}function nR(i){var o=typeof i;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?i!=="__proto__":i===null}function md(i){var o=qa(i),u=g[o];if(typeof u!="function"||!(o in he.prototype))return!1;if(i===u)return!0;var f=hd(u);return!!f&&i===f[0]}function rR(i){return!!hm&&hm in i}var iR=Ta?ir:Dd;function bo(i){var o=i&&i.constructor,u=typeof o=="function"&&o.prototype||ls;return i===u}function hv(i){return i===i&&!Fe(i)}function pv(i,o){return function(u){return u==null?!1:u[i]===o&&(o!==n||i in Te(u))}}function sR(i){var o=tu(i,function(f){return u.size===h&&u.clear(),f}),u=o.cache;return o}function oR(i,o){var u=i[1],f=o[1],p=u|f,_=p<(j|C|B),w=f==B&&u==T||f==B&&u==G&&i[7].length<=o[8]||f==(B|G)&&o[7].length<=o[8]&&u==T;if(!(_||w))return i;f&j&&(i[2]=o[2],p|=u&j?0:E);var S=o[3];if(S){var k=i[3];i[3]=k?Qm(k,S,o[4]):S,i[4]=k?Rr(i[3],v):o[4]}return S=o[5],S&&(k=i[5],i[5]=k?Xm(k,S,o[6]):S,i[6]=k?Rr(i[5],v):o[6]),S=o[7],S&&(i[7]=S),f&B&&(i[8]=i[8]==null?o[8]:ht(i[8],o[8])),i[9]==null&&(i[9]=o[9]),i[0]=o[0],i[1]=p,i}function lR(i){var o=[];if(i!=null)for(var u in Te(i))o.push(u);return o}function aR(i){return Ra.call(i)}function gv(i,o,u){return o=Qe(o===n?i.length-1:o,0),function(){for(var f=arguments,p=-1,_=Qe(f.length-o,0),w=N(_);++p<_;)w[p]=f[o+p];p=-1;for(var S=N(o+1);++p<o;)S[p]=f[p];return S[o]=u(w),Ht(i,this,S)}}function _v(i,o){return o.length<2?i:Ei(i,ln(o,0,-1))}function uR(i,o){for(var u=i.length,f=ht(o.length,u),p=At(i);f--;){var _=o[f];i[f]=rr(_,u)?p[_]:n}return i}function vd(i,o){if(!(o==="constructor"&&typeof i[o]=="function")&&o!="__proto__")return i[o]}var mv=yv(zm),Fo=IT||function(i,o){return lt.setTimeout(i,o)},yd=yv(Ok);function vv(i,o,u){var f=o+"";return yd(i,eR(f,cR(Xk(f),u)))}function yv(i){var o=0,u=0;return function(){var f=NT(),p=bn-(f-u);if(u=f,p>0){if(++o>=Mn)return arguments[0]}else o=0;return i.apply(n,arguments)}}function Xa(i,o){var u=-1,f=i.length,p=f-1;for(o=o===n?f:o;++u<o;){var _=td(u,p),w=i[_];i[_]=i[u],i[u]=w}return i.length=o,i}var wv=sR(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(ZC,function(u,f,p,_){o.push(p?_.replace(lI,"$1"):f||u)}),o});function zn(i){if(typeof i=="string"||Gt(i))return i;var o=i+"";return o=="0"&&1/i==-_n?"-0":o}function Ci(i){if(i!=null){try{return ka.call(i)}catch{}try{return i+""}catch{}}return""}function cR(i,o){return nn(Qn,function(u){var f="_."+u[0];o&u[1]&&!Ea(i,f)&&i.push(f)}),i.sort()}function Ev(i){if(i instanceof he)return i.clone();var o=new sn(i.__wrapped__,i.__chain__);return o.__actions__=At(i.__actions__),o.__index__=i.__index__,o.__values__=i.__values__,o}function fR(i,o,u){(u?St(i,o,u):o===n)?o=1:o=Qe(oe(o),0);var f=i==null?0:i.length;if(!f||o<1)return[];for(var p=0,_=0,w=N(La(f/o));p<f;)w[_++]=ln(i,p,p+=o);return w}function dR(i){for(var o=-1,u=i==null?0:i.length,f=0,p=[];++o<u;){var _=i[o];_&&(p[f++]=_)}return p}function hR(){var i=arguments.length;if(!i)return[];for(var o=N(i-1),u=arguments[0],f=i;f--;)o[f-1]=arguments[f];return kr(ie(u)?At(u):[u],at(o,1))}var pR=ae(function(i,o){return Ve(i)?Po(i,at(o,1,Ve,!0)):[]}),gR=ae(function(i,o){var u=an(o);return Ve(u)&&(u=n),Ve(i)?Po(i,at(o,1,Ve,!0),q(u,2)):[]}),_R=ae(function(i,o){var u=an(o);return Ve(u)&&(u=n),Ve(i)?Po(i,at(o,1,Ve,!0),n,u):[]});function mR(i,o,u){var f=i==null?0:i.length;return f?(o=u||o===n?1:oe(o),ln(i,o<0?0:o,f)):[]}function vR(i,o,u){var f=i==null?0:i.length;return f?(o=u||o===n?1:oe(o),o=f-o,ln(i,0,o<0?0:o)):[]}function yR(i,o){return i&&i.length?$a(i,q(o,3),!0,!0):[]}function wR(i,o){return i&&i.length?$a(i,q(o,3),!0):[]}function ER(i,o,u,f){var p=i==null?0:i.length;return p?(u&&typeof u!="number"&&St(i,o,u)&&(u=0,f=p),hk(i,o,u,f)):[]}function Sv(i,o,u){var f=i==null?0:i.length;if(!f)return-1;var p=u==null?0:oe(u);return p<0&&(p=Qe(f+p,0)),Sa(i,q(o,3),p)}function Cv(i,o,u){var f=i==null?0:i.length;if(!f)return-1;var p=f-1;return u!==n&&(p=oe(u),p=u<0?Qe(f+p,0):ht(p,f-1)),Sa(i,q(o,3),p,!0)}function Iv(i){var o=i==null?0:i.length;return o?at(i,1):[]}function SR(i){var o=i==null?0:i.length;return o?at(i,_n):[]}function CR(i,o){var u=i==null?0:i.length;return u?(o=o===n?1:oe(o),at(i,o)):[]}function IR(i){for(var o=-1,u=i==null?0:i.length,f={};++o<u;){var p=i[o];f[p[0]]=p[1]}return f}function Tv(i){return i&&i.length?i[0]:n}function TR(i,o,u){var f=i==null?0:i.length;if(!f)return-1;var p=u==null?0:oe(u);return p<0&&(p=Qe(f+p,0)),rs(i,o,p)}function kR(i){var o=i==null?0:i.length;return o?ln(i,0,-1):[]}var RR=ae(function(i){var o=Me(i,od);return o.length&&o[0]===i[0]?Qf(o):[]}),NR=ae(function(i){var o=an(i),u=Me(i,od);return o===an(u)?o=n:u.pop(),u.length&&u[0]===i[0]?Qf(u,q(o,2)):[]}),xR=ae(function(i){var o=an(i),u=Me(i,od);return o=typeof o=="function"?o:n,o&&u.pop(),u.length&&u[0]===i[0]?Qf(u,n,o):[]});function AR(i,o){return i==null?"":kT.call(i,o)}function an(i){var o=i==null?0:i.length;return o?i[o-1]:n}function PR(i,o,u){var f=i==null?0:i.length;if(!f)return-1;var p=f;return u!==n&&(p=oe(u),p=p<0?Qe(f+p,0):ht(p,f-1)),o===o?cT(i,o,p):Sa(i,sm,p,!0)}function OR(i,o){return i&&i.length?bm(i,oe(o)):n}var LR=ae(kv);function kv(i,o){return i&&i.length&&o&&o.length?ed(i,o):i}function DR(i,o,u){return i&&i.length&&o&&o.length?ed(i,o,q(u,2)):i}function MR(i,o,u){return i&&i.length&&o&&o.length?ed(i,o,n,u):i}var bR=nr(function(i,o){var u=i==null?0:i.length,f=jf(i,o);return Wm(i,Me(o,function(p){return rr(p,u)?+p:p}).sort(qm)),f});function FR(i,o){var u=[];if(!(i&&i.length))return u;var f=-1,p=[],_=i.length;for(o=q(o,3);++f<_;){var w=i[f];o(w,f,i)&&(u.push(w),p.push(f))}return Wm(i,p),u}function wd(i){return i==null?i:AT.call(i)}function UR(i,o,u){var f=i==null?0:i.length;return f?(u&&typeof u!="number"&&St(i,o,u)?(o=0,u=f):(o=o==null?0:oe(o),u=u===n?f:oe(u)),ln(i,o,u)):[]}function WR(i,o){return Ha(i,o)}function zR(i,o,u){return rd(i,o,q(u,2))}function BR(i,o){var u=i==null?0:i.length;if(u){var f=Ha(i,o);if(f<u&&En(i[f],o))return f}return-1}function HR(i,o){return Ha(i,o,!0)}function $R(i,o,u){return rd(i,o,q(u,2),!0)}function VR(i,o){var u=i==null?0:i.length;if(u){var f=Ha(i,o,!0)-1;if(En(i[f],o))return f}return-1}function GR(i){return i&&i.length?Bm(i):[]}function jR(i,o){return i&&i.length?Bm(i,q(o,2)):[]}function KR(i){var o=i==null?0:i.length;return o?ln(i,1,o):[]}function YR(i,o,u){return i&&i.length?(o=u||o===n?1:oe(o),ln(i,0,o<0?0:o)):[]}function qR(i,o,u){var f=i==null?0:i.length;return f?(o=u||o===n?1:oe(o),o=f-o,ln(i,o<0?0:o,f)):[]}function QR(i,o){return i&&i.length?$a(i,q(o,3),!1,!0):[]}function XR(i,o){return i&&i.length?$a(i,q(o,3)):[]}var JR=ae(function(i){return Ar(at(i,1,Ve,!0))}),ZR=ae(function(i){var o=an(i);return Ve(o)&&(o=n),Ar(at(i,1,Ve,!0),q(o,2))}),eN=ae(function(i){var o=an(i);return o=typeof o=="function"?o:n,Ar(at(i,1,Ve,!0),n,o)});function tN(i){return i&&i.length?Ar(i):[]}function nN(i,o){return i&&i.length?Ar(i,q(o,2)):[]}function rN(i,o){return o=typeof o=="function"?o:n,i&&i.length?Ar(i,n,o):[]}function Ed(i){if(!(i&&i.length))return[];var o=0;return i=Tr(i,function(u){if(Ve(u))return o=Qe(u.length,o),!0}),Uf(o,function(u){return Me(i,Mf(u))})}function Rv(i,o){if(!(i&&i.length))return[];var u=Ed(i);return o==null?u:Me(u,function(f){return Ht(o,n,f)})}var iN=ae(function(i,o){return Ve(i)?Po(i,o):[]}),sN=ae(function(i){return sd(Tr(i,Ve))}),oN=ae(function(i){var o=an(i);return Ve(o)&&(o=n),sd(Tr(i,Ve),q(o,2))}),lN=ae(function(i){var o=an(i);return o=typeof o=="function"?o:n,sd(Tr(i,Ve),n,o)}),aN=ae(Ed);function uN(i,o){return Gm(i||[],o||[],Ao)}function cN(i,o){return Gm(i||[],o||[],Do)}var fN=ae(function(i){var o=i.length,u=o>1?i[o-1]:n;return u=typeof u=="function"?(i.pop(),u):n,Rv(i,u)});function Nv(i){var o=g(i);return o.__chain__=!0,o}function dN(i,o){return o(i),i}function Ja(i,o){return o(i)}var hN=nr(function(i){var o=i.length,u=o?i[0]:0,f=this.__wrapped__,p=function(_){return jf(_,i)};return o>1||this.__actions__.length||!(f instanceof he)||!rr(u)?this.thru(p):(f=f.slice(u,+u+(o?1:0)),f.__actions__.push({func:Ja,args:[p],thisArg:n}),new sn(f,this.__chain__).thru(function(_){return o&&!_.length&&_.push(n),_}))});function pN(){return Nv(this)}function gN(){return new sn(this.value(),this.__chain__)}function _N(){this.__values__===n&&(this.__values__=Hv(this.value()));var i=this.__index__>=this.__values__.length,o=i?n:this.__values__[this.__index__++];return{done:i,value:o}}function mN(){return this}function vN(i){for(var o,u=this;u instanceof Fa;){var f=Ev(u);f.__index__=0,f.__values__=n,o?p.__wrapped__=f:o=f;var p=f;u=u.__wrapped__}return p.__wrapped__=i,o}function yN(){var i=this.__wrapped__;if(i instanceof he){var o=i;return this.__actions__.length&&(o=new he(this)),o=o.reverse(),o.__actions__.push({func:Ja,args:[wd],thisArg:n}),new sn(o,this.__chain__)}return this.thru(wd)}function wN(){return Vm(this.__wrapped__,this.__actions__)}var EN=Va(function(i,o,u){Se.call(i,u)?++i[u]:er(i,u,1)});function SN(i,o,u){var f=ie(i)?rm:dk;return u&&St(i,o,u)&&(o=n),f(i,q(o,3))}function CN(i,o){var u=ie(i)?Tr:Rm;return u(i,q(o,3))}var IN=tv(Sv),TN=tv(Cv);function kN(i,o){return at(Za(i,o),1)}function RN(i,o){return at(Za(i,o),_n)}function NN(i,o,u){return u=u===n?1:oe(u),at(Za(i,o),u)}function xv(i,o){var u=ie(i)?nn:xr;return u(i,q(o,3))}function Av(i,o){var u=ie(i)?KI:km;return u(i,q(o,3))}var xN=Va(function(i,o,u){Se.call(i,u)?i[u].push(o):er(i,u,[o])});function AN(i,o,u,f){i=Pt(i)?i:gs(i),u=u&&!f?oe(u):0;var p=i.length;return u<0&&(u=Qe(p+u,0)),iu(i)?u<=p&&i.indexOf(o,u)>-1:!!p&&rs(i,o,u)>-1}var PN=ae(function(i,o,u){var f=-1,p=typeof o=="function",_=Pt(i)?N(i.length):[];return xr(i,function(w){_[++f]=p?Ht(o,w,u):Oo(w,o,u)}),_}),ON=Va(function(i,o,u){er(i,u,o)});function Za(i,o){var u=ie(i)?Me:Lm;return u(i,q(o,3))}function LN(i,o,u,f){return i==null?[]:(ie(o)||(o=o==null?[]:[o]),u=f?n:u,ie(u)||(u=u==null?[]:[u]),Fm(i,o,u))}var DN=Va(function(i,o,u){i[u?0:1].push(o)},function(){return[[],[]]});function MN(i,o,u){var f=ie(i)?Lf:lm,p=arguments.length<3;return f(i,q(o,4),u,p,xr)}function bN(i,o,u){var f=ie(i)?YI:lm,p=arguments.length<3;return f(i,q(o,4),u,p,km)}function FN(i,o){var u=ie(i)?Tr:Rm;return u(i,nu(q(o,3)))}function UN(i){var o=ie(i)?Sm:Ak;return o(i)}function WN(i,o,u){(u?St(i,o,u):o===n)?o=1:o=oe(o);var f=ie(i)?lk:Pk;return f(i,o)}function zN(i){var o=ie(i)?ak:Lk;return o(i)}function BN(i){if(i==null)return 0;if(Pt(i))return iu(i)?ss(i):i.length;var o=pt(i);return o==mn||o==vn?i.size:Jf(i).length}function HN(i,o,u){var f=ie(i)?Df:Dk;return u&&St(i,o,u)&&(o=n),f(i,q(o,3))}var $N=ae(function(i,o){if(i==null)return[];var u=o.length;return u>1&&St(i,o[0],o[1])?o=[]:u>2&&St(o[0],o[1],o[2])&&(o=[o[0]]),Fm(i,at(o,1),[])}),eu=CT||function(){return lt.Date.now()};function VN(i,o){if(typeof o!="function")throw new rn(a);return i=oe(i),function(){if(--i<1)return o.apply(this,arguments)}}function Pv(i,o,u){return o=u?n:o,o=i&&o==null?i.length:o,tr(i,B,n,n,n,n,o)}function Ov(i,o){var u;if(typeof o!="function")throw new rn(a);return i=oe(i),function(){return--i>0&&(u=o.apply(this,arguments)),i<=1&&(o=n),u}}var Sd=ae(function(i,o,u){var f=j;if(u.length){var p=Rr(u,hs(Sd));f|=F}return tr(i,f,o,u,p)}),Lv=ae(function(i,o,u){var f=j|C;if(u.length){var p=Rr(u,hs(Lv));f|=F}return tr(o,f,i,u,p)});function Dv(i,o,u){o=u?n:o;var f=tr(i,T,n,n,n,n,n,o);return f.placeholder=Dv.placeholder,f}function Mv(i,o,u){o=u?n:o;var f=tr(i,L,n,n,n,n,n,o);return f.placeholder=Mv.placeholder,f}function bv(i,o,u){var f,p,_,w,S,k,P=0,O=!1,M=!1,W=!0;if(typeof i!="function")throw new rn(a);o=un(o)||0,Fe(u)&&(O=!!u.leading,M="maxWait"in u,_=M?Qe(un(u.maxWait)||0,o):_,W="trailing"in u?!!u.trailing:W);function K(Ge){var Sn=f,or=p;return f=p=n,P=Ge,w=i.apply(or,Sn),w}function X(Ge){return P=Ge,S=Fo(fe,o),O?K(Ge):w}function le(Ge){var Sn=Ge-k,or=Ge-P,ty=o-Sn;return M?ht(ty,_-or):ty}function J(Ge){var Sn=Ge-k,or=Ge-P;return k===n||Sn>=o||Sn<0||M&&or>=_}function fe(){var Ge=eu();if(J(Ge))return ge(Ge);S=Fo(fe,le(Ge))}function ge(Ge){return S=n,W&&f?K(Ge):(f=p=n,w)}function jt(){S!==n&&jm(S),P=0,f=k=p=S=n}function Ct(){return S===n?w:ge(eu())}function Kt(){var Ge=eu(),Sn=J(Ge);if(f=arguments,p=this,k=Ge,Sn){if(S===n)return X(k);if(M)return jm(S),S=Fo(fe,o),K(k)}return S===n&&(S=Fo(fe,o)),w}return Kt.cancel=jt,Kt.flush=Ct,Kt}var GN=ae(function(i,o){return Tm(i,1,o)}),jN=ae(function(i,o,u){return Tm(i,un(o)||0,u)});function KN(i){return tr(i,ye)}function tu(i,o){if(typeof i!="function"||o!=null&&typeof o!="function")throw new rn(a);var u=function(){var f=arguments,p=o?o.apply(this,f):f[0],_=u.cache;if(_.has(p))return _.get(p);var w=i.apply(this,f);return u.cache=_.set(p,w)||_,w};return u.cache=new(tu.Cache||Zn),u}tu.Cache=Zn;function nu(i){if(typeof i!="function")throw new rn(a);return function(){var o=arguments;switch(o.length){case 0:return!i.call(this);case 1:return!i.call(this,o[0]);case 2:return!i.call(this,o[0],o[1]);case 3:return!i.call(this,o[0],o[1],o[2])}return!i.apply(this,o)}}function YN(i){return Ov(2,i)}var qN=Mk(function(i,o){o=o.length==1&&ie(o[0])?Me(o[0],$t(q())):Me(at(o,1),$t(q()));var u=o.length;return ae(function(f){for(var p=-1,_=ht(f.length,u);++p<_;)f[p]=o[p].call(this,f[p]);return Ht(i,this,f)})}),Cd=ae(function(i,o){var u=Rr(o,hs(Cd));return tr(i,F,n,o,u)}),Fv=ae(function(i,o){var u=Rr(o,hs(Fv));return tr(i,H,n,o,u)}),QN=nr(function(i,o){return tr(i,G,n,n,n,o)});function XN(i,o){if(typeof i!="function")throw new rn(a);return o=o===n?o:oe(o),ae(i,o)}function JN(i,o){if(typeof i!="function")throw new rn(a);return o=o==null?0:Qe(oe(o),0),ae(function(u){var f=u[o],p=Or(u,0,o);return f&&kr(p,f),Ht(i,this,p)})}function ZN(i,o,u){var f=!0,p=!0;if(typeof i!="function")throw new rn(a);return Fe(u)&&(f="leading"in u?!!u.leading:f,p="trailing"in u?!!u.trailing:p),bv(i,o,{leading:f,maxWait:o,trailing:p})}function ex(i){return Pv(i,1)}function tx(i,o){return Cd(ld(o),i)}function nx(){if(!arguments.length)return[];var i=arguments[0];return ie(i)?i:[i]}function rx(i){return on(i,R)}function ix(i,o){return o=typeof o=="function"?o:n,on(i,R,o)}function sx(i){return on(i,m|R)}function ox(i,o){return o=typeof o=="function"?o:n,on(i,m|R,o)}function lx(i,o){return o==null||Im(i,o,tt(o))}function En(i,o){return i===o||i!==i&&o!==o}var ax=Ya(qf),ux=Ya(function(i,o){return i>=o}),Ii=Am(function(){return arguments}())?Am:function(i){return Be(i)&&Se.call(i,"callee")&&!_m.call(i,"callee")},ie=N.isArray,cx=X_?$t(X_):vk;function Pt(i){return i!=null&&ru(i.length)&&!ir(i)}function Ve(i){return Be(i)&&Pt(i)}function fx(i){return i===!0||i===!1||Be(i)&&Et(i)==mo}var Lr=TT||Dd,dx=J_?$t(J_):yk;function hx(i){return Be(i)&&i.nodeType===1&&!Uo(i)}function px(i){if(i==null)return!0;if(Pt(i)&&(ie(i)||typeof i=="string"||typeof i.splice=="function"||Lr(i)||ps(i)||Ii(i)))return!i.length;var o=pt(i);if(o==mn||o==vn)return!i.size;if(bo(i))return!Jf(i).length;for(var u in i)if(Se.call(i,u))return!1;return!0}function gx(i,o){return Lo(i,o)}function _x(i,o,u){u=typeof u=="function"?u:n;var f=u?u(i,o):n;return f===n?Lo(i,o,n,u):!!f}function Id(i){if(!Be(i))return!1;var o=Et(i);return o==ga||o==WC||typeof i.message=="string"&&typeof i.name=="string"&&!Uo(i)}function mx(i){return typeof i=="number"&&vm(i)}function ir(i){if(!Fe(i))return!1;var o=Et(i);return o==_a||o==T_||o==es||o==BC}function Uv(i){return typeof i=="number"&&i==oe(i)}function ru(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=z}function Fe(i){var o=typeof i;return i!=null&&(o=="object"||o=="function")}function Be(i){return i!=null&&typeof i=="object"}var Wv=Z_?$t(Z_):Ek;function vx(i,o){return i===o||Xf(i,o,pd(o))}function yx(i,o,u){return u=typeof u=="function"?u:n,Xf(i,o,pd(o),u)}function wx(i){return zv(i)&&i!=+i}function Ex(i){if(iR(i))throw new te(l);return Pm(i)}function Sx(i){return i===null}function Cx(i){return i==null}function zv(i){return typeof i=="number"||Be(i)&&Et(i)==yo}function Uo(i){if(!Be(i)||Et(i)!=Xn)return!1;var o=Aa(i);if(o===null)return!0;var u=Se.call(o,"constructor")&&o.constructor;return typeof u=="function"&&u instanceof u&&ka.call(u)==yT}var Td=em?$t(em):Sk;function Ix(i){return Uv(i)&&i>=-z&&i<=z}var Bv=tm?$t(tm):Ck;function iu(i){return typeof i=="string"||!ie(i)&&Be(i)&&Et(i)==Eo}function Gt(i){return typeof i=="symbol"||Be(i)&&Et(i)==ma}var ps=nm?$t(nm):Ik;function Tx(i){return i===n}function kx(i){return Be(i)&&pt(i)==So}function Rx(i){return Be(i)&&Et(i)==$C}var Nx=Ya(Zf),xx=Ya(function(i,o){return i<=o});function Hv(i){if(!i)return[];if(Pt(i))return iu(i)?yn(i):At(i);if(To&&i[To])return lT(i[To]());var o=pt(i),u=o==mn?zf:o==vn?Ca:gs;return u(i)}function sr(i){if(!i)return i===0?i:0;if(i=un(i),i===_n||i===-_n){var o=i<0?-1:1;return o*ne}return i===i?i:0}function oe(i){var o=sr(i),u=o%1;return o===o?u?o-u:o:0}function $v(i){return i?wi(oe(i),0,me):0}function un(i){if(typeof i=="number")return i;if(Gt(i))return re;if(Fe(i)){var o=typeof i.valueOf=="function"?i.valueOf():i;i=Fe(o)?o+"":o}if(typeof i!="string")return i===0?i:+i;i=am(i);var u=cI.test(i);return u||dI.test(i)?VI(i.slice(2),u?2:8):uI.test(i)?re:+i}function Vv(i){return Wn(i,Ot(i))}function Ax(i){return i?wi(oe(i),-z,z):i===0?i:0}function Ee(i){return i==null?"":Vt(i)}var Px=fs(function(i,o){if(bo(o)||Pt(o)){Wn(o,tt(o),i);return}for(var u in o)Se.call(o,u)&&Ao(i,u,o[u])}),Gv=fs(function(i,o){Wn(o,Ot(o),i)}),su=fs(function(i,o,u,f){Wn(o,Ot(o),i,f)}),Ox=fs(function(i,o,u,f){Wn(o,tt(o),i,f)}),Lx=nr(jf);function Dx(i,o){var u=cs(i);return o==null?u:Cm(u,o)}var Mx=ae(function(i,o){i=Te(i);var u=-1,f=o.length,p=f>2?o[2]:n;for(p&&St(o[0],o[1],p)&&(f=1);++u<f;)for(var _=o[u],w=Ot(_),S=-1,k=w.length;++S<k;){var P=w[S],O=i[P];(O===n||En(O,ls[P])&&!Se.call(i,P))&&(i[P]=_[P])}return i}),bx=ae(function(i){return i.push(n,av),Ht(jv,n,i)});function Fx(i,o){return im(i,q(o,3),Un)}function Ux(i,o){return im(i,q(o,3),Yf)}function Wx(i,o){return i==null?i:Kf(i,q(o,3),Ot)}function zx(i,o){return i==null?i:Nm(i,q(o,3),Ot)}function Bx(i,o){return i&&Un(i,q(o,3))}function Hx(i,o){return i&&Yf(i,q(o,3))}function $x(i){return i==null?[]:za(i,tt(i))}function Vx(i){return i==null?[]:za(i,Ot(i))}function kd(i,o,u){var f=i==null?n:Ei(i,o);return f===n?u:f}function Gx(i,o){return i!=null&&fv(i,o,pk)}function Rd(i,o){return i!=null&&fv(i,o,gk)}var jx=rv(function(i,o,u){o!=null&&typeof o.toString!="function"&&(o=Ra.call(o)),i[o]=u},xd(Lt)),Kx=rv(function(i,o,u){o!=null&&typeof o.toString!="function"&&(o=Ra.call(o)),Se.call(i,o)?i[o].push(u):i[o]=[u]},q),Yx=ae(Oo);function tt(i){return Pt(i)?Em(i):Jf(i)}function Ot(i){return Pt(i)?Em(i,!0):Tk(i)}function qx(i,o){var u={};return o=q(o,3),Un(i,function(f,p,_){er(u,o(f,p,_),f)}),u}function Qx(i,o){var u={};return o=q(o,3),Un(i,function(f,p,_){er(u,p,o(f,p,_))}),u}var Xx=fs(function(i,o,u){Ba(i,o,u)}),jv=fs(function(i,o,u,f){Ba(i,o,u,f)}),Jx=nr(function(i,o){var u={};if(i==null)return u;var f=!1;o=Me(o,function(_){return _=Pr(_,i),f||(f=_.length>1),_}),Wn(i,dd(i),u),f&&(u=on(u,m|y|R,jk));for(var p=o.length;p--;)id(u,o[p]);return u});function Zx(i,o){return Kv(i,nu(q(o)))}var eA=nr(function(i,o){return i==null?{}:Rk(i,o)});function Kv(i,o){if(i==null)return{};var u=Me(dd(i),function(f){return[f]});return o=q(o),Um(i,u,function(f,p){return o(f,p[0])})}function tA(i,o,u){o=Pr(o,i);var f=-1,p=o.length;for(p||(p=1,i=n);++f<p;){var _=i==null?n:i[zn(o[f])];_===n&&(f=p,_=u),i=ir(_)?_.call(i):_}return i}function nA(i,o,u){return i==null?i:Do(i,o,u)}function rA(i,o,u,f){return f=typeof f=="function"?f:n,i==null?i:Do(i,o,u,f)}var Yv=ov(tt),qv=ov(Ot);function iA(i,o,u){var f=ie(i),p=f||Lr(i)||ps(i);if(o=q(o,4),u==null){var _=i&&i.constructor;p?u=f?new _:[]:Fe(i)?u=ir(_)?cs(Aa(i)):{}:u={}}return(p?nn:Un)(i,function(w,S,k){return o(u,w,S,k)}),u}function sA(i,o){return i==null?!0:id(i,o)}function oA(i,o,u){return i==null?i:$m(i,o,ld(u))}function lA(i,o,u,f){return f=typeof f=="function"?f:n,i==null?i:$m(i,o,ld(u),f)}function gs(i){return i==null?[]:Wf(i,tt(i))}function aA(i){return i==null?[]:Wf(i,Ot(i))}function uA(i,o,u){return u===n&&(u=o,o=n),u!==n&&(u=un(u),u=u===u?u:0),o!==n&&(o=un(o),o=o===o?o:0),wi(un(i),o,u)}function cA(i,o,u){return o=sr(o),u===n?(u=o,o=0):u=sr(u),i=un(i),_k(i,o,u)}function fA(i,o,u){if(u&&typeof u!="boolean"&&St(i,o,u)&&(o=u=n),u===n&&(typeof o=="boolean"?(u=o,o=n):typeof i=="boolean"&&(u=i,i=n)),i===n&&o===n?(i=0,o=1):(i=sr(i),o===n?(o=i,i=0):o=sr(o)),i>o){var f=i;i=o,o=f}if(u||i%1||o%1){var p=ym();return ht(i+p*(o-i+$I("1e-"+((p+"").length-1))),o)}return td(i,o)}var dA=ds(function(i,o,u){return o=o.toLowerCase(),i+(u?Qv(o):o)});function Qv(i){return Nd(Ee(i).toLowerCase())}function Xv(i){return i=Ee(i),i&&i.replace(pI,nT).replace(LI,"")}function hA(i,o,u){i=Ee(i),o=Vt(o);var f=i.length;u=u===n?f:wi(oe(u),0,f);var p=u;return u-=o.length,u>=0&&i.slice(u,p)==o}function pA(i){return i=Ee(i),i&&YC.test(i)?i.replace(N_,rT):i}function gA(i){return i=Ee(i),i&&eI.test(i)?i.replace(Cf,"\\$&"):i}var _A=ds(function(i,o,u){return i+(u?"-":"")+o.toLowerCase()}),mA=ds(function(i,o,u){return i+(u?" ":"")+o.toLowerCase()}),vA=ev("toLowerCase");function yA(i,o,u){i=Ee(i),o=oe(o);var f=o?ss(i):0;if(!o||f>=o)return i;var p=(o-f)/2;return Ka(Da(p),u)+i+Ka(La(p),u)}function wA(i,o,u){i=Ee(i),o=oe(o);var f=o?ss(i):0;return o&&f<o?i+Ka(o-f,u):i}function EA(i,o,u){i=Ee(i),o=oe(o);var f=o?ss(i):0;return o&&f<o?Ka(o-f,u)+i:i}function SA(i,o,u){return u||o==null?o=0:o&&(o=+o),xT(Ee(i).replace(If,""),o||0)}function CA(i,o,u){return(u?St(i,o,u):o===n)?o=1:o=oe(o),nd(Ee(i),o)}function IA(){var i=arguments,o=Ee(i[0]);return i.length<3?o:o.replace(i[1],i[2])}var TA=ds(function(i,o,u){return i+(u?"_":"")+o.toLowerCase()});function kA(i,o,u){return u&&typeof u!="number"&&St(i,o,u)&&(o=u=n),u=u===n?me:u>>>0,u?(i=Ee(i),i&&(typeof o=="string"||o!=null&&!Td(o))&&(o=Vt(o),!o&&is(i))?Or(yn(i),0,u):i.split(o,u)):[]}var RA=ds(function(i,o,u){return i+(u?" ":"")+Nd(o)});function NA(i,o,u){return i=Ee(i),u=u==null?0:wi(oe(u),0,i.length),o=Vt(o),i.slice(u,u+o.length)==o}function xA(i,o,u){var f=g.templateSettings;u&&St(i,o,u)&&(o=n),i=Ee(i),o=su({},o,f,lv);var p=su({},o.imports,f.imports,lv),_=tt(p),w=Wf(p,_),S,k,P=0,O=o.interpolate||va,M="__p += '",W=Bf((o.escape||va).source+"|"+O.source+"|"+(O===x_?aI:va).source+"|"+(o.evaluate||va).source+"|$","g"),K="//# sourceURL="+(Se.call(o,"sourceURL")?(o.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++UI+"]")+`
`;i.replace(W,function(J,fe,ge,jt,Ct,Kt){return ge||(ge=jt),M+=i.slice(P,Kt).replace(gI,iT),fe&&(S=!0,M+=`' +
__e(`+fe+`) +
'`),Ct&&(k=!0,M+=`';
`+Ct+`;
__p += '`),ge&&(M+=`' +
((__t = (`+ge+`)) == null ? '' : __t) +
'`),P=Kt+J.length,J}),M+=`';
`;var X=Se.call(o,"variable")&&o.variable;if(!X)M=`with (obj) {
`+M+`
}
`;else if(oI.test(X))throw new te(c);M=(k?M.replace(VC,""):M).replace(GC,"$1").replace(jC,"$1;"),M="function("+(X||"obj")+`) {
`+(X?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(S?", __e = _.escape":"")+(k?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+M+`return __p
}`;var le=Zv(function(){return we(_,K+"return "+M).apply(n,w)});if(le.source=M,Id(le))throw le;return le}function AA(i){return Ee(i).toLowerCase()}function PA(i){return Ee(i).toUpperCase()}function OA(i,o,u){if(i=Ee(i),i&&(u||o===n))return am(i);if(!i||!(o=Vt(o)))return i;var f=yn(i),p=yn(o),_=um(f,p),w=cm(f,p)+1;return Or(f,_,w).join("")}function LA(i,o,u){if(i=Ee(i),i&&(u||o===n))return i.slice(0,dm(i)+1);if(!i||!(o=Vt(o)))return i;var f=yn(i),p=cm(f,yn(o))+1;return Or(f,0,p).join("")}function DA(i,o,u){if(i=Ee(i),i&&(u||o===n))return i.replace(If,"");if(!i||!(o=Vt(o)))return i;var f=yn(i),p=um(f,yn(o));return Or(f,p).join("")}function MA(i,o){var u=ee,f=Y;if(Fe(o)){var p="separator"in o?o.separator:p;u="length"in o?oe(o.length):u,f="omission"in o?Vt(o.omission):f}i=Ee(i);var _=i.length;if(is(i)){var w=yn(i);_=w.length}if(u>=_)return i;var S=u-ss(f);if(S<1)return f;var k=w?Or(w,0,S).join(""):i.slice(0,S);if(p===n)return k+f;if(w&&(S+=k.length-S),Td(p)){if(i.slice(S).search(p)){var P,O=k;for(p.global||(p=Bf(p.source,Ee(A_.exec(p))+"g")),p.lastIndex=0;P=p.exec(O);)var M=P.index;k=k.slice(0,M===n?S:M)}}else if(i.indexOf(Vt(p),S)!=S){var W=k.lastIndexOf(p);W>-1&&(k=k.slice(0,W))}return k+f}function bA(i){return i=Ee(i),i&&KC.test(i)?i.replace(R_,fT):i}var FA=ds(function(i,o,u){return i+(u?" ":"")+o.toUpperCase()}),Nd=ev("toUpperCase");function Jv(i,o,u){return i=Ee(i),o=u?n:o,o===n?oT(i)?pT(i):XI(i):i.match(o)||[]}var Zv=ae(function(i,o){try{return Ht(i,n,o)}catch(u){return Id(u)?u:new te(u)}}),UA=nr(function(i,o){return nn(o,function(u){u=zn(u),er(i,u,Sd(i[u],i))}),i});function WA(i){var o=i==null?0:i.length,u=q();return i=o?Me(i,function(f){if(typeof f[1]!="function")throw new rn(a);return[u(f[0]),f[1]]}):[],ae(function(f){for(var p=-1;++p<o;){var _=i[p];if(Ht(_[0],this,f))return Ht(_[1],this,f)}})}function zA(i){return fk(on(i,m))}function xd(i){return function(){return i}}function BA(i,o){return i==null||i!==i?o:i}var HA=nv(),$A=nv(!0);function Lt(i){return i}function Ad(i){return Om(typeof i=="function"?i:on(i,m))}function VA(i){return Dm(on(i,m))}function GA(i,o){return Mm(i,on(o,m))}var jA=ae(function(i,o){return function(u){return Oo(u,i,o)}}),KA=ae(function(i,o){return function(u){return Oo(i,u,o)}});function Pd(i,o,u){var f=tt(o),p=za(o,f);u==null&&!(Fe(o)&&(p.length||!f.length))&&(u=o,o=i,i=this,p=za(o,tt(o)));var _=!(Fe(u)&&"chain"in u)||!!u.chain,w=ir(i);return nn(p,function(S){var k=o[S];i[S]=k,w&&(i.prototype[S]=function(){var P=this.__chain__;if(_||P){var O=i(this.__wrapped__),M=O.__actions__=At(this.__actions__);return M.push({func:k,args:arguments,thisArg:i}),O.__chain__=P,O}return k.apply(i,kr([this.value()],arguments))})}),i}function YA(){return lt._===this&&(lt._=wT),this}function Od(){}function qA(i){return i=oe(i),ae(function(o){return bm(o,i)})}var QA=ud(Me),XA=ud(rm),JA=ud(Df);function ey(i){return _d(i)?Mf(zn(i)):Nk(i)}function ZA(i){return function(o){return i==null?n:Ei(i,o)}}var eP=iv(),tP=iv(!0);function Ld(){return[]}function Dd(){return!1}function nP(){return{}}function rP(){return""}function iP(){return!0}function sP(i,o){if(i=oe(i),i<1||i>z)return[];var u=me,f=ht(i,me);o=q(o),i-=me;for(var p=Uf(f,o);++u<i;)o(u);return p}function oP(i){return ie(i)?Me(i,zn):Gt(i)?[i]:At(wv(Ee(i)))}function lP(i){var o=++vT;return Ee(i)+o}var aP=ja(function(i,o){return i+o},0),uP=cd("ceil"),cP=ja(function(i,o){return i/o},1),fP=cd("floor");function dP(i){return i&&i.length?Wa(i,Lt,qf):n}function hP(i,o){return i&&i.length?Wa(i,q(o,2),qf):n}function pP(i){return om(i,Lt)}function gP(i,o){return om(i,q(o,2))}function _P(i){return i&&i.length?Wa(i,Lt,Zf):n}function mP(i,o){return i&&i.length?Wa(i,q(o,2),Zf):n}var vP=ja(function(i,o){return i*o},1),yP=cd("round"),wP=ja(function(i,o){return i-o},0);function EP(i){return i&&i.length?Ff(i,Lt):0}function SP(i,o){return i&&i.length?Ff(i,q(o,2)):0}return g.after=VN,g.ary=Pv,g.assign=Px,g.assignIn=Gv,g.assignInWith=su,g.assignWith=Ox,g.at=Lx,g.before=Ov,g.bind=Sd,g.bindAll=UA,g.bindKey=Lv,g.castArray=nx,g.chain=Nv,g.chunk=fR,g.compact=dR,g.concat=hR,g.cond=WA,g.conforms=zA,g.constant=xd,g.countBy=EN,g.create=Dx,g.curry=Dv,g.curryRight=Mv,g.debounce=bv,g.defaults=Mx,g.defaultsDeep=bx,g.defer=GN,g.delay=jN,g.difference=pR,g.differenceBy=gR,g.differenceWith=_R,g.drop=mR,g.dropRight=vR,g.dropRightWhile=yR,g.dropWhile=wR,g.fill=ER,g.filter=CN,g.flatMap=kN,g.flatMapDeep=RN,g.flatMapDepth=NN,g.flatten=Iv,g.flattenDeep=SR,g.flattenDepth=CR,g.flip=KN,g.flow=HA,g.flowRight=$A,g.fromPairs=IR,g.functions=$x,g.functionsIn=Vx,g.groupBy=xN,g.initial=kR,g.intersection=RR,g.intersectionBy=NR,g.intersectionWith=xR,g.invert=jx,g.invertBy=Kx,g.invokeMap=PN,g.iteratee=Ad,g.keyBy=ON,g.keys=tt,g.keysIn=Ot,g.map=Za,g.mapKeys=qx,g.mapValues=Qx,g.matches=VA,g.matchesProperty=GA,g.memoize=tu,g.merge=Xx,g.mergeWith=jv,g.method=jA,g.methodOf=KA,g.mixin=Pd,g.negate=nu,g.nthArg=qA,g.omit=Jx,g.omitBy=Zx,g.once=YN,g.orderBy=LN,g.over=QA,g.overArgs=qN,g.overEvery=XA,g.overSome=JA,g.partial=Cd,g.partialRight=Fv,g.partition=DN,g.pick=eA,g.pickBy=Kv,g.property=ey,g.propertyOf=ZA,g.pull=LR,g.pullAll=kv,g.pullAllBy=DR,g.pullAllWith=MR,g.pullAt=bR,g.range=eP,g.rangeRight=tP,g.rearg=QN,g.reject=FN,g.remove=FR,g.rest=XN,g.reverse=wd,g.sampleSize=WN,g.set=nA,g.setWith=rA,g.shuffle=zN,g.slice=UR,g.sortBy=$N,g.sortedUniq=GR,g.sortedUniqBy=jR,g.split=kA,g.spread=JN,g.tail=KR,g.take=YR,g.takeRight=qR,g.takeRightWhile=QR,g.takeWhile=XR,g.tap=dN,g.throttle=ZN,g.thru=Ja,g.toArray=Hv,g.toPairs=Yv,g.toPairsIn=qv,g.toPath=oP,g.toPlainObject=Vv,g.transform=iA,g.unary=ex,g.union=JR,g.unionBy=ZR,g.unionWith=eN,g.uniq=tN,g.uniqBy=nN,g.uniqWith=rN,g.unset=sA,g.unzip=Ed,g.unzipWith=Rv,g.update=oA,g.updateWith=lA,g.values=gs,g.valuesIn=aA,g.without=iN,g.words=Jv,g.wrap=tx,g.xor=sN,g.xorBy=oN,g.xorWith=lN,g.zip=aN,g.zipObject=uN,g.zipObjectDeep=cN,g.zipWith=fN,g.entries=Yv,g.entriesIn=qv,g.extend=Gv,g.extendWith=su,Pd(g,g),g.add=aP,g.attempt=Zv,g.camelCase=dA,g.capitalize=Qv,g.ceil=uP,g.clamp=uA,g.clone=rx,g.cloneDeep=sx,g.cloneDeepWith=ox,g.cloneWith=ix,g.conformsTo=lx,g.deburr=Xv,g.defaultTo=BA,g.divide=cP,g.endsWith=hA,g.eq=En,g.escape=pA,g.escapeRegExp=gA,g.every=SN,g.find=IN,g.findIndex=Sv,g.findKey=Fx,g.findLast=TN,g.findLastIndex=Cv,g.findLastKey=Ux,g.floor=fP,g.forEach=xv,g.forEachRight=Av,g.forIn=Wx,g.forInRight=zx,g.forOwn=Bx,g.forOwnRight=Hx,g.get=kd,g.gt=ax,g.gte=ux,g.has=Gx,g.hasIn=Rd,g.head=Tv,g.identity=Lt,g.includes=AN,g.indexOf=TR,g.inRange=cA,g.invoke=Yx,g.isArguments=Ii,g.isArray=ie,g.isArrayBuffer=cx,g.isArrayLike=Pt,g.isArrayLikeObject=Ve,g.isBoolean=fx,g.isBuffer=Lr,g.isDate=dx,g.isElement=hx,g.isEmpty=px,g.isEqual=gx,g.isEqualWith=_x,g.isError=Id,g.isFinite=mx,g.isFunction=ir,g.isInteger=Uv,g.isLength=ru,g.isMap=Wv,g.isMatch=vx,g.isMatchWith=yx,g.isNaN=wx,g.isNative=Ex,g.isNil=Cx,g.isNull=Sx,g.isNumber=zv,g.isObject=Fe,g.isObjectLike=Be,g.isPlainObject=Uo,g.isRegExp=Td,g.isSafeInteger=Ix,g.isSet=Bv,g.isString=iu,g.isSymbol=Gt,g.isTypedArray=ps,g.isUndefined=Tx,g.isWeakMap=kx,g.isWeakSet=Rx,g.join=AR,g.kebabCase=_A,g.last=an,g.lastIndexOf=PR,g.lowerCase=mA,g.lowerFirst=vA,g.lt=Nx,g.lte=xx,g.max=dP,g.maxBy=hP,g.mean=pP,g.meanBy=gP,g.min=_P,g.minBy=mP,g.stubArray=Ld,g.stubFalse=Dd,g.stubObject=nP,g.stubString=rP,g.stubTrue=iP,g.multiply=vP,g.nth=OR,g.noConflict=YA,g.noop=Od,g.now=eu,g.pad=yA,g.padEnd=wA,g.padStart=EA,g.parseInt=SA,g.random=fA,g.reduce=MN,g.reduceRight=bN,g.repeat=CA,g.replace=IA,g.result=tA,g.round=yP,g.runInContext=I,g.sample=UN,g.size=BN,g.snakeCase=TA,g.some=HN,g.sortedIndex=WR,g.sortedIndexBy=zR,g.sortedIndexOf=BR,g.sortedLastIndex=HR,g.sortedLastIndexBy=$R,g.sortedLastIndexOf=VR,g.startCase=RA,g.startsWith=NA,g.subtract=wP,g.sum=EP,g.sumBy=SP,g.template=xA,g.times=sP,g.toFinite=sr,g.toInteger=oe,g.toLength=$v,g.toLower=AA,g.toNumber=un,g.toSafeInteger=Ax,g.toString=Ee,g.toUpper=PA,g.trim=OA,g.trimEnd=LA,g.trimStart=DA,g.truncate=MA,g.unescape=bA,g.uniqueId=lP,g.upperCase=FA,g.upperFirst=Nd,g.each=xv,g.eachRight=Av,g.first=Tv,Pd(g,function(){var i={};return Un(g,function(o,u){Se.call(g.prototype,u)||(i[u]=o)}),i}(),{chain:!1}),g.VERSION=r,nn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){g[i].placeholder=g}),nn(["drop","take"],function(i,o){he.prototype[i]=function(u){u=u===n?1:Qe(oe(u),0);var f=this.__filtered__&&!o?new he(this):this.clone();return f.__filtered__?f.__takeCount__=ht(u,f.__takeCount__):f.__views__.push({size:ht(u,me),type:i+(f.__dir__<0?"Right":"")}),f},he.prototype[i+"Right"]=function(u){return this.reverse()[i](u).reverse()}}),nn(["filter","map","takeWhile"],function(i,o){var u=o+1,f=u==Ir||u==gi;he.prototype[i]=function(p){var _=this.clone();return _.__iteratees__.push({iteratee:q(p,3),type:u}),_.__filtered__=_.__filtered__||f,_}}),nn(["head","last"],function(i,o){var u="take"+(o?"Right":"");he.prototype[i]=function(){return this[u](1).value()[0]}}),nn(["initial","tail"],function(i,o){var u="drop"+(o?"":"Right");he.prototype[i]=function(){return this.__filtered__?new he(this):this[u](1)}}),he.prototype.compact=function(){return this.filter(Lt)},he.prototype.find=function(i){return this.filter(i).head()},he.prototype.findLast=function(i){return this.reverse().find(i)},he.prototype.invokeMap=ae(function(i,o){return typeof i=="function"?new he(this):this.map(function(u){return Oo(u,i,o)})}),he.prototype.reject=function(i){return this.filter(nu(q(i)))},he.prototype.slice=function(i,o){i=oe(i);var u=this;return u.__filtered__&&(i>0||o<0)?new he(u):(i<0?u=u.takeRight(-i):i&&(u=u.drop(i)),o!==n&&(o=oe(o),u=o<0?u.dropRight(-o):u.take(o-i)),u)},he.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},he.prototype.toArray=function(){return this.take(me)},Un(he.prototype,function(i,o){var u=/^(?:filter|find|map|reject)|While$/.test(o),f=/^(?:head|last)$/.test(o),p=g[f?"take"+(o=="last"?"Right":""):o],_=f||/^find/.test(o);p&&(g.prototype[o]=function(){var w=this.__wrapped__,S=f?[1]:arguments,k=w instanceof he,P=S[0],O=k||ie(w),M=function(fe){var ge=p.apply(g,kr([fe],S));return f&&W?ge[0]:ge};O&&u&&typeof P=="function"&&P.length!=1&&(k=O=!1);var W=this.__chain__,K=!!this.__actions__.length,X=_&&!W,le=k&&!K;if(!_&&O){w=le?w:new he(this);var J=i.apply(w,S);return J.__actions__.push({func:Ja,args:[M],thisArg:n}),new sn(J,W)}return X&&le?i.apply(this,S):(J=this.thru(M),X?f?J.value()[0]:J.value():J)})}),nn(["pop","push","shift","sort","splice","unshift"],function(i){var o=Ia[i],u=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",f=/^(?:pop|shift)$/.test(i);g.prototype[i]=function(){var p=arguments;if(f&&!this.__chain__){var _=this.value();return o.apply(ie(_)?_:[],p)}return this[u](function(w){return o.apply(ie(w)?w:[],p)})}}),Un(he.prototype,function(i,o){var u=g[o];if(u){var f=u.name+"";Se.call(us,f)||(us[f]=[]),us[f].push({name:o,func:u})}}),us[Ga(n,C).name]=[{name:"wrapper",func:n}],he.prototype.clone=bT,he.prototype.reverse=FT,he.prototype.value=UT,g.prototype.at=hN,g.prototype.chain=pN,g.prototype.commit=gN,g.prototype.next=_N,g.prototype.plant=vN,g.prototype.reverse=yN,g.prototype.toJSON=g.prototype.valueOf=g.prototype.value=wN,g.prototype.first=g.prototype.head,To&&(g.prototype[To]=mN),g},os=gT();_i?((_i.exports=os)._=os,Af._=os):lt._=os}).call(Wo)})(q3,si);const Q3=()=>{const[t,e]=Ce.useState(),[n,r]=Ce.useState(),[s,l]=Ce.useState(),[a,c]=Ce.useState();return It("form",{onSubmit:h=>{h.preventDefault();const v=go.getMoviesRef(),m=SF(v);uf(m,{title:t.value||"",year:n.value||"",image:s.value||"",comment:a.value||""})},children:[se("h2",{children:"Add A Movie"}),se("label",{htmlFor:"titleField",children:"Title"}),se("input",{id:"titleField",type:"text",placeholder:"enter a title",ref:e}),se("label",{htmlFor:"yearField",children:"Year"}),se("input",{id:"yearField",type:"number",placeholder:"enter a year",ref:r}),se("label",{htmlFor:"imageField",children:"Image Url"}),se("input",{id:"imageField",type:"text",placeholder:"enter image url",ref:l}),se("label",{htmlFor:"commentField",children:"Comments"}),se("textarea",{id:"commentField",placeholder:"enter comments",ref:c}),se("button",{type:"submit",children:"Add"})]})};var Dc={},X3={get exports(){return Dc},set exports(t){Dc=t}},J3="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Z3=J3,e4=Z3;function bC(){}function FC(){}FC.resetWarningCache=bC;var t4=function(){function t(r,s,l,a,c,d){if(d!==e4){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:FC,resetWarningCache:bC};return n.PropTypes=n,n};X3.exports=t4();const n4=t=>{const e=go.getMovieRef(t);CF(e)},UC=({movies:t=[],user:e={}})=>{const[n,r]=Ce.useState(),[s,l]=Ce.useState(),[a,c]=Ce.useState(),[d,h]=Ce.useState(),[v,m]=Ce.useState(),[y,R]=Ce.useState(),[x,D]=Ce.useState(),[j,C]=Ce.useState(),[E,T]=Ce.useState(t),L=e.email==="slatron@gmail.com",F=Y=>{const Mn=go.getMovieRef(Y.id);IF(Mn).then(bn=>{uf(Mn,{...bn.val(),...Y}),m(),D(),r(),c();const Ir=si.findIndex(E,gi=>gi.id===Y.id),_o=[...E.slice(0,Ir),{...bn.val(),...Y},...E.slice(Ir+1,E.length)];T(_o)})},H=Y=>{!L||n||r(Y)},B=Y=>{!L||a||c(Y)},G=Y=>{!L||v||m(Y)},ye=Y=>{!L||x||D(Y)},ee=Y=>{T(si.sortBy(t,Y))};return It("table",{className:"movie-table",children:[se("thead",{children:It("tr",{children:[se("th",{className:"title hand",onClick:()=>ee("title"),children:"Title"}),se("th",{className:"year hand",onClick:()=>ee("year"),children:"Year"}),se("th",{className:"image hand",onClick:()=>ee("title"),children:"Poster"}),se("th",{className:"comment hand",onClick:()=>ee("comment"),children:"Comment"}),L&&se("th",{className:"delete-icon"})]})}),se("tbody",{children:E.map(Y=>It("tr",{children:[It("td",{className:"title",onClick:()=>H(Y.id),children:[Y.title,n===Y.id&&It(Zo,{children:[se("br",{}),se("input",{type:"text",placeholder:"enter a title",ref:l,onBlur:()=>F({id:Y.id,title:s.value||""})}),se("button",{className:"but-cancel",type:"button",onClick:()=>F({id:Y.id,title:Y.title}),children:"cancel"})]})]}),It("td",{className:"year",onClick:()=>B(Y.id),children:[Y.year,a===Y.id&&It(Zo,{children:[se("br",{}),se("input",{type:"text",placeholder:"enter year",ref:h,onBlur:()=>F({id:Y.id,year:d.value||""})}),se("button",{className:"but-cancel",type:"button",onClick:()=>F({id:Y.id,year:Y.year}),children:"cancel"})]})]}),It("td",{className:"image",onClick:()=>G(Y.id),children:[!si.isEmpty(Y.image)&&se("img",{src:Y.image}),v===Y.id&&It(Zo,{children:[se("input",{type:"text",placeholder:"enter url",ref:R,onBlur:()=>F({id:Y.id,image:y.value||""})}),se("button",{className:"but-cancel",type:"button",onClick:()=>F({id:Y.id,image:Y.image}),children:"cancel"})]})]}),It("td",{className:"comment",onClick:()=>ye(Y.id),children:[Y.comment,x===Y.id&&It(Zo,{children:[se("br",{}),se("textarea",{placeholder:Y.comment,ref:C,onBlur:()=>F({id:Y.id,comment:j.value||""})}),se("button",{className:"but-cancel",type:"button",onClick:()=>F({id:Y.id,comment:Y.comment}),children:"cancel"})]})]}),L&&se("td",{onClick:()=>n4(Y.id),className:"delete-icon",children:"X"})]},Y.id))})]})};UC.propTypes={movies:Dc.array,user:Dc.object};const r4=({setUser:t})=>{const[e,n]=Ce.useState({}),[r,s]=Ce.useState({}),[l,a]=Ce.useState(!1);return It("form",{className:"login",onSubmit:d=>{d.preventDefault(),go.login({email:e.value,pass:r.value}).then(h=>{console.log("response: ",h),console.log("...you are signed in!"),t(h.user)}).catch(h=>{const v=h.code,m=h.message;console.log(v,m)})},children:[se("h2",{onClick:()=>{a(d=>!d)},children:"Login to add or edit movies"}),l&&It(Zo,{children:[se("label",{htmlFor:"emailField",children:"Email"}),se("input",{id:"emailField",type:"text",placeholder:"enter your email",ref:d=>n(d)}),se("label",{htmlFor:"passField",children:"Password"}),se("input",{id:"passField",type:"text",placeholder:"enter your password",ref:d=>s(d)}),se("button",{type:"submit",children:"login"})]})]})},i4=()=>{const[t,e]=Ce.useState({}),[n,r]=Ce.useState(!0);return Ce.useEffect(()=>{r(!0),go.getLoginObserver(()=>{e({name:t.email||"Guest",logged_in:!!t.email}),r(!1)})},[]),{loading:n,user:t}};const s4=()=>{const{user:t}=i4(),[e,n]=Ce.useState([]),[r,s]=Ce.useState(!0),[l,a]=Ce.useState({});return Ce.useEffect(()=>{a(t)},[t]),Ce.useEffect(()=>{const c=h=>si.isNil(h.val())?[]:Object.entries(h.val()).map(([v,m])=>(m.id=v,m)),d=go.getMoviesRef();return kF(d,h=>{const v=c(h);v.sort((m,y)=>m.title>y.title?1:-1),n(v),s(!1)}),()=>{RF(d)}},[]),r||si.isEmpty(l)?se("div",{className:"loading",children:"loading..."}):(console.log({user:l}),It("div",{className:"App",children:[se("h1",{children:"Mike's Halloween Marathon Suggestions"}),se(UC,{movies:e,user:l}),l.email==="slatron@gmail.com"&&se(Q3,{}),l.name==="Guest"&&se(r4,{setUser:a})]}))};Eh.createRoot(document.getElementById("root")).render(se(BP.StrictMode,{children:se(s4,{})}));
